import{u as F,I as m}from"./favoritesStore-CTEzz-4U.js";import{A as C,I as v,s as b,a as A}from"./AudioPlayerTaigi-CWgaieRU.js";import{L as D}from"./Loader-Cth2euVp.js";import{_ as I}from"./Pinyinzhuyin-aFsnSd4o.js";import{_ as S}from"./index-CmUZZITA.js";import{b as x,A as B,f as s,q as u,g as o,u as n,y as h,t as l,l as r,F as p,D as f,o as t,z as N,G as $}from"./vendor-C5FfeEaS.js";import"./pinyin-web-Brx8g6kF.js";import"./index-BeZKRCO5.js";import"./router-Cvbgimde.js";const L={id:"favorites-page"},V={class:"favorites-header"},E={key:0,class:"favorites-count"},T={key:0},j={key:0,class:"empty-favorites"},z={class:"empty-message"},P={key:1,class:"favorites-list"},q={class:"results favorites-results"},G={key:0,class:$(["word-item","favorite-word-taigi","alphabetic"])},H=["src"],M={class:"favorite-english-chinese"},R={key:0,class:"word-item favorite-word-chinese logographic"},U={class:""},J={key:1,class:"word-item favorite-word-english alphabetic"},K={key:1},O={class:"alphabetic"},Q={class:"logographic"},W={class:"word-actions"},X={class:"favorite-date"},Y={__name:"Favorites",setup(Z){const a=F(),_=x(!1),w=d=>new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),g=async()=>{confirm("Are you sure you want to remove all favorites? This action cannot be undone.")&&(_.value=!0,await a.clearFavorites(),_.value=!1)},y=d=>{b(d)},k=d=>{A(d)};return B(async()=>{_.value=!0,await a.loadFromIndexedDB(),await a.loadFromSupabase(),_.value=!1}),(d,i)=>(t(),s("div",L,[u(D,{loading:_.value},null,8,["loading"]),o("section",V,[i[1]||(i[1]=o("h2",null,"Favorites 我的最愛",-1)),n(a).favorites.length?(t(),s("div",E,[h(l(n(a).favorites.length)+" word",1),n(a).favorites.length!==1?(t(),s("span",T,"s")):r("",!0),i[0]||(i[0]=h(" saved "))])):r("",!0),n(a).favorites.length>0?(t(),s("button",{key:1,onClick:g,class:"clear-favorites-btn"}," Clear All ")):r("",!0)]),n(a).favorites.length===0?(t(),s("section",j,[o("div",z,[u(m,{isFavorited:!1}),i[2]||(i[2]=o("h3",null,"No favorites yet",-1)),i[3]||(i[3]=o("p",null,"Start exploring the dictionary and click the heart icon to save words you'd like to remember!",-1))])])):(t(),s("section",P,[o("ul",q,[(t(!0),s(p,null,f(n(a).favorites,e=>(t(),s("li",{key:e.id,class:"entry favorite-item"},[e.word_data.romaji!=null?(t(),s("div",G,[o("p",null,l(e.word_data.romaji),1),e.word_data.audio_url?(t(),s("audio",{key:0,ref_for:!0,ref:"audio",src:`${e.word_data.audio_url}`,controls:""},null,8,H)):r("",!0),e.word_data.audioid?(t(),N(C,{key:1,audioID:e.word_data.audioid},null,8,["audioID"])):r("",!0)])):r("",!0),o("div",M,[e.word_data.chinese!=null?(t(),s("div",R,[o("span",U,l(e.word_data.chinese),1),u(I,{han:e.word_data.chinese},null,8,["han"]),u(v,{onClick:c=>y(e.word_data.chinese)},null,8,["onClick"])])):r("",!0),e.word_data.english!=null?(t(),s("div",J,[h(l(e.word_data.english)+" ",1),u(v,{onClick:c=>k(e.word_data.english)},null,8,["onClick"])])):r("",!0)]),e.word_data.definitions?(t(),s("ul",K,[(t(!0),s(p,null,f(e.word_data.definitions,c=>(t(),s("li",{key:c.id},[o("ul",null,[o("li",O,l(c.def_english),1),o("li",Q,l(c.def_chinese),1)])]))),128))])):r("",!0),o("div",W,[u(m,{isFavorited:!0,onClick:c=>n(a).removeFavorite(e.word_data.id),title:"Remove from favorites"},null,8,["onClick"])]),o("div",X," Added "+l(w(e.created_at)),1)]))),128))])]))]))}},de=S(Y,[["__scopeId","data-v-521dde19"]]);export{de as default};
