import{c as we,_ as ye}from"./index-CmUZZITA.js";import{o as ve,f as Ce,E as Ee,m as be,g as Se,q as Ae,G as Oe}from"./vendor-C5FfeEaS.js";var xe={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(p,v){(function(i,c){p.exports=c()})(we,function i(){var c=typeof self<"u"?self:typeof window<"u"?window:c!==void 0?c:{},z=!c.document&&!!c.postMessage,W=c.IS_PAPA_WORKER||!1,te={},ie=0,l={parse:function(t,e){var r=(e=e||{}).dynamicTyping||!1;if(m(r)&&(e.dynamicTypingFunction=r,r={}),e.dynamicTyping=r,e.transform=!!m(e.transform)&&e.transform,e.worker&&l.WORKERS_SUPPORTED){var n=function(){if(!l.WORKERS_SUPPORTED)return!1;var f=(T=c.URL||c.webkitURL||null,b=i.toString(),l.BLOB_URL||(l.BLOB_URL=T.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",b,")();"],{type:"text/javascript"})))),d=new c.Worker(f),T,b;return d.onmessage=ke,d.id=ie++,te[d.id]=d}();return n.userStep=e.step,n.userChunk=e.chunk,n.userComplete=e.complete,n.userError=e.error,e.step=m(e.step),e.chunk=m(e.chunk),e.complete=m(e.complete),e.error=m(e.error),delete e.worker,void n.postMessage({input:t,config:e,workerId:n.id})}var a=null;return l.NODE_STREAM_INPUT,typeof t=="string"?(t=function(f){return f.charCodeAt(0)===65279?f.slice(1):f}(t),a=e.download?new oe(e):new se(e)):t.readable===!0&&m(t.read)&&m(t.on)?a=new he(e):(c.File&&t instanceof File||t instanceof Object)&&(a=new ue(e)),a.stream(t)},unparse:function(t,e){var r=!1,n=!0,a=",",f=`\r
`,d='"',T=d+d,b=!1,o=null,A=!1;(function(){if(typeof e=="object"){if(typeof e.delimiter!="string"||l.BAD_DELIMITERS.filter(function(s){return e.delimiter.indexOf(s)!==-1}).length||(a=e.delimiter),(typeof e.quotes=="boolean"||typeof e.quotes=="function"||Array.isArray(e.quotes))&&(r=e.quotes),typeof e.skipEmptyLines!="boolean"&&typeof e.skipEmptyLines!="string"||(b=e.skipEmptyLines),typeof e.newline=="string"&&(f=e.newline),typeof e.quoteChar=="string"&&(d=e.quoteChar),typeof e.header=="boolean"&&(n=e.header),Array.isArray(e.columns)){if(e.columns.length===0)throw new Error("Option columns is empty");o=e.columns}e.escapeChar!==void 0&&(T=e.escapeChar+d),(typeof e.escapeFormulae=="boolean"||e.escapeFormulae instanceof RegExp)&&(A=e.escapeFormulae instanceof RegExp?e.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var h=new RegExp(ae(d),"g");if(typeof t=="string"&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return H(null,t,b);if(typeof t[0]=="object")return H(o||Object.keys(t[0]),t,b)}else if(typeof t=="object")return typeof t.data=="string"&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields||o),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:typeof t.data[0]=="object"?Object.keys(t.data[0]):[]),Array.isArray(t.data[0])||typeof t.data[0]=="object"||(t.data=[t.data])),H(t.fields||[],t.data||[],b);throw new Error("Unable to serialize unrecognized input");function H(s,k,F){var S="";typeof s=="string"&&(s=JSON.parse(s)),typeof k=="string"&&(k=JSON.parse(k));var L=Array.isArray(s)&&0<s.length,I=!Array.isArray(k[0]);if(L&&n){for(var D=0;D<s.length;D++)0<D&&(S+=a),S+=P(s[D],D);0<k.length&&(S+=f)}for(var u=0;u<k.length;u++){var g=L?s.length:k[u].length,w=!1,R=L?Object.keys(k[u]).length===0:k[u].length===0;if(F&&!L&&(w=F==="greedy"?k[u].join("").trim()==="":k[u].length===1&&k[u][0].length===0),F==="greedy"&&L){for(var y=[],M=0;M<g;M++){var O=I?s[M]:M;y.push(k[u][O])}w=y.join("").trim()===""}if(!w){for(var C=0;C<g;C++){0<C&&!R&&(S+=a);var j=L&&I?s[C]:C;S+=P(k[u][j],C)}u<k.length-1&&(!F||0<g&&!R)&&(S+=f)}}return S}function P(s,k){if(s==null)return"";if(s.constructor===Date)return JSON.stringify(s).slice(1,25);var F=!1;A&&typeof s=="string"&&A.test(s)&&(s="'"+s,F=!0);var S=s.toString().replace(h,T);return(F=F||r===!0||typeof r=="function"&&r(s,k)||Array.isArray(r)&&r[k]||function(L,I){for(var D=0;D<I.length;D++)if(-1<L.indexOf(I[D]))return!0;return!1}(S,l.BAD_DELIMITERS)||-1<S.indexOf(a)||S.charAt(0)===" "||S.charAt(S.length-1)===" ")?d+S+d:S}}};if(l.RECORD_SEP="",l.UNIT_SEP="",l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!z&&!!c.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=le,l.ParserHandle=pe,l.NetworkStreamer=oe,l.FileStreamer=ue,l.StringStreamer=se,l.ReadableStreamStreamer=he,c.jQuery){var ne=c.jQuery;ne.fn.parse=function(t){var e=t.config||{},r=[];return this.each(function(f){if(!(ne(this).prop("tagName").toUpperCase()==="INPUT"&&ne(this).attr("type").toLowerCase()==="file"&&c.FileReader)||!this.files||this.files.length===0)return!0;for(var d=0;d<this.files.length;d++)r.push({file:this.files[d],inputElem:this,instanceConfig:ne.extend({},e)})}),n(),this;function n(){if(r.length!==0){var f,d,T,b,o=r[0];if(m(t.before)){var A=t.before(o.file,o.inputElem);if(typeof A=="object"){if(A.action==="abort")return f="AbortError",d=o.file,T=o.inputElem,b=A.reason,void(m(t.error)&&t.error({name:f},d,T,b));if(A.action==="skip")return void a();typeof A.config=="object"&&(o.instanceConfig=ne.extend(o.instanceConfig,A.config))}else if(A==="skip")return void a()}var h=o.instanceConfig.complete;o.instanceConfig.complete=function(H){m(h)&&h(H,o.file,o.inputElem),a()},l.parse(o.file,o.instanceConfig)}else m(t.complete)&&t.complete()}function a(){r.splice(0,1),n()}}}function $(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(e){var r=de(e);r.chunkSize=parseInt(r.chunkSize),e.step||e.chunk||(r.chunkSize=null),this._handle=new pe(r),(this._handle.streamer=this)._config=r}).call(this,t),this.parseChunk=function(e,r){if(this.isFirstChunk&&m(this._config.beforeFirstChunk)){var n=this._config.beforeFirstChunk(e);n!==void 0&&(e=n)}this.isFirstChunk=!1,this._halted=!1;var a=this._partialLine+e;this._partialLine="";var f=this._handle.parse(a,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var d=f.meta.cursor;this._finished||(this._partialLine=a.substring(d-this._baseIndex),this._baseIndex=d),f&&f.data&&(this._rowCount+=f.data.length);var T=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(W)c.postMessage({results:f,workerId:l.WORKER_ID,finished:T});else if(m(this._config.chunk)&&!r){if(this._config.chunk(f,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);f=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(f.data),this._completeResults.errors=this._completeResults.errors.concat(f.errors),this._completeResults.meta=f.meta),this._completed||!T||!m(this._config.complete)||f&&f.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),T||f&&f.meta.paused||this._nextChunk(),f}this._halted=!0},this._sendError=function(e){m(this._config.error)?this._config.error(e):W&&this._config.error&&c.postMessage({workerId:l.WORKER_ID,error:e,finished:!1})}}function oe(t){var e;(t=t||{}).chunkSize||(t.chunkSize=l.RemoteChunkSize),$.call(this,t),this._nextChunk=z?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(r){this._input=r,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),z||(e.onload=Z(this._chunkLoaded,this),e.onerror=Z(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!z),this._config.downloadRequestHeaders){var r=this._config.downloadRequestHeaders;for(var n in r)e.setRequestHeader(n,r[n])}if(this._config.chunkSize){var a=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+a)}try{e.send(this._config.downloadRequestBody)}catch(f){this._chunkError(f.message)}z&&e.status===0&&this._chunkError()}},this._chunkLoaded=function(){e.readyState===4&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(r){var n=r.getResponseHeader("Content-Range");return n===null?-1:parseInt(n.substring(n.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(r){var n=e.statusText||r;this._sendError(new Error(n))}}function ue(t){var e,r;(t=t||{}).chunkSize||(t.chunkSize=l.LocalChunkSize),$.call(this,t);var n=typeof FileReader<"u";this.stream=function(a){this._input=a,r=a.slice||a.webkitSlice||a.mozSlice,n?((e=new FileReader).onload=Z(this._chunkLoaded,this),e.onerror=Z(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var a=this._input;if(this._config.chunkSize){var f=Math.min(this._start+this._config.chunkSize,this._input.size);a=r.call(a,this._start,f)}var d=e.readAsText(a,this._config.encoding);n||this._chunkLoaded({target:{result:d}})},this._chunkLoaded=function(a){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(a.target.result)},this._chunkError=function(){this._sendError(e.error)}}function se(t){var e;$.call(this,t=t||{}),this.stream=function(r){return e=r,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var r,n=this._config.chunkSize;return n?(r=e.substring(0,n),e=e.substring(n)):(r=e,e=""),this._finished=!e,this.parseChunk(r)}}}function he(t){$.call(this,t=t||{});var e=[],r=!0,n=!1;this.pause=function(){$.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){$.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(a){this._input=a,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){n&&e.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):r=!0},this._streamData=Z(function(a){try{e.push(typeof a=="string"?a:a.toString(this._config.encoding)),r&&(r=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(f){this._streamError(f)}},this),this._streamError=Z(function(a){this._streamCleanUp(),this._sendError(a)},this),this._streamEnd=Z(function(){this._streamCleanUp(),n=!0,this._streamData("")},this),this._streamCleanUp=Z(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function pe(t){var e,r,n,a=Math.pow(2,53),f=-a,d=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,T=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,b=this,o=0,A=0,h=!1,H=!1,P=[],s={data:[],errors:[],meta:{}};if(m(t.step)){var k=t.step;t.step=function(u){if(s=u,L())S();else{if(S(),s.data.length===0)return;o+=u.data.length,t.preview&&o>t.preview?r.abort():(s.data=s.data[0],k(s,b))}}}function F(u){return t.skipEmptyLines==="greedy"?u.join("").trim()==="":u.length===1&&u[0].length===0}function S(){return s&&n&&(D("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),n=!1),t.skipEmptyLines&&(s.data=s.data.filter(function(u){return!F(u)})),L()&&function(){if(!s)return;function u(w,R){m(t.transformHeader)&&(w=t.transformHeader(w,R)),P.push(w)}if(Array.isArray(s.data[0])){for(var g=0;L()&&g<s.data.length;g++)s.data[g].forEach(u);s.data.splice(0,1)}else s.data.forEach(u)}(),function(){if(!s||!t.header&&!t.dynamicTyping&&!t.transform)return s;function u(w,R){var y,M=t.header?{}:[];for(y=0;y<w.length;y++){var O=y,C=w[y];t.header&&(O=y>=P.length?"__parsed_extra":P[y]),t.transform&&(C=t.transform(C,O)),C=I(O,C),O==="__parsed_extra"?(M[O]=M[O]||[],M[O].push(C)):M[O]=C}return t.header&&(y>P.length?D("FieldMismatch","TooManyFields","Too many fields: expected "+P.length+" fields but parsed "+y,A+R):y<P.length&&D("FieldMismatch","TooFewFields","Too few fields: expected "+P.length+" fields but parsed "+y,A+R)),M}var g=1;return!s.data.length||Array.isArray(s.data[0])?(s.data=s.data.map(u),g=s.data.length):s.data=u(s.data,0),t.header&&s.meta&&(s.meta.fields=P),A+=g,s}()}function L(){return t.header&&P.length===0}function I(u,g){return w=u,t.dynamicTypingFunction&&t.dynamicTyping[w]===void 0&&(t.dynamicTyping[w]=t.dynamicTypingFunction(w)),(t.dynamicTyping[w]||t.dynamicTyping)===!0?g==="true"||g==="TRUE"||g!=="false"&&g!=="FALSE"&&(function(R){if(d.test(R)){var y=parseFloat(R);if(f<y&&y<a)return!0}return!1}(g)?parseFloat(g):T.test(g)?new Date(g):g===""?null:g):g;var w}function D(u,g,w,R){var y={type:u,code:g,message:w};R!==void 0&&(y.row=R),s.errors.push(y)}this.parse=function(u,g,w){var R=t.quoteChar||'"';if(t.newline||(t.newline=function(O,C){O=O.substring(0,1048576);var j=new RegExp(ae(C)+"([^]*?)"+ae(C),"gm"),U=(O=O.replace(j,"")).split("\r"),K=O.split(`
`),V=1<K.length&&K[0].length<U[0].length;if(U.length===1||V)return`
`;for(var q=0,E=0;E<U.length;E++)U[E][0]===`
`&&q++;return q>=U.length/2?`\r
`:"\r"}(u,R)),n=!1,t.delimiter)m(t.delimiter)&&(t.delimiter=t.delimiter(u),s.meta.delimiter=t.delimiter);else{var y=function(O,C,j,U,K){var V,q,E,x;K=K||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var X=0;X<K.length;X++){var _=K[X],re=0,Q=0,ee=0;E=void 0;for(var J=new le({comments:U,delimiter:_,newline:C,preview:10}).parse(O),G=0;G<J.data.length;G++)if(j&&F(J.data[G]))ee++;else{var Y=J.data[G].length;Q+=Y,E!==void 0?0<Y&&(re+=Math.abs(Y-E),E=Y):E=Y}0<J.data.length&&(Q/=J.data.length-ee),(q===void 0||re<=q)&&(x===void 0||x<Q)&&1.99<Q&&(q=re,V=_,x=Q)}return{successful:!!(t.delimiter=V),bestDelimiter:V}}(u,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);y.successful?t.delimiter=y.bestDelimiter:(n=!0,t.delimiter=l.DefaultDelimiter),s.meta.delimiter=t.delimiter}var M=de(t);return t.preview&&t.header&&M.preview++,e=u,r=new le(M),s=r.parse(e,g,w),S(),h?{meta:{paused:!0}}:s||{meta:{paused:!1}}},this.paused=function(){return h},this.pause=function(){h=!0,r.abort(),e=m(t.chunk)?"":e.substring(r.getCharIndex())},this.resume=function(){b.streamer._halted?(h=!1,b.streamer.parseChunk(e,!0)):setTimeout(b.resume,3)},this.aborted=function(){return H},this.abort=function(){H=!0,r.abort(),s.meta.aborted=!0,m(t.complete)&&t.complete(s),e=""}}function ae(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function le(t){var e,r=(t=t||{}).delimiter,n=t.newline,a=t.comments,f=t.step,d=t.preview,T=t.fastMode,b=e=t.quoteChar===void 0||t.quoteChar===null?'"':t.quoteChar;if(t.escapeChar!==void 0&&(b=t.escapeChar),(typeof r!="string"||-1<l.BAD_DELIMITERS.indexOf(r))&&(r=","),a===r)throw new Error("Comment character same as delimiter");a===!0?a="#":(typeof a!="string"||-1<l.BAD_DELIMITERS.indexOf(a))&&(a=!1),n!==`
`&&n!=="\r"&&n!==`\r
`&&(n=`
`);var o=0,A=!1;this.parse=function(h,H,P){if(typeof h!="string")throw new Error("Input must be a string");var s=h.length,k=r.length,F=n.length,S=a.length,L=m(f),I=[],D=[],u=[],g=o=0;if(!h)return B();if(t.header&&!H){var w=h.split(n)[0].split(r),R=[],y={},M=!1;for(var O in w){var C=w[O];m(t.transformHeader)&&(C=t.transformHeader(C,O));var j=C,U=y[C]||0;for(0<U&&(M=!0,j=C+"_"+U),y[C]=U+1;R.includes(j);)j=j+"_"+U;R.push(j)}if(M){var K=h.split(n);K[0]=R.join(r),h=K.join(n)}}if(T||T!==!1&&h.indexOf(e)===-1){for(var V=h.split(n),q=0;q<V.length;q++){if(u=V[q],o+=u.length,q!==V.length-1)o+=n.length;else if(P)return B();if(!a||u.substring(0,S)!==a){if(L){if(I=[],ee(u.split(r)),fe(),A)return B()}else ee(u.split(r));if(d&&d<=q)return I=I.slice(0,d),B(!0)}}return B()}for(var E=h.indexOf(r,o),x=h.indexOf(n,o),X=new RegExp(ae(b)+ae(e),"g"),_=h.indexOf(e,o);;)if(h[o]!==e)if(a&&u.length===0&&h.substring(o,o+S)===a){if(x===-1)return B();o=x+F,x=h.indexOf(n,o),E=h.indexOf(r,o)}else if(E!==-1&&(E<x||x===-1))u.push(h.substring(o,E)),o=E+k,E=h.indexOf(r,o);else{if(x===-1)break;if(u.push(h.substring(o,x)),Y(x+F),L&&(fe(),A))return B();if(d&&I.length>=d)return B(!0)}else for(_=o,o++;;){if((_=h.indexOf(e,_+1))===-1)return P||D.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:I.length,index:o}),G();if(_===s-1)return G(h.substring(o,_).replace(X,e));if(e!==b||h[_+1]!==b){if(e===b||_===0||h[_-1]!==b){E!==-1&&E<_+1&&(E=h.indexOf(r,_+1)),x!==-1&&x<_+1&&(x=h.indexOf(n,_+1));var re=J(x===-1?E:Math.min(E,x));if(h.substr(_+1+re,k)===r){u.push(h.substring(o,_).replace(X,e)),h[o=_+1+re+k]!==e&&(_=h.indexOf(e,o)),E=h.indexOf(r,o),x=h.indexOf(n,o);break}var Q=J(x);if(h.substring(_+1+Q,_+1+Q+F)===n){if(u.push(h.substring(o,_).replace(X,e)),Y(_+1+Q+F),E=h.indexOf(r,o),_=h.indexOf(e,o),L&&(fe(),A))return B();if(d&&I.length>=d)return B(!0);break}D.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:I.length,index:o}),_++}}else _++}return G();function ee(N){I.push(N),g=o}function J(N){var me=0;if(N!==-1){var ce=h.substring(_+1,N);ce&&ce.trim()===""&&(me=ce.length)}return me}function G(N){return P||(N===void 0&&(N=h.substring(o)),u.push(N),o=s,ee(u),L&&fe()),B()}function Y(N){o=N,ee(u),u=[],x=h.indexOf(n,o)}function B(N){return{data:I,errors:D,meta:{delimiter:r,linebreak:n,aborted:A,truncated:!!N,cursor:g+(H||0)}}}function fe(){f(B()),I=[],D=[]}},this.abort=function(){A=!0},this.getCharIndex=function(){return o}}function ke(t){var e=t.data,r=te[e.workerId],n=!1;if(e.error)r.userError(e.error,e.file);else if(e.results&&e.results.data){var a={abort:function(){n=!0,ge(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_e,resume:_e};if(m(r.userStep)){for(var f=0;f<e.results.data.length&&(r.userStep({data:e.results.data[f],errors:e.results.errors,meta:e.results.meta},a),!n);f++);delete e.results}else m(r.userChunk)&&(r.userChunk(e.results,a,e.file),delete e.results)}e.finished&&!n&&ge(e.workerId,e.results)}function ge(t,e){var r=te[t];m(r.userComplete)&&r.userComplete(e),r.terminate(),delete te[t]}function _e(){throw new Error("Not implemented.")}function de(t){if(typeof t!="object"||t===null)return t;var e=Array.isArray(t)?[]:{};for(var r in t)e[r]=de(t[r]);return e}function Z(t,e){return function(){t.apply(e,arguments)}}function m(t){return typeof t=="function"}return W&&(c.onmessage=function(t){var e=t.data;if(l.WORKER_ID===void 0&&e&&(l.WORKER_ID=e.workerId),typeof e.input=="string")c.postMessage({workerId:l.WORKER_ID,results:l.parse(e.input,e.config),finished:!0});else if(c.File&&e.input instanceof File||e.input instanceof Object){var r=l.parse(e.input,e.config);r&&c.postMessage({workerId:l.WORKER_ID,results:r,finished:!0})}}),(oe.prototype=Object.create($.prototype)).constructor=oe,(ue.prototype=Object.create($.prototype)).constructor=ue,(se.prototype=Object.create(se.prototype)).constructor=se,(he.prototype=Object.create($.prototype)).constructor=he,l})})(xe);async function qe(p){let v=window.speechSynthesis.getVoices();v.length===0&&(await new Promise(c=>window.speechSynthesis.addEventListener("voiceschanged",c,{once:!0})),v=window.speechSynthesis.getVoices());const i=new SpeechSynthesisUtterance(p);i.lang="zh-TW",i.voice=v.find(c=>c.name==="Meijia"),window.speechSynthesis.speak(i)}async function Be(p){let v=window.speechSynthesis.getVoices();v.length===0&&(await new Promise(z=>window.speechSynthesis.addEventListener("voiceschanged",z,{once:!0})),v=window.speechSynthesis.getVoices());const i=v.filter(z=>z.lang==="en-US");console.log(i);const c=new SpeechSynthesisUtterance(p);c.lang="en-US",c.voice=v.find(z=>z.name==="Samantha"),window.speechSynthesis.speak(c)}const Re={},Ie={class:"icon-button"};function De(p,v){return ve(),Ce("div",Ie,v[0]||(v[0]=[Ee('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_77_222)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 4.19402V19.806C15.0001 20.0082 14.9444 20.2065 14.8391 20.3792C14.7338 20.5518 14.583 20.6921 14.4031 20.7845C14.2233 20.877 14.0215 20.9182 13.8198 20.9034C13.6182 20.8887 13.4245 20.8187 13.26 20.701L6.68 16H4C3.46957 16 2.96086 15.7893 2.58579 15.4142C2.21071 15.0392 2 14.5304 2 14V10C2 9.46958 2.21071 8.96087 2.58579 8.5858C2.96086 8.21073 3.46957 8.00002 4 8.00002H6.68L13.26 3.30002C13.4244 3.18242 13.618 3.11239 13.8196 3.09761C14.0212 3.08283 14.2229 3.12388 14.4027 3.21625C14.5825 3.30862 14.7333 3.44874 14.8387 3.62123C14.9441 3.79371 14.9999 3.99189 15 4.19402ZM13 5.94402L7.842 9.62602C7.50311 9.86873 7.09684 9.99949 6.68 10H4V14H6.68C7.09662 14 7.50287 14.13 7.842 14.372L13 18.057V5.94402ZM18.255 6.86102C18.4319 6.66344 18.68 6.54423 18.9448 6.5296C19.2096 6.51497 19.4694 6.60613 19.667 6.78302C20.4017 7.43897 20.9894 8.24289 21.3915 9.142C21.7935 10.0411 22.0009 11.0151 22 12C22.0009 12.9849 21.7935 13.9589 21.3915 14.858C20.9894 15.7571 20.4017 16.5611 19.667 17.217C19.5694 17.306 19.4551 17.3748 19.3308 17.4195C19.2064 17.4641 19.0745 17.4836 18.9426 17.4769C18.8106 17.4702 18.6813 17.4375 18.5621 17.3806C18.4429 17.3236 18.3362 17.2436 18.2481 17.1452C18.1599 17.0468 18.0922 16.9319 18.0487 16.8072C18.0053 16.6824 17.987 16.5503 17.9949 16.4184C18.0028 16.2865 18.0367 16.1576 18.0948 16.0389C18.1528 15.9202 18.2338 15.8142 18.333 15.727C18.8582 15.2586 19.2782 14.6844 19.5656 14.042C19.8529 13.3996 20.0009 12.7037 20 12C20 10.52 19.358 9.19002 18.333 8.27302C18.1354 8.09611 18.0162 7.84797 18.0016 7.58317C17.987 7.31837 18.0781 7.05861 18.255 6.86102ZM17.667 9.01902C18.0868 9.39387 18.4225 9.85324 18.6522 10.367C18.882 10.8807 19.0005 11.4372 19 12C19.0006 12.5628 18.8822 13.1194 18.6524 13.6331C18.4227 14.1469 18.0869 14.6062 17.667 14.981C17.4774 15.1494 17.2308 15.2395 16.9773 15.233C16.7237 15.2265 16.4821 15.1239 16.3014 14.9459C16.1206 14.768 16.0143 14.528 16.0038 14.2746C15.9933 14.0212 16.0796 13.7733 16.245 13.581L16.333 13.491C16.743 13.123 17 12.592 17 12C17.0012 11.4879 16.8049 10.9951 16.452 10.624L16.333 10.509C16.1382 10.3314 16.0215 10.084 16.0082 9.82073C15.9949 9.55745 16.086 9.29957 16.2619 9.10317C16.4377 8.90677 16.684 8.78775 16.9471 8.77199C17.2103 8.75623 17.469 8.84501 17.667 9.01902Z" fill="#ACABB5"></path></g><defs><clipPath id="clip0_77_222"><rect width="24" height="24" fill="white"></rect></clipPath></defs></svg>',1)]))}const Te=ye(Re,[["render",De]]),Le={props:{audioID:{type:String,required:!0}},components:{IconPlayAudio:Te},data(){return{isPlaying:!1,hasError:!1,baseSrc:"/src/assets/audio_taigi/"}},computed:{audioSrc(){if(!this.audioID)return"";const p=this.getAudioFolder(this.audioID);if(p==="Out of range")return"";const i=`https://oqwvljqwtearyepyaslo.supabase.co/storage/v1/object/public/audio-files/${`${p}/${this.audioID}.mp3`}`;return console.log(`Audio source path: ${i}`),i}},methods:{togglePlay(){if(this.hasError||!this.audioSrc){console.warn("Audio not available");return}const p=this.$refs.audio;p&&this.checkAudioExists().then(v=>{if(!v){console.warn(`Audio file not found: ${this.audioSrc}`),this.hasError=!0;return}try{this.isPlaying?p.pause():p.play().catch(i=>{console.error("Error playing audio:",i),this.hasError=!0}),this.isPlaying=!this.isPlaying}catch(i){console.error("Error toggling audio:",i),this.hasError=!0}})},async checkAudioExists(){try{return(await fetch(this.audioSrc,{method:"HEAD"})).ok}catch(p){return console.error("Error checking audio file:",p),!1}},audioEnded(){this.isPlaying=!1},handleAudioError(p){console.error("Audio error for path:",this.audioSrc,p),this.hasError=!0,this.isPlaying=!1},getAudioFolder(p){if(!p)return"Out of range";try{const v=p.match(/^(\d+)\(/);if(!v)return"Out of range";const i=parseInt(v[1]);return i<1e3?"0":i>=1e3&&i<2e3?"1":i>=2e3&&i<3e3?"2":i>=3e3&&i<4e3?"3":i>=4e3&&i<5e3?"4":i>=5e3&&i<6e3?"5":i>=6e3&&i<7e3?"6":i>=7e3&&i<8e3?"7":i>=8e3&&i<9e3?"8":i>=9e3&&i<1e4?"9":i>=1e4&&i<11e3?"10":i>=11e3&&i<12e3?"11":i>=12e3&&i<13e3?"12":i>=13e3&&i<14e3?"13":i>=14e3&&i<15e3?"14":i>=15e3&&i<16e3?"15":i>=16e3&&i<17e3?"16":i>=17e3&&i<18e3?"17":i>=18e3&&i<19e3?"18":i>=19e3&&i<2e4?"19":i>=2e4&&i<21e3?"20":i>=21e3&&i<22e3?"21":i>=22e3&&i<23e3?"22":i>=23e3&&i<24e3?"23":i>=24e3&&i<25e3?"24":i>=25e3&&i<26e3?"25":i>=26e3&&i<27e3?"26":i>=27e3&&i<28e3?"27":i>=28e3&&i<29e3?"28":"Out of range"}catch(v){return console.error("Error parsing audio ID:",v),"Out of range"}}},mounted(){const p=this.$refs.audio;p&&p.load()},beforeDestroy(){const p=this.$refs.audio;p&&(p.pause(),p.src="")}},Pe={class:"audio-player"},Fe=["src"];function Me(p,v,i,c,z,W){const te=be("IconPlayAudio");return ve(),Ce("div",Pe,[Se("audio",{ref:"audio",src:W.audioSrc,onEnded:v[0]||(v[0]=(...ie)=>W.audioEnded&&W.audioEnded(...ie)),onError:v[1]||(v[1]=(...ie)=>W.handleAudioError&&W.handleAudioError(...ie)),preload:"none"},null,40,Fe),Ae(te,{onClick:W.togglePlay,class:Oe({playing:z.isPlaying})},null,8,["onClick","class"])])}const Ne=ye(Le,[["render",Me],["__scopeId","data-v-22f643f5"]]);export{Ne as A,Te as I,Be as a,qe as s};
