(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();/**
* @vue/shared v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function No(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const rt={},_r=[],un=()=>{},Gc=()=>!1,rs=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Bo=t=>t.startsWith("onUpdate:"),At=Object.assign,qo=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Qc=Object.prototype.hasOwnProperty,Je=(t,e)=>Qc.call(t,e),xe=Array.isArray,br=t=>oi(t)==="[object Map]",is=t=>oi(t)==="[object Set]",za=t=>oi(t)==="[object Date]",Pe=t=>typeof t=="function",mt=t=>typeof t=="string",cn=t=>typeof t=="symbol",lt=t=>t!==null&&typeof t=="object",Hl=t=>(lt(t)||Pe(t))&&Pe(t.then)&&Pe(t.catch),zl=Object.prototype.toString,oi=t=>zl.call(t),Yc=t=>oi(t).slice(8,-1),Wl=t=>oi(t)==="[object Object]",Vo=t=>mt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Wr=No(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ss=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Xc=/-(\w)/g,Xt=ss(t=>t.replace(Xc,(e,n)=>n?n.toUpperCase():"")),Zc=/\B([A-Z])/g,Mn=ss(t=>t.replace(Zc,"-$1").toLowerCase()),os=ss(t=>t.charAt(0).toUpperCase()+t.slice(1)),to=ss(t=>t?`on${os(t)}`:""),Ln=(t,e)=>!Object.is(t,e),Vi=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Jl=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},_o=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Wa;const Gl=()=>Wa||(Wa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ho(t){if(xe(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=mt(r)?rf(r):Ho(r);if(s)for(const a in s)e[a]=s[a]}return e}else if(mt(t)||lt(t))return t}const ef=/;(?![^(]*\))/g,tf=/:([^]+)/,nf=/\/\*[^]*?\*\//g;function rf(t){const e={};return t.replace(nf,"").split(ef).forEach(n=>{if(n){const r=n.split(tf);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function zo(t){let e="";if(mt(t))e=t;else if(xe(t))for(let n=0;n<t.length;n++){const r=zo(t[n]);r&&(e+=r+" ")}else if(lt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const sf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",of=No(sf);function Ql(t){return!!t||t===""}function af(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=as(t[r],e[r]);return n}function as(t,e){if(t===e)return!0;let n=za(t),r=za(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=cn(t),r=cn(e),n||r)return t===e;if(n=xe(t),r=xe(e),n||r)return n&&r?af(t,e):!1;if(n=lt(t),r=lt(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,a=Object.keys(e).length;if(s!==a)return!1;for(const l in t){const c=t.hasOwnProperty(l),h=e.hasOwnProperty(l);if(c&&!h||!c&&h||!as(t[l],e[l]))return!1}}return String(t)===String(e)}function Yl(t,e){return t.findIndex(n=>as(n,e))}const Xl=t=>!!(t&&t.__v_isRef===!0),Ot=t=>mt(t)?t:t==null?"":xe(t)||lt(t)&&(t.toString===zl||!Pe(t.toString))?Xl(t)?Ot(t.value):JSON.stringify(t,Zl,2):String(t),Zl=(t,e)=>Xl(e)?Zl(t,e.value):br(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],a)=>(n[no(r,a)+" =>"]=s,n),{})}:is(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>no(n))}:cn(e)?no(e):lt(e)&&!xe(e)&&!Wl(e)?String(e):e,no=(t,e="")=>{var n;return cn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ht;class lf{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ht,!e&&Ht&&(this.index=(Ht.scopes||(Ht.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Ht;try{return Ht=this,e()}finally{Ht=n}}}on(){Ht=this}off(){Ht=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function uf(){return Ht}let ot;const ro=new WeakSet;class eu{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ht&&Ht.active&&Ht.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ro.has(this)&&(ro.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||nu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ja(this),ru(this);const e=ot,n=nn;ot=this,nn=!0;try{return this.fn()}finally{iu(this),ot=e,nn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Go(e);this.deps=this.depsTail=void 0,Ja(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ro.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){bo(this)&&this.run()}get dirty(){return bo(this)}}let tu=0,mr;function nu(t){t.flags|=8,t.next=mr,mr=t}function Wo(){tu++}function Jo(){if(--tu>0)return;let t;for(;mr;){let e=mr,n;for(;e;)e.flags&1||(e.flags&=-9),e=e.next;for(e=mr,mr=void 0;e;){if(n=e.next,e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function ru(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function iu(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Go(r),cf(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function bo(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(su(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function su(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ei))return;t.globalVersion=ei;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!bo(t)){t.flags&=-3;return}const n=ot,r=nn;ot=t,nn=!0;try{ru(t);const s=t.fn(t._value);(e.version===0||Ln(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{ot=n,nn=r,iu(t),t.flags&=-3}}function Go(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r),!n.subs&&n.computed){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)Go(a,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function cf(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let nn=!0;const ou=[];function Fn(){ou.push(nn),nn=!1}function Un(){const t=ou.pop();nn=t===void 0?!0:t}function Ja(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=ot;ot=void 0;try{e()}finally{ot=n}}}let ei=0;class ff{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Qo{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.target=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!ot||!nn||ot===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ot)n=this.activeLink=new ff(ot,this),ot.deps?(n.prevDep=ot.depsTail,ot.depsTail.nextDep=n,ot.depsTail=n):ot.deps=ot.depsTail=n,au(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=ot.depsTail,n.nextDep=void 0,ot.depsTail.nextDep=n,ot.depsTail=n,ot.deps===n&&(ot.deps=r)}return n}trigger(e){this.version++,ei++,this.notify(e)}notify(e){Wo();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Jo()}}}function au(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)au(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const wo=new WeakMap,er=Symbol(""),ko=Symbol(""),ti=Symbol("");function jt(t,e,n){if(nn&&ot){let r=wo.get(t);r||wo.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new Qo),s.target=t,s.map=r,s.key=n),s.track()}}function _n(t,e,n,r,s,a){const l=wo.get(t);if(!l){ei++;return}const c=h=>{h&&h.trigger()};if(Wo(),e==="clear")l.forEach(c);else{const h=xe(t),y=h&&Vo(n);if(h&&n==="length"){const p=Number(r);l.forEach((_,P)=>{(P==="length"||P===ti||!cn(P)&&P>=p)&&c(_)})}else switch(n!==void 0&&c(l.get(n)),y&&c(l.get(ti)),e){case"add":h?y&&c(l.get("length")):(c(l.get(er)),br(t)&&c(l.get(ko)));break;case"delete":h||(c(l.get(er)),br(t)&&c(l.get(ko)));break;case"set":br(t)&&c(l.get(er));break}}Jo()}function dr(t){const e=Ge(t);return e===t?e:(jt(e,"iterate",ti),Yt(t)?e:e.map(Ct))}function ls(t){return jt(t=Ge(t),"iterate",ti),t}const hf={__proto__:null,[Symbol.iterator](){return io(this,Symbol.iterator,Ct)},concat(...t){return dr(this).concat(...t.map(e=>xe(e)?dr(e):e))},entries(){return io(this,"entries",t=>(t[1]=Ct(t[1]),t))},every(t,e){return gn(this,"every",t,e,void 0,arguments)},filter(t,e){return gn(this,"filter",t,e,n=>n.map(Ct),arguments)},find(t,e){return gn(this,"find",t,e,Ct,arguments)},findIndex(t,e){return gn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return gn(this,"findLast",t,e,Ct,arguments)},findLastIndex(t,e){return gn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return gn(this,"forEach",t,e,void 0,arguments)},includes(...t){return so(this,"includes",t)},indexOf(...t){return so(this,"indexOf",t)},join(t){return dr(this).join(t)},lastIndexOf(...t){return so(this,"lastIndexOf",t)},map(t,e){return gn(this,"map",t,e,void 0,arguments)},pop(){return Kr(this,"pop")},push(...t){return Kr(this,"push",t)},reduce(t,...e){return Ga(this,"reduce",t,e)},reduceRight(t,...e){return Ga(this,"reduceRight",t,e)},shift(){return Kr(this,"shift")},some(t,e){return gn(this,"some",t,e,void 0,arguments)},splice(...t){return Kr(this,"splice",t)},toReversed(){return dr(this).toReversed()},toSorted(t){return dr(this).toSorted(t)},toSpliced(...t){return dr(this).toSpliced(...t)},unshift(...t){return Kr(this,"unshift",t)},values(){return io(this,"values",Ct)}};function io(t,e,n){const r=ls(t),s=r[e]();return r!==t&&!Yt(t)&&(s._next=s.next,s.next=()=>{const a=s._next();return a.value&&(a.value=n(a.value)),a}),s}const df=Array.prototype;function gn(t,e,n,r,s,a){const l=ls(t),c=l!==t&&!Yt(t),h=l[e];if(h!==df[e]){const _=h.apply(t,a);return c?Ct(_):_}let y=n;l!==t&&(c?y=function(_,P){return n.call(this,Ct(_),P,t)}:n.length>2&&(y=function(_,P){return n.call(this,_,P,t)}));const p=h.call(l,y,r);return c&&s?s(p):p}function Ga(t,e,n,r){const s=ls(t);let a=n;return s!==t&&(Yt(t)?n.length>3&&(a=function(l,c,h){return n.call(this,l,c,h,t)}):a=function(l,c,h){return n.call(this,l,Ct(c),h,t)}),s[e](a,...r)}function so(t,e,n){const r=Ge(t);jt(r,"iterate",ti);const s=r[e](...n);return(s===-1||s===!1)&&ta(n[0])?(n[0]=Ge(n[0]),r[e](...n)):s}function Kr(t,e,n=[]){Fn(),Wo();const r=Ge(t)[e].apply(t,n);return Jo(),Un(),r}const pf=No("__proto__,__v_isRef,__isVue"),lu=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(cn));function gf(t){cn(t)||(t=String(t));const e=Ge(this);return jt(e,"has",t),e.hasOwnProperty(t)}class uu{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const s=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return a;if(n==="__v_raw")return r===(s?a?Pf:du:a?hu:fu).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const l=xe(e);if(!s){let h;if(l&&(h=hf[n]))return h;if(n==="hasOwnProperty")return gf}const c=Reflect.get(e,n,Tt(e)?e:r);return(cn(n)?lu.has(n):pf(n))||(s||jt(e,"get",n),a)?c:Tt(c)?l&&Vo(n)?c:c.value:lt(c)?s?pu(c):Zo(c):c}}class cu extends uu{constructor(e=!1){super(!1,e)}set(e,n,r,s){let a=e[n];if(!this._isShallow){const h=tr(a);if(!Yt(r)&&!tr(r)&&(a=Ge(a),r=Ge(r)),!xe(e)&&Tt(a)&&!Tt(r))return h?!1:(a.value=r,!0)}const l=xe(e)&&Vo(n)?Number(n)<e.length:Je(e,n),c=Reflect.set(e,n,r,Tt(e)?e:s);return e===Ge(s)&&(l?Ln(r,a)&&_n(e,"set",n,r):_n(e,"add",n,r)),c}deleteProperty(e,n){const r=Je(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&_n(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!cn(n)||!lu.has(n))&&jt(e,"has",n),r}ownKeys(e){return jt(e,"iterate",xe(e)?"length":er),Reflect.ownKeys(e)}}class yf extends uu{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const vf=new cu,mf=new yf,_f=new cu(!0);const Yo=t=>t,us=t=>Reflect.getPrototypeOf(t);function Di(t,e,n=!1,r=!1){t=t.__v_raw;const s=Ge(t),a=Ge(e);n||(Ln(e,a)&&jt(s,"get",e),jt(s,"get",a));const{has:l}=us(s),c=r?Yo:n?na:Ct;if(l.call(s,e))return c(t.get(e));if(l.call(s,a))return c(t.get(a));t!==s&&t.get(e)}function $i(t,e=!1){const n=this.__v_raw,r=Ge(n),s=Ge(t);return e||(Ln(t,s)&&jt(r,"has",t),jt(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function Li(t,e=!1){return t=t.__v_raw,!e&&jt(Ge(t),"iterate",er),Reflect.get(t,"size",t)}function Qa(t,e=!1){!e&&!Yt(t)&&!tr(t)&&(t=Ge(t));const n=Ge(this);return us(n).has.call(n,t)||(n.add(t),_n(n,"add",t,t)),this}function Ya(t,e,n=!1){!n&&!Yt(e)&&!tr(e)&&(e=Ge(e));const r=Ge(this),{has:s,get:a}=us(r);let l=s.call(r,t);l||(t=Ge(t),l=s.call(r,t));const c=a.call(r,t);return r.set(t,e),l?Ln(e,c)&&_n(r,"set",t,e):_n(r,"add",t,e),this}function Xa(t){const e=Ge(this),{has:n,get:r}=us(e);let s=n.call(e,t);s||(t=Ge(t),s=n.call(e,t)),r&&r.call(e,t);const a=e.delete(t);return s&&_n(e,"delete",t,void 0),a}function Za(){const t=Ge(this),e=t.size!==0,n=t.clear();return e&&_n(t,"clear",void 0,void 0),n}function Mi(t,e){return function(r,s){const a=this,l=a.__v_raw,c=Ge(l),h=e?Yo:t?na:Ct;return!t&&jt(c,"iterate",er),l.forEach((y,p)=>r.call(s,h(y),h(p),a))}}function Fi(t,e,n){return function(...r){const s=this.__v_raw,a=Ge(s),l=br(a),c=t==="entries"||t===Symbol.iterator&&l,h=t==="keys"&&l,y=s[t](...r),p=n?Yo:e?na:Ct;return!e&&jt(a,"iterate",h?ko:er),{next(){const{value:_,done:P}=y.next();return P?{value:_,done:P}:{value:c?[p(_[0]),p(_[1])]:p(_),done:P}},[Symbol.iterator](){return this}}}}function Cn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function bf(){const t={get(a){return Di(this,a)},get size(){return Li(this)},has:$i,add:Qa,set:Ya,delete:Xa,clear:Za,forEach:Mi(!1,!1)},e={get(a){return Di(this,a,!1,!0)},get size(){return Li(this)},has:$i,add(a){return Qa.call(this,a,!0)},set(a,l){return Ya.call(this,a,l,!0)},delete:Xa,clear:Za,forEach:Mi(!1,!0)},n={get(a){return Di(this,a,!0)},get size(){return Li(this,!0)},has(a){return $i.call(this,a,!0)},add:Cn("add"),set:Cn("set"),delete:Cn("delete"),clear:Cn("clear"),forEach:Mi(!0,!1)},r={get(a){return Di(this,a,!0,!0)},get size(){return Li(this,!0)},has(a){return $i.call(this,a,!0)},add:Cn("add"),set:Cn("set"),delete:Cn("delete"),clear:Cn("clear"),forEach:Mi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{t[a]=Fi(a,!1,!1),n[a]=Fi(a,!0,!1),e[a]=Fi(a,!1,!0),r[a]=Fi(a,!0,!0)}),[t,n,e,r]}const[wf,kf,xf,Ef]=bf();function Xo(t,e){const n=e?t?Ef:xf:t?kf:wf;return(r,s,a)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Je(n,s)&&s in r?n:r,s,a)}const Sf={get:Xo(!1,!1)},Of={get:Xo(!1,!0)},Cf={get:Xo(!0,!1)};const fu=new WeakMap,hu=new WeakMap,du=new WeakMap,Pf=new WeakMap;function Tf(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Af(t){return t.__v_skip||!Object.isExtensible(t)?0:Tf(Yc(t))}function Zo(t){return tr(t)?t:ea(t,!1,vf,Sf,fu)}function jf(t){return ea(t,!1,_f,Of,hu)}function pu(t){return ea(t,!0,mf,Cf,du)}function ea(t,e,n,r,s){if(!lt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const a=s.get(t);if(a)return a;const l=Af(t);if(l===0)return t;const c=new Proxy(t,l===2?r:n);return s.set(t,c),c}function wr(t){return tr(t)?wr(t.__v_raw):!!(t&&t.__v_isReactive)}function tr(t){return!!(t&&t.__v_isReadonly)}function Yt(t){return!!(t&&t.__v_isShallow)}function ta(t){return t?!!t.__v_raw:!1}function Ge(t){const e=t&&t.__v_raw;return e?Ge(e):t}function Rf(t){return!Je(t,"__v_skip")&&Object.isExtensible(t)&&Jl(t,"__v_skip",!0),t}const Ct=t=>lt(t)?Zo(t):t,na=t=>lt(t)?pu(t):t;function Tt(t){return t?t.__v_isRef===!0:!1}function Gt(t){return If(t,!1)}function If(t,e){return Tt(t)?t:new Df(t,e)}class Df{constructor(e,n){this.dep=new Qo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ge(e),this._value=n?e:Ct(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Yt(e)||tr(e);e=r?e:Ge(e),Ln(e,n)&&(this._rawValue=e,this._value=r?e:Ct(e),this.dep.trigger())}}function $f(t){return Tt(t)?t.value:t}const Lf={get:(t,e,n)=>e==="__v_raw"?t:$f(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Tt(s)&&!Tt(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function gu(t){return wr(t)?t:new Proxy(t,Lf)}class Mf{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Qo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ei-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ot!==this)return nu(this),!0}get value(){const e=this.dep.track();return su(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Ff(t,e,n=!1){let r,s;return Pe(t)?r=t:(r=t.get,s=t.set),new Mf(r,s,n)}const Ui={},Gi=new WeakMap;let Qn;function Uf(t,e=!1,n=Qn){if(n){let r=Gi.get(n);r||Gi.set(n,r=[]),r.push(t)}}function Kf(t,e,n=rt){const{immediate:r,deep:s,once:a,scheduler:l,augmentJob:c,call:h}=n,y=fe=>s?fe:Yt(fe)||s===!1||s===0?mn(fe,1):mn(fe);let p,_,P,H,oe=!1,ee=!1;if(Tt(t)?(_=()=>t.value,oe=Yt(t)):wr(t)?(_=()=>y(t),oe=!0):xe(t)?(ee=!0,oe=t.some(fe=>wr(fe)||Yt(fe)),_=()=>t.map(fe=>{if(Tt(fe))return fe.value;if(wr(fe))return y(fe);if(Pe(fe))return h?h(fe,2):fe()})):Pe(t)?e?_=h?()=>h(t,2):t:_=()=>{if(P){Fn();try{P()}finally{Un()}}const fe=Qn;Qn=p;try{return h?h(t,3,[H]):t(H)}finally{Qn=fe}}:_=un,e&&s){const fe=_,Me=s===!0?1/0:s;_=()=>mn(fe(),Me)}const ve=uf(),_e=()=>{p.stop(),ve&&qo(ve.effects,p)};if(a&&e){const fe=e;e=(...Me)=>{fe(...Me),_e()}}let Re=ee?new Array(t.length).fill(Ui):Ui;const Ie=fe=>{if(!(!(p.flags&1)||!p.dirty&&!fe))if(e){const Me=p.run();if(s||oe||(ee?Me.some((Ze,be)=>Ln(Ze,Re[be])):Ln(Me,Re))){P&&P();const Ze=Qn;Qn=p;try{const be=[Me,Re===Ui?void 0:ee&&Re[0]===Ui?[]:Re,H];h?h(e,3,be):e(...be),Re=Me}finally{Qn=Ze}}}else p.run()};return c&&c(Ie),p=new eu(_),p.scheduler=l?()=>l(Ie,!1):Ie,H=fe=>Uf(fe,!1,p),P=p.onStop=()=>{const fe=Gi.get(p);if(fe){if(h)h(fe,4);else for(const Me of fe)Me();Gi.delete(p)}},e?r?Ie(!0):Re=p.run():l?l(Ie.bind(null,!0),!0):p.run(),_e.pause=p.pause.bind(p),_e.resume=p.resume.bind(p),_e.stop=_e,_e}function mn(t,e=1/0,n){if(e<=0||!lt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Tt(t))mn(t.value,e,n);else if(xe(t))for(let r=0;r<t.length;r++)mn(t[r],e,n);else if(is(t)||br(t))t.forEach(r=>{mn(r,e,n)});else if(Wl(t)){for(const r in t)mn(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&mn(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ai(t,e,n,r){try{return r?t(...r):t()}catch(s){cs(s,e,n)}}function fn(t,e,n,r){if(Pe(t)){const s=ai(t,e,n,r);return s&&Hl(s)&&s.catch(a=>{cs(a,e,n)}),s}if(xe(t)){const s=[];for(let a=0;a<t.length;a++)s.push(fn(t[a],e,n,r));return s}}function cs(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:l}=e&&e.appContext.config||rt;if(e){let c=e.parent;const h=e.proxy,y=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const p=c.ec;if(p){for(let _=0;_<p.length;_++)if(p[_](t,h,y)===!1)return}c=c.parent}if(a){Fn(),ai(a,null,10,[t,h,y]),Un();return}}Nf(t,n,s,r,l)}function Nf(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}let ni=!1,xo=!1;const $t=[];let an=0;const kr=[];let An=null,vr=0;const yu=Promise.resolve();let ra=null;function Bf(t){const e=ra||yu;return t?e.then(this?t.bind(this):t):e}function qf(t){let e=ni?an+1:0,n=$t.length;for(;e<n;){const r=e+n>>>1,s=$t[r],a=ri(s);a<t||a===t&&s.flags&2?e=r+1:n=r}return e}function ia(t){if(!(t.flags&1)){const e=ri(t),n=$t[$t.length-1];!n||!(t.flags&2)&&e>=ri(n)?$t.push(t):$t.splice(qf(e),0,t),t.flags|=1,vu()}}function vu(){!ni&&!xo&&(xo=!0,ra=yu.then(_u))}function Vf(t){xe(t)?kr.push(...t):An&&t.id===-1?An.splice(vr+1,0,t):t.flags&1||(kr.push(t),t.flags|=1),vu()}function el(t,e,n=ni?an+1:0){for(;n<$t.length;n++){const r=$t[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;$t.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function mu(t){if(kr.length){const e=[...new Set(kr)].sort((n,r)=>ri(n)-ri(r));if(kr.length=0,An){An.push(...e);return}for(An=e,vr=0;vr<An.length;vr++){const n=An[vr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}An=null,vr=0}}const ri=t=>t.id==null?t.flags&2?-1:1/0:t.id;function _u(t){xo=!1,ni=!0;try{for(an=0;an<$t.length;an++){const e=$t[an];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ai(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;an<$t.length;an++){const e=$t[an];e&&(e.flags&=-2)}an=0,$t.length=0,mu(),ni=!1,ra=null,($t.length||kr.length)&&_u()}}let zt=null,bu=null;function Qi(t){const e=zt;return zt=t,bu=t&&t.type.__scopeId||null,e}function Hf(t,e=zt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&ul(-1);const a=Qi(e);let l;try{l=t(...s)}finally{Qi(a),r._d&&ul(1)}return l};return r._n=!0,r._c=!0,r._d=!0,r}function Ft(t,e){if(zt===null)return t;const n=gs(zt),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[a,l,c,h=rt]=e[s];a&&(Pe(a)&&(a={mounted:a,updated:a}),a.deep&&mn(l),r.push({dir:a,instance:n,value:l,oldValue:void 0,arg:c,modifiers:h}))}return t}function Wn(t,e,n,r){const s=t.dirs,a=e&&e.dirs;for(let l=0;l<s.length;l++){const c=s[l];a&&(c.oldValue=a[l].value);let h=c.dir[r];h&&(Fn(),fn(h,n,8,[t.el,c,t,e]),Un())}}const zf=Symbol("_vte"),Wf=t=>t.__isTeleport;function sa(t,e){t.shapeFlag&6&&t.component?(t.transition=e,sa(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function wu(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Eo(t,e,n,r,s=!1){if(xe(t)){t.forEach((oe,ee)=>Eo(oe,e&&(xe(e)?e[ee]:e),n,r,s));return}if(Jr(r)&&!s)return;const a=r.shapeFlag&4?gs(r.component):r.el,l=s?null:a,{i:c,r:h}=t,y=e&&e.r,p=c.refs===rt?c.refs={}:c.refs,_=c.setupState,P=Ge(_),H=_===rt?()=>!1:oe=>Je(P,oe);if(y!=null&&y!==h&&(mt(y)?(p[y]=null,H(y)&&(_[y]=null)):Tt(y)&&(y.value=null)),Pe(h))ai(h,c,12,[l,p]);else{const oe=mt(h),ee=Tt(h);if(oe||ee){const ve=()=>{if(t.f){const _e=oe?H(h)?_[h]:p[h]:h.value;s?xe(_e)&&qo(_e,a):xe(_e)?_e.includes(a)||_e.push(a):oe?(p[h]=[a],H(h)&&(_[h]=p[h])):(h.value=[a],t.k&&(p[t.k]=h.value))}else oe?(p[h]=l,H(h)&&(_[h]=l)):ee&&(h.value=l,t.k&&(p[t.k]=l))};l?(ve.id=-1,qt(ve,n)):ve()}}}const Jr=t=>!!t.type.__asyncLoader,ku=t=>t.type.__isKeepAlive;function Jf(t,e){xu(t,"a",e)}function Gf(t,e){xu(t,"da",e)}function xu(t,e,n=Pt){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(fs(e,r,n),n){let s=n.parent;for(;s&&s.parent;)ku(s.parent.vnode)&&Qf(r,e,n,s),s=s.parent}}function Qf(t,e,n,r){const s=fs(e,t,r,!0);Eu(()=>{qo(r[e],s)},n)}function fs(t,e,n=Pt,r=!1){if(n){const s=n[t]||(n[t]=[]),a=e.__weh||(e.__weh=(...l)=>{Fn();const c=li(n),h=fn(e,n,t,l);return c(),Un(),h});return r?s.unshift(a):s.push(a),a}}const bn=t=>(e,n=Pt)=>{(!ps||t==="sp")&&fs(t,(...r)=>e(...r),n)},Yf=bn("bm"),oa=bn("m"),Xf=bn("bu"),Zf=bn("u"),eh=bn("bum"),Eu=bn("um"),th=bn("sp"),nh=bn("rtg"),rh=bn("rtc");function ih(t,e=Pt){fs("ec",t,e)}const sh="components";function Vr(t,e){return ah(sh,t,!0,e)||t}const oh=Symbol.for("v-ndc");function ah(t,e,n=!0,r=!1){const s=zt||Pt;if(s){const a=s.type;{const c=Gh(a,!1);if(c&&(c===e||c===Xt(e)||c===os(Xt(e))))return a}const l=tl(s[t]||a[t],e)||tl(s.appContext[t],e);return!l&&r?a:l}}function tl(t,e){return t&&(t[e]||t[Xt(e)]||t[os(Xt(e))])}function Yi(t,e,n,r){let s;const a=n,l=xe(t);if(l||mt(t)){const c=l&&wr(t);let h=!1;c&&(h=!Yt(t),t=ls(t)),s=new Array(t.length);for(let y=0,p=t.length;y<p;y++)s[y]=e(h?Ct(t[y]):t[y],y,void 0,a)}else if(typeof t=="number"){s=new Array(t);for(let c=0;c<t;c++)s[c]=e(c+1,c,void 0,a)}else if(lt(t))if(t[Symbol.iterator])s=Array.from(t,(c,h)=>e(c,h,void 0,a));else{const c=Object.keys(t);s=new Array(c.length);for(let h=0,y=c.length;h<y;h++){const p=c[h];s[h]=e(t[p],p,h,a)}}else s=[];return s}const So=t=>t?Hu(t)?gs(t):So(t.parent):null,Gr=At(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>So(t.parent),$root:t=>So(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>aa(t),$forceUpdate:t=>t.f||(t.f=()=>{ia(t.update)}),$nextTick:t=>t.n||(t.n=Bf.bind(t.proxy)),$watch:t=>Th.bind(t)}),oo=(t,e)=>t!==rt&&!t.__isScriptSetup&&Je(t,e),lh={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:a,accessCache:l,type:c,appContext:h}=t;let y;if(e[0]!=="$"){const H=l[e];if(H!==void 0)switch(H){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return a[e]}else{if(oo(r,e))return l[e]=1,r[e];if(s!==rt&&Je(s,e))return l[e]=2,s[e];if((y=t.propsOptions[0])&&Je(y,e))return l[e]=3,a[e];if(n!==rt&&Je(n,e))return l[e]=4,n[e];Oo&&(l[e]=0)}}const p=Gr[e];let _,P;if(p)return e==="$attrs"&&jt(t.attrs,"get",""),p(t);if((_=c.__cssModules)&&(_=_[e]))return _;if(n!==rt&&Je(n,e))return l[e]=4,n[e];if(P=h.config.globalProperties,Je(P,e))return P[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:a}=t;return oo(s,e)?(s[e]=n,!0):r!==rt&&Je(r,e)?(r[e]=n,!0):Je(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(a[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:a}},l){let c;return!!n[l]||t!==rt&&Je(t,l)||oo(e,l)||(c=a[0])&&Je(c,l)||Je(r,l)||Je(Gr,l)||Je(s.config.globalProperties,l)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Je(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function nl(t){return xe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Oo=!0;function uh(t){const e=aa(t),n=t.proxy,r=t.ctx;Oo=!1,e.beforeCreate&&rl(e.beforeCreate,t,"bc");const{data:s,computed:a,methods:l,watch:c,provide:h,inject:y,created:p,beforeMount:_,mounted:P,beforeUpdate:H,updated:oe,activated:ee,deactivated:ve,beforeDestroy:_e,beforeUnmount:Re,destroyed:Ie,unmounted:fe,render:Me,renderTracked:Ze,renderTriggered:be,errorCaptured:I,serverPrefetch:R,expose:z,inheritAttrs:ce,components:he,directives:ye,filters:Ae}=e;if(y&&ch(y,r,null),l)for(const te in l){const me=l[te];Pe(me)&&(r[te]=me.bind(n))}if(s){const te=s.call(n,n);lt(te)&&(t.data=Zo(te))}if(Oo=!0,a)for(const te in a){const me=a[te],pe=Pe(me)?me.bind(n,n):Pe(me.get)?me.get.bind(n,n):un,it=!Pe(me)&&Pe(me.set)?me.set.bind(n):un,Xe=Yh({get:pe,set:it});Object.defineProperty(r,te,{enumerable:!0,configurable:!0,get:()=>Xe.value,set:le=>Xe.value=le})}if(c)for(const te in c)Su(c[te],r,n,te);if(h){const te=Pe(h)?h.call(n):h;Reflect.ownKeys(te).forEach(me=>{yh(me,te[me])})}p&&rl(p,t,"c");function Se(te,me){xe(me)?me.forEach(pe=>te(pe.bind(n))):me&&te(me.bind(n))}if(Se(Yf,_),Se(oa,P),Se(Xf,H),Se(Zf,oe),Se(Jf,ee),Se(Gf,ve),Se(ih,I),Se(rh,Ze),Se(nh,be),Se(eh,Re),Se(Eu,fe),Se(th,R),xe(z))if(z.length){const te=t.exposed||(t.exposed={});z.forEach(me=>{Object.defineProperty(te,me,{get:()=>n[me],set:pe=>n[me]=pe})})}else t.exposed||(t.exposed={});Me&&t.render===un&&(t.render=Me),ce!=null&&(t.inheritAttrs=ce),he&&(t.components=he),ye&&(t.directives=ye),R&&wu(t)}function ch(t,e,n=un){xe(t)&&(t=Co(t));for(const r in t){const s=t[r];let a;lt(s)?"default"in s?a=Hi(s.from||r,s.default,!0):a=Hi(s.from||r):a=Hi(s),Tt(a)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):e[r]=a}}function rl(t,e,n){fn(xe(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Su(t,e,n,r){let s=r.includes(".")?Uu(n,r):()=>n[r];if(mt(t)){const a=e[t];Pe(a)&&lo(s,a)}else if(Pe(t))lo(s,t.bind(n));else if(lt(t))if(xe(t))t.forEach(a=>Su(a,e,n,r));else{const a=Pe(t.handler)?t.handler.bind(n):e[t.handler];Pe(a)&&lo(s,a,t)}}function aa(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:a,config:{optionMergeStrategies:l}}=t.appContext,c=a.get(e);let h;return c?h=c:!s.length&&!n&&!r?h=e:(h={},s.length&&s.forEach(y=>Xi(h,y,l,!0)),Xi(h,e,l)),lt(e)&&a.set(e,h),h}function Xi(t,e,n,r=!1){const{mixins:s,extends:a}=e;a&&Xi(t,a,n,!0),s&&s.forEach(l=>Xi(t,l,n,!0));for(const l in e)if(!(r&&l==="expose")){const c=fh[l]||n&&n[l];t[l]=c?c(t[l],e[l]):e[l]}return t}const fh={data:il,props:sl,emits:sl,methods:Hr,computed:Hr,beforeCreate:Dt,created:Dt,beforeMount:Dt,mounted:Dt,beforeUpdate:Dt,updated:Dt,beforeDestroy:Dt,beforeUnmount:Dt,destroyed:Dt,unmounted:Dt,activated:Dt,deactivated:Dt,errorCaptured:Dt,serverPrefetch:Dt,components:Hr,directives:Hr,watch:dh,provide:il,inject:hh};function il(t,e){return e?t?function(){return At(Pe(t)?t.call(this,this):t,Pe(e)?e.call(this,this):e)}:e:t}function hh(t,e){return Hr(Co(t),Co(e))}function Co(t){if(xe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Dt(t,e){return t?[...new Set([].concat(t,e))]:e}function Hr(t,e){return t?At(Object.create(null),t,e):e}function sl(t,e){return t?xe(t)&&xe(e)?[...new Set([...t,...e])]:At(Object.create(null),nl(t),nl(e??{})):e}function dh(t,e){if(!t)return e;if(!e)return t;const n=At(Object.create(null),t);for(const r in e)n[r]=Dt(t[r],e[r]);return n}function Ou(){return{app:null,config:{isNativeTag:Gc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ph=0;function gh(t,e){return function(r,s=null){Pe(r)||(r=At({},r)),s!=null&&!lt(s)&&(s=null);const a=Ou(),l=new WeakSet,c=[];let h=!1;const y=a.app={_uid:ph++,_component:r,_props:s,_container:null,_context:a,_instance:null,version:Xh,get config(){return a.config},set config(p){},use(p,..._){return l.has(p)||(p&&Pe(p.install)?(l.add(p),p.install(y,..._)):Pe(p)&&(l.add(p),p(y,..._))),y},mixin(p){return a.mixins.includes(p)||a.mixins.push(p),y},component(p,_){return _?(a.components[p]=_,y):a.components[p]},directive(p,_){return _?(a.directives[p]=_,y):a.directives[p]},mount(p,_,P){if(!h){const H=y._ceVNode||_t(r,s);return H.appContext=a,P===!0?P="svg":P===!1&&(P=void 0),_&&e?e(H,p):t(H,p,P),h=!0,y._container=p,p.__vue_app__=y,gs(H.component)}},onUnmount(p){c.push(p)},unmount(){h&&(fn(c,y._instance,16),t(null,y._container),delete y._container.__vue_app__)},provide(p,_){return a.provides[p]=_,y},runWithContext(p){const _=xr;xr=y;try{return p()}finally{xr=_}}};return y}}let xr=null;function yh(t,e){if(Pt){let n=Pt.provides;const r=Pt.parent&&Pt.parent.provides;r===n&&(n=Pt.provides=Object.create(r)),n[t]=e}}function Hi(t,e,n=!1){const r=Pt||zt;if(r||xr){const s=xr?xr._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Pe(e)?e.call(r&&r.proxy):e}}const Cu={},Pu=()=>Object.create(Cu),Tu=t=>Object.getPrototypeOf(t)===Cu;function vh(t,e,n,r=!1){const s={},a=Pu();t.propsDefaults=Object.create(null),Au(t,e,s,a);for(const l in t.propsOptions[0])l in s||(s[l]=void 0);n?t.props=r?s:jf(s):t.type.props?t.props=s:t.props=a,t.attrs=a}function mh(t,e,n,r){const{props:s,attrs:a,vnode:{patchFlag:l}}=t,c=Ge(s),[h]=t.propsOptions;let y=!1;if((r||l>0)&&!(l&16)){if(l&8){const p=t.vnode.dynamicProps;for(let _=0;_<p.length;_++){let P=p[_];if(hs(t.emitsOptions,P))continue;const H=e[P];if(h)if(Je(a,P))H!==a[P]&&(a[P]=H,y=!0);else{const oe=Xt(P);s[oe]=Po(h,c,oe,H,t,!1)}else H!==a[P]&&(a[P]=H,y=!0)}}}else{Au(t,e,s,a)&&(y=!0);let p;for(const _ in c)(!e||!Je(e,_)&&((p=Mn(_))===_||!Je(e,p)))&&(h?n&&(n[_]!==void 0||n[p]!==void 0)&&(s[_]=Po(h,c,_,void 0,t,!0)):delete s[_]);if(a!==c)for(const _ in a)(!e||!Je(e,_))&&(delete a[_],y=!0)}y&&_n(t.attrs,"set","")}function Au(t,e,n,r){const[s,a]=t.propsOptions;let l=!1,c;if(e)for(let h in e){if(Wr(h))continue;const y=e[h];let p;s&&Je(s,p=Xt(h))?!a||!a.includes(p)?n[p]=y:(c||(c={}))[p]=y:hs(t.emitsOptions,h)||(!(h in r)||y!==r[h])&&(r[h]=y,l=!0)}if(a){const h=Ge(n),y=c||rt;for(let p=0;p<a.length;p++){const _=a[p];n[_]=Po(s,h,_,y[_],t,!Je(y,_))}}return l}function Po(t,e,n,r,s,a){const l=t[n];if(l!=null){const c=Je(l,"default");if(c&&r===void 0){const h=l.default;if(l.type!==Function&&!l.skipFactory&&Pe(h)){const{propsDefaults:y}=s;if(n in y)r=y[n];else{const p=li(s);r=y[n]=h.call(null,e),p()}}else r=h;s.ce&&s.ce._setProp(n,r)}l[0]&&(a&&!c?r=!1:l[1]&&(r===""||r===Mn(n))&&(r=!0))}return r}const _h=new WeakMap;function ju(t,e,n=!1){const r=n?_h:e.propsCache,s=r.get(t);if(s)return s;const a=t.props,l={},c=[];let h=!1;if(!Pe(t)){const p=_=>{h=!0;const[P,H]=ju(_,e,!0);At(l,P),H&&c.push(...H)};!n&&e.mixins.length&&e.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}if(!a&&!h)return lt(t)&&r.set(t,_r),_r;if(xe(a))for(let p=0;p<a.length;p++){const _=Xt(a[p]);ol(_)&&(l[_]=rt)}else if(a)for(const p in a){const _=Xt(p);if(ol(_)){const P=a[p],H=l[_]=xe(P)||Pe(P)?{type:P}:At({},P),oe=H.type;let ee=!1,ve=!0;if(xe(oe))for(let _e=0;_e<oe.length;++_e){const Re=oe[_e],Ie=Pe(Re)&&Re.name;if(Ie==="Boolean"){ee=!0;break}else Ie==="String"&&(ve=!1)}else ee=Pe(oe)&&oe.name==="Boolean";H[0]=ee,H[1]=ve,(ee||Je(H,"default"))&&c.push(_)}}const y=[l,c];return lt(t)&&r.set(t,y),y}function ol(t){return t[0]!=="$"&&!Wr(t)}const Ru=t=>t[0]==="_"||t==="$stable",la=t=>xe(t)?t.map(ln):[ln(t)],bh=(t,e,n)=>{if(e._n)return e;const r=Hf((...s)=>la(e(...s)),n);return r._c=!1,r},Iu=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Ru(s))continue;const a=t[s];if(Pe(a))e[s]=bh(s,a,r);else if(a!=null){const l=la(a);e[s]=()=>l}}},Du=(t,e)=>{const n=la(e);t.slots.default=()=>n},$u=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},wh=(t,e,n)=>{const r=t.slots=Pu();if(t.vnode.shapeFlag&32){const s=e._;s?($u(r,e,n),n&&Jl(r,"_",s,!0)):Iu(e,r)}else e&&Du(t,e)},kh=(t,e,n)=>{const{vnode:r,slots:s}=t;let a=!0,l=rt;if(r.shapeFlag&32){const c=e._;c?n&&c===1?a=!1:$u(s,e,n):(a=!e.$stable,Iu(e,s)),l=e}else e&&(Du(t,e),l={default:1});if(a)for(const c in s)!Ru(c)&&l[c]==null&&delete s[c]},qt=Lh;function xh(t){return Eh(t)}function Eh(t,e){const n=Gl();n.__VUE__=!0;const{insert:r,remove:s,patchProp:a,createElement:l,createText:c,createComment:h,setText:y,setElementText:p,parentNode:_,nextSibling:P,setScopeId:H=un,insertStaticContent:oe}=t,ee=(m,k,D,F=null,N=null,B=null,X=void 0,J=null,V=!!k.dynamicChildren)=>{if(m===k)return;m&&!Nr(m,k)&&(F=et(m),le(m,N,B,!0),m=null),k.patchFlag===-2&&(V=!1,k.dynamicChildren=null);const{type:K,ref:ae,shapeFlag:ne}=k;switch(K){case ds:ve(m,k,D,F);break;case nr:_e(m,k,D,F);break;case zi:m==null&&Re(k,D,F,X);break;case Ut:he(m,k,D,F,N,B,X,J,V);break;default:ne&1?Me(m,k,D,F,N,B,X,J,V):ne&6?ye(m,k,D,F,N,B,X,J,V):(ne&64||ne&128)&&K.process(m,k,D,F,N,B,X,J,V,Fe)}ae!=null&&N&&Eo(ae,m&&m.ref,B,k||m,!k)},ve=(m,k,D,F)=>{if(m==null)r(k.el=c(k.children),D,F);else{const N=k.el=m.el;k.children!==m.children&&y(N,k.children)}},_e=(m,k,D,F)=>{m==null?r(k.el=h(k.children||""),D,F):k.el=m.el},Re=(m,k,D,F)=>{[m.el,m.anchor]=oe(m.children,k,D,F,m.el,m.anchor)},Ie=({el:m,anchor:k},D,F)=>{let N;for(;m&&m!==k;)N=P(m),r(m,D,F),m=N;r(k,D,F)},fe=({el:m,anchor:k})=>{let D;for(;m&&m!==k;)D=P(m),s(m),m=D;s(k)},Me=(m,k,D,F,N,B,X,J,V)=>{k.type==="svg"?X="svg":k.type==="math"&&(X="mathml"),m==null?Ze(k,D,F,N,B,X,J,V):R(m,k,N,B,X,J,V)},Ze=(m,k,D,F,N,B,X,J)=>{let V,K;const{props:ae,shapeFlag:ne,transition:Y,dirs:ge}=m;if(V=m.el=l(m.type,B,ae&&ae.is,ae),ne&8?p(V,m.children):ne&16&&I(m.children,V,null,F,N,ao(m,B),X,J),ge&&Wn(m,null,F,"created"),be(V,m,m.scopeId,X,F),ae){for(const je in ae)je!=="value"&&!Wr(je)&&a(V,je,null,ae[je],B,F);"value"in ae&&a(V,"value",null,ae.value,B),(K=ae.onVnodeBeforeMount)&&on(K,F,m)}ge&&Wn(m,null,F,"beforeMount");const ke=Sh(N,Y);ke&&Y.beforeEnter(V),r(V,k,D),((K=ae&&ae.onVnodeMounted)||ke||ge)&&qt(()=>{K&&on(K,F,m),ke&&Y.enter(V),ge&&Wn(m,null,F,"mounted")},N)},be=(m,k,D,F,N)=>{if(D&&H(m,D),F)for(let B=0;B<F.length;B++)H(m,F[B]);if(N){let B=N.subTree;if(k===B||Nu(B.type)&&(B.ssContent===k||B.ssFallback===k)){const X=N.vnode;be(m,X,X.scopeId,X.slotScopeIds,N.parent)}}},I=(m,k,D,F,N,B,X,J,V=0)=>{for(let K=V;K<m.length;K++){const ae=m[K]=J?jn(m[K]):ln(m[K]);ee(null,ae,k,D,F,N,B,X,J)}},R=(m,k,D,F,N,B,X)=>{const J=k.el=m.el;let{patchFlag:V,dynamicChildren:K,dirs:ae}=k;V|=m.patchFlag&16;const ne=m.props||rt,Y=k.props||rt;let ge;if(D&&Jn(D,!1),(ge=Y.onVnodeBeforeUpdate)&&on(ge,D,k,m),ae&&Wn(k,m,D,"beforeUpdate"),D&&Jn(D,!0),(ne.innerHTML&&Y.innerHTML==null||ne.textContent&&Y.textContent==null)&&p(J,""),K?z(m.dynamicChildren,K,J,D,F,ao(k,N),B):X||me(m,k,J,null,D,F,ao(k,N),B,!1),V>0){if(V&16)ce(J,ne,Y,D,N);else if(V&2&&ne.class!==Y.class&&a(J,"class",null,Y.class,N),V&4&&a(J,"style",ne.style,Y.style,N),V&8){const ke=k.dynamicProps;for(let je=0;je<ke.length;je++){const Oe=ke[je],tt=ne[Oe],Be=Y[Oe];(Be!==tt||Oe==="value")&&a(J,Oe,tt,Be,N,D)}}V&1&&m.children!==k.children&&p(J,k.children)}else!X&&K==null&&ce(J,ne,Y,D,N);((ge=Y.onVnodeUpdated)||ae)&&qt(()=>{ge&&on(ge,D,k,m),ae&&Wn(k,m,D,"updated")},F)},z=(m,k,D,F,N,B,X)=>{for(let J=0;J<k.length;J++){const V=m[J],K=k[J],ae=V.el&&(V.type===Ut||!Nr(V,K)||V.shapeFlag&70)?_(V.el):D;ee(V,K,ae,null,F,N,B,X,!0)}},ce=(m,k,D,F,N)=>{if(k!==D){if(k!==rt)for(const B in k)!Wr(B)&&!(B in D)&&a(m,B,k[B],null,N,F);for(const B in D){if(Wr(B))continue;const X=D[B],J=k[B];X!==J&&B!=="value"&&a(m,B,J,X,N,F)}"value"in D&&a(m,"value",k.value,D.value,N)}},he=(m,k,D,F,N,B,X,J,V)=>{const K=k.el=m?m.el:c(""),ae=k.anchor=m?m.anchor:c("");let{patchFlag:ne,dynamicChildren:Y,slotScopeIds:ge}=k;ge&&(J=J?J.concat(ge):ge),m==null?(r(K,D,F),r(ae,D,F),I(k.children||[],D,ae,N,B,X,J,V)):ne>0&&ne&64&&Y&&m.dynamicChildren?(z(m.dynamicChildren,Y,D,N,B,X,J),(k.key!=null||N&&k===N.subTree)&&Lu(m,k,!0)):me(m,k,D,ae,N,B,X,J,V)},ye=(m,k,D,F,N,B,X,J,V)=>{k.slotScopeIds=J,m==null?k.shapeFlag&512?N.ctx.activate(k,D,F,X,V):Ae(k,D,F,N,B,X,V):ut(m,k,V)},Ae=(m,k,D,F,N,B,X)=>{const J=m.component=Vh(m,F,N);if(ku(m)&&(J.ctx.renderer=Fe),Hh(J,!1,X),J.asyncDep){if(N&&N.registerDep(J,Se,X),!m.el){const V=J.subTree=_t(nr);_e(null,V,k,D)}}else Se(J,m,k,D,N,B,X)},ut=(m,k,D)=>{const F=k.component=m.component;if(Dh(m,k,D))if(F.asyncDep&&!F.asyncResolved){te(F,k,D);return}else F.next=k,F.update();else k.el=m.el,F.vnode=k},Se=(m,k,D,F,N,B,X)=>{const J=()=>{if(m.isMounted){let{next:ne,bu:Y,u:ge,parent:ke,vnode:je}=m;{const pt=Mu(m);if(pt){ne&&(ne.el=je.el,te(m,ne,X)),pt.asyncDep.then(()=>{m.isUnmounted||J()});return}}let Oe=ne,tt;Jn(m,!1),ne?(ne.el=je.el,te(m,ne,X)):ne=je,Y&&Vi(Y),(tt=ne.props&&ne.props.onVnodeBeforeUpdate)&&on(tt,ke,ne,je),Jn(m,!0);const Be=uo(m),Ye=m.subTree;m.subTree=Be,ee(Ye,Be,_(Ye.el),et(Ye),m,N,B),ne.el=Be.el,Oe===null&&$h(m,Be.el),ge&&qt(ge,N),(tt=ne.props&&ne.props.onVnodeUpdated)&&qt(()=>on(tt,ke,ne,je),N)}else{let ne;const{el:Y,props:ge}=k,{bm:ke,m:je,parent:Oe,root:tt,type:Be}=m,Ye=Jr(k);if(Jn(m,!1),ke&&Vi(ke),!Ye&&(ne=ge&&ge.onVnodeBeforeMount)&&on(ne,Oe,k),Jn(m,!0),Y&&we){const pt=()=>{m.subTree=uo(m),we(Y,m.subTree,m,N,null)};Ye&&Be.__asyncHydrate?Be.__asyncHydrate(Y,m,pt):pt()}else{tt.ce&&tt.ce._injectChildStyle(Be);const pt=m.subTree=uo(m);ee(null,pt,D,F,m,N,B),k.el=pt.el}if(je&&qt(je,N),!Ye&&(ne=ge&&ge.onVnodeMounted)){const pt=k;qt(()=>on(ne,Oe,pt),N)}(k.shapeFlag&256||Oe&&Jr(Oe.vnode)&&Oe.vnode.shapeFlag&256)&&m.a&&qt(m.a,N),m.isMounted=!0,k=D=F=null}};m.scope.on();const V=m.effect=new eu(J);m.scope.off();const K=m.update=V.run.bind(V),ae=m.job=V.runIfDirty.bind(V);ae.i=m,ae.id=m.uid,V.scheduler=()=>ia(ae),Jn(m,!0),K()},te=(m,k,D)=>{k.component=m;const F=m.vnode.props;m.vnode=k,m.next=null,mh(m,k.props,F,D),kh(m,k.children,D),Fn(),el(m),Un()},me=(m,k,D,F,N,B,X,J,V=!1)=>{const K=m&&m.children,ae=m?m.shapeFlag:0,ne=k.children,{patchFlag:Y,shapeFlag:ge}=k;if(Y>0){if(Y&128){it(K,ne,D,F,N,B,X,J,V);return}else if(Y&256){pe(K,ne,D,F,N,B,X,J,V);return}}ge&8?(ae&16&&We(K,N,B),ne!==K&&p(D,ne)):ae&16?ge&16?it(K,ne,D,F,N,B,X,J,V):We(K,N,B,!0):(ae&8&&p(D,""),ge&16&&I(ne,D,F,N,B,X,J,V))},pe=(m,k,D,F,N,B,X,J,V)=>{m=m||_r,k=k||_r;const K=m.length,ae=k.length,ne=Math.min(K,ae);let Y;for(Y=0;Y<ne;Y++){const ge=k[Y]=V?jn(k[Y]):ln(k[Y]);ee(m[Y],ge,D,null,N,B,X,J,V)}K>ae?We(m,N,B,!0,!1,ne):I(k,D,F,N,B,X,J,V,ne)},it=(m,k,D,F,N,B,X,J,V)=>{let K=0;const ae=k.length;let ne=m.length-1,Y=ae-1;for(;K<=ne&&K<=Y;){const ge=m[K],ke=k[K]=V?jn(k[K]):ln(k[K]);if(Nr(ge,ke))ee(ge,ke,D,null,N,B,X,J,V);else break;K++}for(;K<=ne&&K<=Y;){const ge=m[ne],ke=k[Y]=V?jn(k[Y]):ln(k[Y]);if(Nr(ge,ke))ee(ge,ke,D,null,N,B,X,J,V);else break;ne--,Y--}if(K>ne){if(K<=Y){const ge=Y+1,ke=ge<ae?k[ge].el:F;for(;K<=Y;)ee(null,k[K]=V?jn(k[K]):ln(k[K]),D,ke,N,B,X,J,V),K++}}else if(K>Y)for(;K<=ne;)le(m[K],N,B,!0),K++;else{const ge=K,ke=K,je=new Map;for(K=ke;K<=Y;K++){const ht=k[K]=V?jn(k[K]):ln(k[K]);ht.key!=null&&je.set(ht.key,K)}let Oe,tt=0;const Be=Y-ke+1;let Ye=!1,pt=0;const nt=new Array(Be);for(K=0;K<Be;K++)nt[K]=0;for(K=ge;K<=ne;K++){const ht=m[K];if(tt>=Be){le(ht,N,B,!0);continue}let bt;if(ht.key!=null)bt=je.get(ht.key);else for(Oe=ke;Oe<=Y;Oe++)if(nt[Oe-ke]===0&&Nr(ht,k[Oe])){bt=Oe;break}bt===void 0?le(ht,N,B,!0):(nt[bt-ke]=K+1,bt>=pt?pt=bt:Ye=!0,ee(ht,k[bt],D,null,N,B,X,J,V),tt++)}const de=Ye?Oh(nt):_r;for(Oe=de.length-1,K=Be-1;K>=0;K--){const ht=ke+K,bt=k[ht],Kn=ht+1<ae?k[ht+1].el:F;nt[K]===0?ee(null,bt,D,Kn,N,B,X,J,V):Ye&&(Oe<0||K!==de[Oe]?Xe(bt,D,Kn,2):Oe--)}}},Xe=(m,k,D,F,N=null)=>{const{el:B,type:X,transition:J,children:V,shapeFlag:K}=m;if(K&6){Xe(m.component.subTree,k,D,F);return}if(K&128){m.suspense.move(k,D,F);return}if(K&64){X.move(m,k,D,Fe);return}if(X===Ut){r(B,k,D);for(let ne=0;ne<V.length;ne++)Xe(V[ne],k,D,F);r(m.anchor,k,D);return}if(X===zi){Ie(m,k,D);return}if(F!==2&&K&1&&J)if(F===0)J.beforeEnter(B),r(B,k,D),qt(()=>J.enter(B),N);else{const{leave:ne,delayLeave:Y,afterLeave:ge}=J,ke=()=>r(B,k,D),je=()=>{ne(B,()=>{ke(),ge&&ge()})};Y?Y(B,ke,je):je()}else r(B,k,D)},le=(m,k,D,F=!1,N=!1)=>{const{type:B,props:X,ref:J,children:V,dynamicChildren:K,shapeFlag:ae,patchFlag:ne,dirs:Y,cacheIndex:ge}=m;if(ne===-2&&(N=!1),J!=null&&Eo(J,null,D,m,!0),ge!=null&&(k.renderCache[ge]=void 0),ae&256){k.ctx.deactivate(m);return}const ke=ae&1&&Y,je=!Jr(m);let Oe;if(je&&(Oe=X&&X.onVnodeBeforeUnmount)&&on(Oe,k,m),ae&6)Qe(m.component,D,F);else{if(ae&128){m.suspense.unmount(D,F);return}ke&&Wn(m,null,k,"beforeUnmount"),ae&64?m.type.remove(m,k,D,Fe,F):K&&!K.hasOnce&&(B!==Ut||ne>0&&ne&64)?We(K,k,D,!1,!0):(B===Ut&&ne&384||!N&&ae&16)&&We(V,k,D),F&&Ne(m)}(je&&(Oe=X&&X.onVnodeUnmounted)||ke)&&qt(()=>{Oe&&on(Oe,k,m),ke&&Wn(m,null,k,"unmounted")},D)},Ne=m=>{const{type:k,el:D,anchor:F,transition:N}=m;if(k===Ut){gt(D,F);return}if(k===zi){fe(m);return}const B=()=>{s(D),N&&!N.persisted&&N.afterLeave&&N.afterLeave()};if(m.shapeFlag&1&&N&&!N.persisted){const{leave:X,delayLeave:J}=N,V=()=>X(D,B);J?J(m.el,B,V):V()}else B()},gt=(m,k)=>{let D;for(;m!==k;)D=P(m),s(m),m=D;s(k)},Qe=(m,k,D)=>{const{bum:F,scope:N,job:B,subTree:X,um:J,m:V,a:K}=m;al(V),al(K),F&&Vi(F),N.stop(),B&&(B.flags|=8,le(X,m,k,D)),J&&qt(J,k),qt(()=>{m.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},We=(m,k,D,F=!1,N=!1,B=0)=>{for(let X=B;X<m.length;X++)le(m[X],k,D,F,N)},et=m=>{if(m.shapeFlag&6)return et(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const k=P(m.anchor||m.el),D=k&&k[zf];return D?P(D):k};let ct=!1;const q=(m,k,D)=>{m==null?k._vnode&&le(k._vnode,null,null,!0):ee(k._vnode||null,m,k,null,null,null,D),k._vnode=m,ct||(ct=!0,el(),mu(),ct=!1)},Fe={p:ee,um:le,m:Xe,r:Ne,mt:Ae,mc:I,pc:me,pbc:z,n:et,o:t};let ze,we;return{render:q,hydrate:ze,createApp:gh(q,ze)}}function ao({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Jn({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Sh(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Lu(t,e,n=!1){const r=t.children,s=e.children;if(xe(r)&&xe(s))for(let a=0;a<r.length;a++){const l=r[a];let c=s[a];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[a]=jn(s[a]),c.el=l.el),!n&&c.patchFlag!==-2&&Lu(l,c)),c.type===ds&&(c.el=l.el)}}function Oh(t){const e=t.slice(),n=[0];let r,s,a,l,c;const h=t.length;for(r=0;r<h;r++){const y=t[r];if(y!==0){if(s=n[n.length-1],t[s]<y){e[r]=s,n.push(r);continue}for(a=0,l=n.length-1;a<l;)c=a+l>>1,t[n[c]]<y?a=c+1:l=c;y<t[n[a]]&&(a>0&&(e[r]=n[a-1]),n[a]=r)}}for(a=n.length,l=n[a-1];a-- >0;)n[a]=l,l=e[l];return n}function Mu(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Mu(e)}function al(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Ch=Symbol.for("v-scx"),Ph=()=>Hi(Ch);function lo(t,e,n){return Fu(t,e,n)}function Fu(t,e,n=rt){const{immediate:r,deep:s,flush:a,once:l}=n,c=At({},n);let h;if(ps)if(a==="sync"){const P=Ph();h=P.__watcherHandles||(P.__watcherHandles=[])}else if(!e||r)c.once=!0;else{const P=()=>{};return P.stop=un,P.resume=un,P.pause=un,P}const y=Pt;c.call=(P,H,oe)=>fn(P,y,H,oe);let p=!1;a==="post"?c.scheduler=P=>{qt(P,y&&y.suspense)}:a!=="sync"&&(p=!0,c.scheduler=(P,H)=>{H?P():ia(P)}),c.augmentJob=P=>{e&&(P.flags|=4),p&&(P.flags|=2,y&&(P.id=y.uid,P.i=y))};const _=Kf(t,e,c);return h&&h.push(_),_}function Th(t,e,n){const r=this.proxy,s=mt(t)?t.includes(".")?Uu(r,t):()=>r[t]:t.bind(r,r);let a;Pe(e)?a=e:(a=e.handler,n=e);const l=li(this),c=Fu(s,a.bind(r),n);return l(),c}function Uu(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const Ah=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Xt(e)}Modifiers`]||t[`${Mn(e)}Modifiers`];function jh(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||rt;let s=n;const a=e.startsWith("update:"),l=a&&Ah(r,e.slice(7));l&&(l.trim&&(s=n.map(p=>mt(p)?p.trim():p)),l.number&&(s=n.map(_o)));let c,h=r[c=to(e)]||r[c=to(Xt(e))];!h&&a&&(h=r[c=to(Mn(e))]),h&&fn(h,t,6,s);const y=r[c+"Once"];if(y){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,fn(y,t,6,s)}}function Ku(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const a=t.emits;let l={},c=!1;if(!Pe(t)){const h=y=>{const p=Ku(y,e,!0);p&&(c=!0,At(l,p))};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}return!a&&!c?(lt(t)&&r.set(t,null),null):(xe(a)?a.forEach(h=>l[h]=null):At(l,a),lt(t)&&r.set(t,l),l)}function hs(t,e){return!t||!rs(e)?!1:(e=e.slice(2).replace(/Once$/,""),Je(t,e[0].toLowerCase()+e.slice(1))||Je(t,Mn(e))||Je(t,e))}function uo(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[a],slots:l,attrs:c,emit:h,render:y,renderCache:p,props:_,data:P,setupState:H,ctx:oe,inheritAttrs:ee}=t,ve=Qi(t);let _e,Re;try{if(n.shapeFlag&4){const fe=s||r,Me=fe;_e=ln(y.call(Me,fe,p,_,H,P,oe)),Re=c}else{const fe=e;_e=ln(fe.length>1?fe(_,{attrs:c,slots:l,emit:h}):fe(_,null)),Re=e.props?c:Rh(c)}}catch(fe){Qr.length=0,cs(fe,t,1),_e=_t(nr)}let Ie=_e;if(Re&&ee!==!1){const fe=Object.keys(Re),{shapeFlag:Me}=Ie;fe.length&&Me&7&&(a&&fe.some(Bo)&&(Re=Ih(Re,a)),Ie=Or(Ie,Re,!1,!0))}return n.dirs&&(Ie=Or(Ie,null,!1,!0),Ie.dirs=Ie.dirs?Ie.dirs.concat(n.dirs):n.dirs),n.transition&&sa(Ie,n.transition),_e=Ie,Qi(ve),_e}const Rh=t=>{let e;for(const n in t)(n==="class"||n==="style"||rs(n))&&((e||(e={}))[n]=t[n]);return e},Ih=(t,e)=>{const n={};for(const r in t)(!Bo(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Dh(t,e,n){const{props:r,children:s,component:a}=t,{props:l,children:c,patchFlag:h}=e,y=a.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&h>=0){if(h&1024)return!0;if(h&16)return r?ll(r,l,y):!!l;if(h&8){const p=e.dynamicProps;for(let _=0;_<p.length;_++){const P=p[_];if(l[P]!==r[P]&&!hs(y,P))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:r===l?!1:r?l?ll(r,l,y):!0:!!l;return!1}function ll(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const a=r[s];if(e[a]!==t[a]&&!hs(n,a))return!0}return!1}function $h({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Nu=t=>t.__isSuspense;function Lh(t,e){e&&e.pendingBranch?xe(t)?e.effects.push(...t):e.effects.push(t):Vf(t)}const Ut=Symbol.for("v-fgt"),ds=Symbol.for("v-txt"),nr=Symbol.for("v-cmt"),zi=Symbol.for("v-stc"),Qr=[];let Wt=null;function Te(t=!1){Qr.push(Wt=t?null:[])}function Mh(){Qr.pop(),Wt=Qr[Qr.length-1]||null}let ii=1;function ul(t){ii+=t,t<0&&Wt&&(Wt.hasOnce=!0)}function Bu(t){return t.dynamicChildren=ii>0?Wt||_r:null,Mh(),ii>0&&Wt&&Wt.push(t),t}function He(t,e,n,r,s,a){return Bu(Z(t,e,n,r,s,a,!0))}function vn(t,e,n,r,s){return Bu(_t(t,e,n,r,s,!0))}function qu(t){return t?t.__v_isVNode===!0:!1}function Nr(t,e){return t.type===e.type&&t.key===e.key}const Vu=({key:t})=>t??null,Wi=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?mt(t)||Tt(t)||Pe(t)?{i:zt,r:t,k:e,f:!!n}:t:null);function Z(t,e=null,n=null,r=0,s=null,a=t===Ut?0:1,l=!1,c=!1){const h={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Vu(e),ref:e&&Wi(e),scopeId:bu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:zt};return c?(ua(h,n),a&128&&t.normalize(h)):n&&(h.shapeFlag|=mt(n)?8:16),ii>0&&!l&&Wt&&(h.patchFlag>0||a&6)&&h.patchFlag!==32&&Wt.push(h),h}const _t=Fh;function Fh(t,e=null,n=null,r=0,s=null,a=!1){if((!t||t===oh)&&(t=nr),qu(t)){const c=Or(t,e,!0);return n&&ua(c,n),ii>0&&!a&&Wt&&(c.shapeFlag&6?Wt[Wt.indexOf(t)]=c:Wt.push(c)),c.patchFlag=-2,c}if(Qh(t)&&(t=t.__vccOpts),e){e=Uh(e);let{class:c,style:h}=e;c&&!mt(c)&&(e.class=zo(c)),lt(h)&&(ta(h)&&!xe(h)&&(h=At({},h)),e.style=Ho(h))}const l=mt(t)?1:Nu(t)?128:Wf(t)?64:lt(t)?4:Pe(t)?2:0;return Z(t,e,n,r,s,l,a,!0)}function Uh(t){return t?ta(t)||Tu(t)?At({},t):t:null}function Or(t,e,n=!1,r=!1){const{props:s,ref:a,patchFlag:l,children:c,transition:h}=t,y=e?Nh(s||{},e):s,p={__v_isVNode:!0,__v_skip:!0,type:t.type,props:y,key:y&&Vu(y),ref:e&&e.ref?n&&a?xe(a)?a.concat(Wi(e)):[a,Wi(e)]:Wi(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ut?l===-1?16:l|16:l,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:h,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Or(t.ssContent),ssFallback:t.ssFallback&&Or(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return h&&r&&sa(p,h.clone(p)),p}function Qt(t=" ",e=0){return _t(ds,null,t,e)}function Kh(t,e){const n=_t(zi,null,t);return n.staticCount=e,n}function dt(t="",e=!1){return e?(Te(),vn(nr,null,t)):_t(nr,null,t)}function ln(t){return t==null||typeof t=="boolean"?_t(nr):xe(t)?_t(Ut,null,t.slice()):qu(t)?jn(t):_t(ds,null,String(t))}function jn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Or(t)}function ua(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(xe(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),ua(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!Tu(e)?e._ctx=zt:s===3&&zt&&(zt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Pe(e)?(e={default:e,_ctx:zt},n=32):(e=String(e),r&64?(n=16,e=[Qt(e)]):n=8);t.children=e,t.shapeFlag|=n}function Nh(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=zo([e.class,r.class]));else if(s==="style")e.style=Ho([e.style,r.style]);else if(rs(s)){const a=e[s],l=r[s];l&&a!==l&&!(xe(a)&&a.includes(l))&&(e[s]=a?[].concat(a,l):l)}else s!==""&&(e[s]=r[s])}return e}function on(t,e,n,r=null){fn(t,e,7,[n,r])}const Bh=Ou();let qh=0;function Vh(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||Bh,a={uid:qh++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new lf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ju(r,s),emitsOptions:Ku(r,s),emit:null,emitted:null,propsDefaults:rt,inheritAttrs:r.inheritAttrs,ctx:rt,data:rt,props:rt,attrs:rt,slots:rt,refs:rt,setupState:rt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=jh.bind(null,a),t.ce&&t.ce(a),a}let Pt=null,Zi,To;{const t=Gl(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),a=>{s.length>1?s.forEach(l=>l(a)):s[0](a)}};Zi=e("__VUE_INSTANCE_SETTERS__",n=>Pt=n),To=e("__VUE_SSR_SETTERS__",n=>ps=n)}const li=t=>{const e=Pt;return Zi(t),t.scope.on(),()=>{t.scope.off(),Zi(e)}},cl=()=>{Pt&&Pt.scope.off(),Zi(null)};function Hu(t){return t.vnode.shapeFlag&4}let ps=!1;function Hh(t,e=!1,n=!1){e&&To(e);const{props:r,children:s}=t.vnode,a=Hu(t);vh(t,r,a,e),wh(t,s,n);const l=a?zh(t,e):void 0;return e&&To(!1),l}function zh(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,lh);const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?Jh(t):null,a=li(t);Fn();const l=ai(r,t,0,[t.props,s]);if(Un(),a(),Hl(l)){if(Jr(t)||wu(t),l.then(cl,cl),e)return l.then(c=>{fl(t,c,e)}).catch(c=>{cs(c,t,0)});t.asyncDep=l}else fl(t,l,e)}else zu(t,e)}function fl(t,e,n){Pe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:lt(e)&&(t.setupState=gu(e)),zu(t,n)}let hl;function zu(t,e,n){const r=t.type;if(!t.render){if(!e&&hl&&!r.render){const s=r.template||aa(t).template;if(s){const{isCustomElement:a,compilerOptions:l}=t.appContext.config,{delimiters:c,compilerOptions:h}=r,y=At(At({isCustomElement:a,delimiters:c},l),h);r.render=hl(s,y)}}t.render=r.render||un}{const s=li(t);Fn();try{uh(t)}finally{Un(),s()}}}const Wh={get(t,e){return jt(t,"get",""),t[e]}};function Jh(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Wh),slots:t.slots,emit:t.emit,expose:e}}function gs(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(gu(Rf(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Gr)return Gr[n](t)},has(e,n){return n in e||n in Gr}})):t.proxy}function Gh(t,e=!0){return Pe(t)?t.displayName||t.name:t.name||e&&t.__name}function Qh(t){return Pe(t)&&"__vccOpts"in t}const Yh=(t,e)=>Ff(t,e,ps),Xh="3.5.10";/**
* @vue/runtime-dom v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ao;const dl=typeof window<"u"&&window.trustedTypes;if(dl)try{Ao=dl.createPolicy("vue",{createHTML:t=>t})}catch{}const Wu=Ao?t=>Ao.createHTML(t):t=>t,Zh="http://www.w3.org/2000/svg",ed="http://www.w3.org/1998/Math/MathML",yn=typeof document<"u"?document:null,pl=yn&&yn.createElement("template"),td={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?yn.createElementNS(Zh,t):e==="mathml"?yn.createElementNS(ed,t):n?yn.createElement(t,{is:n}):yn.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>yn.createTextNode(t),createComment:t=>yn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>yn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,a){const l=n?n.previousSibling:e.lastChild;if(s&&(s===a||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===a||!(s=s.nextSibling)););else{pl.innerHTML=Wu(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const c=pl.content;if(r==="svg"||r==="mathml"){const h=c.firstChild;for(;h.firstChild;)c.appendChild(h.firstChild);c.removeChild(h)}e.insertBefore(c,n)}return[l?l.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},nd=Symbol("_vtc");function rd(t,e,n){const r=t[nd];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const gl=Symbol("_vod"),id=Symbol("_vsh"),sd=Symbol(""),od=/(^|;)\s*display\s*:/;function ad(t,e,n){const r=t.style,s=mt(n);let a=!1;if(n&&!s){if(e)if(mt(e))for(const l of e.split(";")){const c=l.slice(0,l.indexOf(":")).trim();n[c]==null&&Ji(r,c,"")}else for(const l in e)n[l]==null&&Ji(r,l,"");for(const l in n)l==="display"&&(a=!0),Ji(r,l,n[l])}else if(s){if(e!==n){const l=r[sd];l&&(n+=";"+l),r.cssText=n,a=od.test(n)}}else e&&t.removeAttribute("style");gl in t&&(t[gl]=a?r.display:"",t[id]&&(r.display="none"))}const yl=/\s*!important$/;function Ji(t,e,n){if(xe(n))n.forEach(r=>Ji(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=ld(t,e);yl.test(n)?t.setProperty(Mn(r),n.replace(yl,""),"important"):t[r]=n}}const vl=["Webkit","Moz","ms"],co={};function ld(t,e){const n=co[e];if(n)return n;let r=Xt(e);if(r!=="filter"&&r in t)return co[e]=r;r=os(r);for(let s=0;s<vl.length;s++){const a=vl[s]+r;if(a in t)return co[e]=a}return e}const ml="http://www.w3.org/1999/xlink";function _l(t,e,n,r,s,a=of(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(ml,e.slice(6,e.length)):t.setAttributeNS(ml,e,n):n==null||a&&!Ql(n)?t.removeAttribute(e):t.setAttribute(e,a?"":cn(n)?String(n):n)}function bl(t,e,n,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Wu(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const l=s==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=Ql(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}function Xn(t,e,n,r){t.addEventListener(e,n,r)}function ud(t,e,n,r){t.removeEventListener(e,n,r)}const wl=Symbol("_vei");function cd(t,e,n,r,s=null){const a=t[wl]||(t[wl]={}),l=a[e];if(r&&l)l.value=r;else{const[c,h]=fd(e);if(r){const y=a[e]=pd(r,s);Xn(t,c,y,h)}else l&&(ud(t,c,l,h),a[e]=void 0)}}const kl=/(?:Once|Passive|Capture)$/;function fd(t){let e;if(kl.test(t)){e={};let r;for(;r=t.match(kl);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Mn(t.slice(2)),e]}let fo=0;const hd=Promise.resolve(),dd=()=>fo||(hd.then(()=>fo=0),fo=Date.now());function pd(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;fn(gd(r,n.value),e,5,[r])};return n.value=t,n.attached=dd(),n}function gd(t,e){if(xe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const xl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,yd=(t,e,n,r,s,a)=>{const l=s==="svg";e==="class"?rd(t,r,l):e==="style"?ad(t,n,r):rs(e)?Bo(e)||cd(t,e,n,r,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):vd(t,e,r,l))?(bl(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&_l(t,e,r,l,a,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!mt(r))?bl(t,Xt(e),r):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),_l(t,e,r,l))};function vd(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&xl(e)&&Pe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return xl(e)&&mt(n)?!1:e in t}const es=t=>{const e=t.props["onUpdate:modelValue"]||!1;return xe(e)?n=>Vi(e,n):e};function md(t){t.target.composing=!0}function El(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Er=Symbol("_assign"),Bt={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[Er]=es(s);const a=r||s.props&&s.props.type==="number";Xn(t,e?"change":"input",l=>{if(l.target.composing)return;let c=t.value;n&&(c=c.trim()),a&&(c=_o(c)),t[Er](c)}),n&&Xn(t,"change",()=>{t.value=t.value.trim()}),e||(Xn(t,"compositionstart",md),Xn(t,"compositionend",El),Xn(t,"change",El))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:a}},l){if(t[Er]=es(l),t.composing)return;const c=(a||t.type==="number")&&!/^0\d/.test(t.value)?_o(t.value):t.value,h=e??"";c!==h&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===h)||(t.value=h))}},_d={deep:!0,created(t,e,n){t[Er]=es(n),Xn(t,"change",()=>{const r=t._modelValue,s=bd(t),a=t.checked,l=t[Er];if(xe(r)){const c=Yl(r,s),h=c!==-1;if(a&&!h)l(r.concat(s));else if(!a&&h){const y=[...r];y.splice(c,1),l(y)}}else if(is(r)){const c=new Set(r);a?c.add(s):c.delete(s),l(c)}else l(Ju(t,a))})},mounted:Sl,beforeUpdate(t,e,n){t[Er]=es(n),Sl(t,e,n)}};function Sl(t,{value:e},n){t._modelValue=e;let r;xe(e)?r=Yl(e,n.props.value)>-1:is(e)?r=e.has(n.props.value):r=as(e,Ju(t,!0)),t.checked!==r&&(t.checked=r)}function bd(t){return"_value"in t?t._value:t.value}function Ju(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const wd=["ctrl","shift","alt","meta"],kd={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>wd.some(n=>t[`${n}Key`]&&!e.includes(n))},ho=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...a)=>{for(let l=0;l<e.length;l++){const c=kd[e[l]];if(c&&c(s,e))return}return t(s,...a)})},xd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ed=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const a=Mn(s.key);if(e.some(l=>l===a||xd[l]===a))return t(s)})},Sd=At({patchProp:yd},td);let Ol;function Od(){return Ol||(Ol=xh(Sd))}const Cd=(...t)=>{const e=Od().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=Td(r);if(!s)return;const a=e._component;!Pe(a)&&!a.render&&!a.template&&(a.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const l=n(s,!1,Pd(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},e};function Pd(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Td(t){return mt(t)?document.querySelector(t):t}var Lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ad(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Qu={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,r){t.exports=r()})(Lt,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s=!r.document&&!!r.postMessage,a=r.IS_PAPA_WORKER||!1,l={},c=0,h={parse:function(I,R){var z=(R=R||{}).dynamicTyping||!1;if(be(z)&&(R.dynamicTypingFunction=z,z={}),R.dynamicTyping=z,R.transform=!!be(R.transform)&&R.transform,R.worker&&h.WORKERS_SUPPORTED){var ce=function(){if(!h.WORKERS_SUPPORTED)return!1;var ye=(ut=r.URL||r.webkitURL||null,Se=n.toString(),h.BLOB_URL||(h.BLOB_URL=ut.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Se,")();"],{type:"text/javascript"})))),Ae=new r.Worker(ye),ut,Se;return Ae.onmessage=Re,Ae.id=c++,l[Ae.id]=Ae}();return ce.userStep=R.step,ce.userChunk=R.chunk,ce.userComplete=R.complete,ce.userError=R.error,R.step=be(R.step),R.chunk=be(R.chunk),R.complete=be(R.complete),R.error=be(R.error),delete R.worker,void ce.postMessage({input:I,config:R,workerId:ce.id})}var he=null;return h.NODE_STREAM_INPUT,typeof I=="string"?(I=function(ye){return ye.charCodeAt(0)===65279?ye.slice(1):ye}(I),he=R.download?new _(R):new H(R)):I.readable===!0&&be(I.read)&&be(I.on)?he=new oe(R):(r.File&&I instanceof File||I instanceof Object)&&(he=new P(R)),he.stream(I)},unparse:function(I,R){var z=!1,ce=!0,he=",",ye=`\r
`,Ae='"',ut=Ae+Ae,Se=!1,te=null,me=!1;(function(){if(typeof R=="object"){if(typeof R.delimiter!="string"||h.BAD_DELIMITERS.filter(function(le){return R.delimiter.indexOf(le)!==-1}).length||(he=R.delimiter),(typeof R.quotes=="boolean"||typeof R.quotes=="function"||Array.isArray(R.quotes))&&(z=R.quotes),typeof R.skipEmptyLines!="boolean"&&typeof R.skipEmptyLines!="string"||(Se=R.skipEmptyLines),typeof R.newline=="string"&&(ye=R.newline),typeof R.quoteChar=="string"&&(Ae=R.quoteChar),typeof R.header=="boolean"&&(ce=R.header),Array.isArray(R.columns)){if(R.columns.length===0)throw new Error("Option columns is empty");te=R.columns}R.escapeChar!==void 0&&(ut=R.escapeChar+Ae),(typeof R.escapeFormulae=="boolean"||R.escapeFormulae instanceof RegExp)&&(me=R.escapeFormulae instanceof RegExp?R.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var pe=new RegExp(ve(Ae),"g");if(typeof I=="string"&&(I=JSON.parse(I)),Array.isArray(I)){if(!I.length||Array.isArray(I[0]))return it(null,I,Se);if(typeof I[0]=="object")return it(te||Object.keys(I[0]),I,Se)}else if(typeof I=="object")return typeof I.data=="string"&&(I.data=JSON.parse(I.data)),Array.isArray(I.data)&&(I.fields||(I.fields=I.meta&&I.meta.fields||te),I.fields||(I.fields=Array.isArray(I.data[0])?I.fields:typeof I.data[0]=="object"?Object.keys(I.data[0]):[]),Array.isArray(I.data[0])||typeof I.data[0]=="object"||(I.data=[I.data])),it(I.fields||[],I.data||[],Se);throw new Error("Unable to serialize unrecognized input");function it(le,Ne,gt){var Qe="";typeof le=="string"&&(le=JSON.parse(le)),typeof Ne=="string"&&(Ne=JSON.parse(Ne));var We=Array.isArray(le)&&0<le.length,et=!Array.isArray(Ne[0]);if(We&&ce){for(var ct=0;ct<le.length;ct++)0<ct&&(Qe+=he),Qe+=Xe(le[ct],ct);0<Ne.length&&(Qe+=ye)}for(var q=0;q<Ne.length;q++){var Fe=We?le.length:Ne[q].length,ze=!1,we=We?Object.keys(Ne[q]).length===0:Ne[q].length===0;if(gt&&!We&&(ze=gt==="greedy"?Ne[q].join("").trim()==="":Ne[q].length===1&&Ne[q][0].length===0),gt==="greedy"&&We){for(var m=[],k=0;k<Fe;k++){var D=et?le[k]:k;m.push(Ne[q][D])}ze=m.join("").trim()===""}if(!ze){for(var F=0;F<Fe;F++){0<F&&!we&&(Qe+=he);var N=We&&et?le[F]:F;Qe+=Xe(Ne[q][N],F)}q<Ne.length-1&&(!gt||0<Fe&&!we)&&(Qe+=ye)}}return Qe}function Xe(le,Ne){if(le==null)return"";if(le.constructor===Date)return JSON.stringify(le).slice(1,25);var gt=!1;me&&typeof le=="string"&&me.test(le)&&(le="'"+le,gt=!0);var Qe=le.toString().replace(pe,ut);return(gt=gt||z===!0||typeof z=="function"&&z(le,Ne)||Array.isArray(z)&&z[Ne]||function(We,et){for(var ct=0;ct<et.length;ct++)if(-1<We.indexOf(et[ct]))return!0;return!1}(Qe,h.BAD_DELIMITERS)||-1<Qe.indexOf(he)||Qe.charAt(0)===" "||Qe.charAt(Qe.length-1)===" ")?Ae+Qe+Ae:Qe}}};if(h.RECORD_SEP="",h.UNIT_SEP="",h.BYTE_ORDER_MARK="\uFEFF",h.BAD_DELIMITERS=["\r",`
`,'"',h.BYTE_ORDER_MARK],h.WORKERS_SUPPORTED=!s&&!!r.Worker,h.NODE_STREAM_INPUT=1,h.LocalChunkSize=10485760,h.RemoteChunkSize=5242880,h.DefaultDelimiter=",",h.Parser=_e,h.ParserHandle=ee,h.NetworkStreamer=_,h.FileStreamer=P,h.StringStreamer=H,h.ReadableStreamStreamer=oe,r.jQuery){var y=r.jQuery;y.fn.parse=function(I){var R=I.config||{},z=[];return this.each(function(ye){if(!(y(this).prop("tagName").toUpperCase()==="INPUT"&&y(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var Ae=0;Ae<this.files.length;Ae++)z.push({file:this.files[Ae],inputElem:this,instanceConfig:y.extend({},R)})}),ce(),this;function ce(){if(z.length!==0){var ye,Ae,ut,Se,te=z[0];if(be(I.before)){var me=I.before(te.file,te.inputElem);if(typeof me=="object"){if(me.action==="abort")return ye="AbortError",Ae=te.file,ut=te.inputElem,Se=me.reason,void(be(I.error)&&I.error({name:ye},Ae,ut,Se));if(me.action==="skip")return void he();typeof me.config=="object"&&(te.instanceConfig=y.extend(te.instanceConfig,me.config))}else if(me==="skip")return void he()}var pe=te.instanceConfig.complete;te.instanceConfig.complete=function(it){be(pe)&&pe(it,te.file,te.inputElem),he()},h.parse(te.file,te.instanceConfig)}else be(I.complete)&&I.complete()}function he(){z.splice(0,1),ce()}}}function p(I){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(R){var z=Me(R);z.chunkSize=parseInt(z.chunkSize),R.step||R.chunk||(z.chunkSize=null),this._handle=new ee(z),(this._handle.streamer=this)._config=z}).call(this,I),this.parseChunk=function(R,z){if(this.isFirstChunk&&be(this._config.beforeFirstChunk)){var ce=this._config.beforeFirstChunk(R);ce!==void 0&&(R=ce)}this.isFirstChunk=!1,this._halted=!1;var he=this._partialLine+R;this._partialLine="";var ye=this._handle.parse(he,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var Ae=ye.meta.cursor;this._finished||(this._partialLine=he.substring(Ae-this._baseIndex),this._baseIndex=Ae),ye&&ye.data&&(this._rowCount+=ye.data.length);var ut=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(a)r.postMessage({results:ye,workerId:h.WORKER_ID,finished:ut});else if(be(this._config.chunk)&&!z){if(this._config.chunk(ye,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);ye=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(ye.data),this._completeResults.errors=this._completeResults.errors.concat(ye.errors),this._completeResults.meta=ye.meta),this._completed||!ut||!be(this._config.complete)||ye&&ye.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),ut||ye&&ye.meta.paused||this._nextChunk(),ye}this._halted=!0},this._sendError=function(R){be(this._config.error)?this._config.error(R):a&&this._config.error&&r.postMessage({workerId:h.WORKER_ID,error:R,finished:!1})}}function _(I){var R;(I=I||{}).chunkSize||(I.chunkSize=h.RemoteChunkSize),p.call(this,I),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(z){this._input=z,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(R=new XMLHttpRequest,this._config.withCredentials&&(R.withCredentials=this._config.withCredentials),s||(R.onload=Ze(this._chunkLoaded,this),R.onerror=Ze(this._chunkError,this)),R.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var z=this._config.downloadRequestHeaders;for(var ce in z)R.setRequestHeader(ce,z[ce])}if(this._config.chunkSize){var he=this._start+this._config.chunkSize-1;R.setRequestHeader("Range","bytes="+this._start+"-"+he)}try{R.send(this._config.downloadRequestBody)}catch(ye){this._chunkError(ye.message)}s&&R.status===0&&this._chunkError()}},this._chunkLoaded=function(){R.readyState===4&&(R.status<200||400<=R.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:R.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(z){var ce=z.getResponseHeader("Content-Range");return ce===null?-1:parseInt(ce.substring(ce.lastIndexOf("/")+1))}(R),this.parseChunk(R.responseText)))},this._chunkError=function(z){var ce=R.statusText||z;this._sendError(new Error(ce))}}function P(I){var R,z;(I=I||{}).chunkSize||(I.chunkSize=h.LocalChunkSize),p.call(this,I);var ce=typeof FileReader<"u";this.stream=function(he){this._input=he,z=he.slice||he.webkitSlice||he.mozSlice,ce?((R=new FileReader).onload=Ze(this._chunkLoaded,this),R.onerror=Ze(this._chunkError,this)):R=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var he=this._input;if(this._config.chunkSize){var ye=Math.min(this._start+this._config.chunkSize,this._input.size);he=z.call(he,this._start,ye)}var Ae=R.readAsText(he,this._config.encoding);ce||this._chunkLoaded({target:{result:Ae}})},this._chunkLoaded=function(he){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(he.target.result)},this._chunkError=function(){this._sendError(R.error)}}function H(I){var R;p.call(this,I=I||{}),this.stream=function(z){return R=z,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var z,ce=this._config.chunkSize;return ce?(z=R.substring(0,ce),R=R.substring(ce)):(z=R,R=""),this._finished=!R,this.parseChunk(z)}}}function oe(I){p.call(this,I=I||{});var R=[],z=!0,ce=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(he){this._input=he,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){ce&&R.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),R.length?this.parseChunk(R.shift()):z=!0},this._streamData=Ze(function(he){try{R.push(typeof he=="string"?he:he.toString(this._config.encoding)),z&&(z=!1,this._checkIsFinished(),this.parseChunk(R.shift()))}catch(ye){this._streamError(ye)}},this),this._streamError=Ze(function(he){this._streamCleanUp(),this._sendError(he)},this),this._streamEnd=Ze(function(){this._streamCleanUp(),ce=!0,this._streamData("")},this),this._streamCleanUp=Ze(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function ee(I){var R,z,ce,he=Math.pow(2,53),ye=-he,Ae=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ut=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Se=this,te=0,me=0,pe=!1,it=!1,Xe=[],le={data:[],errors:[],meta:{}};if(be(I.step)){var Ne=I.step;I.step=function(q){if(le=q,We())Qe();else{if(Qe(),le.data.length===0)return;te+=q.data.length,I.preview&&te>I.preview?z.abort():(le.data=le.data[0],Ne(le,Se))}}}function gt(q){return I.skipEmptyLines==="greedy"?q.join("").trim()==="":q.length===1&&q[0].length===0}function Qe(){return le&&ce&&(ct("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+h.DefaultDelimiter+"'"),ce=!1),I.skipEmptyLines&&(le.data=le.data.filter(function(q){return!gt(q)})),We()&&function(){if(!le)return;function q(ze,we){be(I.transformHeader)&&(ze=I.transformHeader(ze,we)),Xe.push(ze)}if(Array.isArray(le.data[0])){for(var Fe=0;We()&&Fe<le.data.length;Fe++)le.data[Fe].forEach(q);le.data.splice(0,1)}else le.data.forEach(q)}(),function(){if(!le||!I.header&&!I.dynamicTyping&&!I.transform)return le;function q(ze,we){var m,k=I.header?{}:[];for(m=0;m<ze.length;m++){var D=m,F=ze[m];I.header&&(D=m>=Xe.length?"__parsed_extra":Xe[m]),I.transform&&(F=I.transform(F,D)),F=et(D,F),D==="__parsed_extra"?(k[D]=k[D]||[],k[D].push(F)):k[D]=F}return I.header&&(m>Xe.length?ct("FieldMismatch","TooManyFields","Too many fields: expected "+Xe.length+" fields but parsed "+m,me+we):m<Xe.length&&ct("FieldMismatch","TooFewFields","Too few fields: expected "+Xe.length+" fields but parsed "+m,me+we)),k}var Fe=1;return!le.data.length||Array.isArray(le.data[0])?(le.data=le.data.map(q),Fe=le.data.length):le.data=q(le.data,0),I.header&&le.meta&&(le.meta.fields=Xe),me+=Fe,le}()}function We(){return I.header&&Xe.length===0}function et(q,Fe){return ze=q,I.dynamicTypingFunction&&I.dynamicTyping[ze]===void 0&&(I.dynamicTyping[ze]=I.dynamicTypingFunction(ze)),(I.dynamicTyping[ze]||I.dynamicTyping)===!0?Fe==="true"||Fe==="TRUE"||Fe!=="false"&&Fe!=="FALSE"&&(function(we){if(Ae.test(we)){var m=parseFloat(we);if(ye<m&&m<he)return!0}return!1}(Fe)?parseFloat(Fe):ut.test(Fe)?new Date(Fe):Fe===""?null:Fe):Fe;var ze}function ct(q,Fe,ze,we){var m={type:q,code:Fe,message:ze};we!==void 0&&(m.row=we),le.errors.push(m)}this.parse=function(q,Fe,ze){var we=I.quoteChar||'"';if(I.newline||(I.newline=function(D,F){D=D.substring(0,1048576);var N=new RegExp(ve(F)+"([^]*?)"+ve(F),"gm"),B=(D=D.replace(N,"")).split("\r"),X=D.split(`
`),J=1<X.length&&X[0].length<B[0].length;if(B.length===1||J)return`
`;for(var V=0,K=0;K<B.length;K++)B[K][0]===`
`&&V++;return V>=B.length/2?`\r
`:"\r"}(q,we)),ce=!1,I.delimiter)be(I.delimiter)&&(I.delimiter=I.delimiter(q),le.meta.delimiter=I.delimiter);else{var m=function(D,F,N,B,X){var J,V,K,ae;X=X||[",","	","|",";",h.RECORD_SEP,h.UNIT_SEP];for(var ne=0;ne<X.length;ne++){var Y=X[ne],ge=0,ke=0,je=0;K=void 0;for(var Oe=new _e({comments:B,delimiter:Y,newline:F,preview:10}).parse(D),tt=0;tt<Oe.data.length;tt++)if(N&&gt(Oe.data[tt]))je++;else{var Be=Oe.data[tt].length;ke+=Be,K!==void 0?0<Be&&(ge+=Math.abs(Be-K),K=Be):K=Be}0<Oe.data.length&&(ke/=Oe.data.length-je),(V===void 0||ge<=V)&&(ae===void 0||ae<ke)&&1.99<ke&&(V=ge,J=Y,ae=ke)}return{successful:!!(I.delimiter=J),bestDelimiter:J}}(q,I.newline,I.skipEmptyLines,I.comments,I.delimitersToGuess);m.successful?I.delimiter=m.bestDelimiter:(ce=!0,I.delimiter=h.DefaultDelimiter),le.meta.delimiter=I.delimiter}var k=Me(I);return I.preview&&I.header&&k.preview++,R=q,z=new _e(k),le=z.parse(R,Fe,ze),Qe(),pe?{meta:{paused:!0}}:le||{meta:{paused:!1}}},this.paused=function(){return pe},this.pause=function(){pe=!0,z.abort(),R=be(I.chunk)?"":R.substring(z.getCharIndex())},this.resume=function(){Se.streamer._halted?(pe=!1,Se.streamer.parseChunk(R,!0)):setTimeout(Se.resume,3)},this.aborted=function(){return it},this.abort=function(){it=!0,z.abort(),le.meta.aborted=!0,be(I.complete)&&I.complete(le),R=""}}function ve(I){return I.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _e(I){var R,z=(I=I||{}).delimiter,ce=I.newline,he=I.comments,ye=I.step,Ae=I.preview,ut=I.fastMode,Se=R=I.quoteChar===void 0||I.quoteChar===null?'"':I.quoteChar;if(I.escapeChar!==void 0&&(Se=I.escapeChar),(typeof z!="string"||-1<h.BAD_DELIMITERS.indexOf(z))&&(z=","),he===z)throw new Error("Comment character same as delimiter");he===!0?he="#":(typeof he!="string"||-1<h.BAD_DELIMITERS.indexOf(he))&&(he=!1),ce!==`
`&&ce!=="\r"&&ce!==`\r
`&&(ce=`
`);var te=0,me=!1;this.parse=function(pe,it,Xe){if(typeof pe!="string")throw new Error("Input must be a string");var le=pe.length,Ne=z.length,gt=ce.length,Qe=he.length,We=be(ye),et=[],ct=[],q=[],Fe=te=0;if(!pe)return Ye();if(I.header&&!it){var ze=pe.split(ce)[0].split(z),we=[],m={},k=!1;for(var D in ze){var F=ze[D];be(I.transformHeader)&&(F=I.transformHeader(F,D));var N=F,B=m[F]||0;for(0<B&&(k=!0,N=F+"_"+B),m[F]=B+1;we.includes(N);)N=N+"_"+B;we.push(N)}if(k){var X=pe.split(ce);X[0]=we.join(z),pe=X.join(ce)}}if(ut||ut!==!1&&pe.indexOf(R)===-1){for(var J=pe.split(ce),V=0;V<J.length;V++){if(q=J[V],te+=q.length,V!==J.length-1)te+=ce.length;else if(Xe)return Ye();if(!he||q.substring(0,Qe)!==he){if(We){if(et=[],je(q.split(z)),pt(),me)return Ye()}else je(q.split(z));if(Ae&&Ae<=V)return et=et.slice(0,Ae),Ye(!0)}}return Ye()}for(var K=pe.indexOf(z,te),ae=pe.indexOf(ce,te),ne=new RegExp(ve(Se)+ve(R),"g"),Y=pe.indexOf(R,te);;)if(pe[te]!==R)if(he&&q.length===0&&pe.substring(te,te+Qe)===he){if(ae===-1)return Ye();te=ae+gt,ae=pe.indexOf(ce,te),K=pe.indexOf(z,te)}else if(K!==-1&&(K<ae||ae===-1))q.push(pe.substring(te,K)),te=K+Ne,K=pe.indexOf(z,te);else{if(ae===-1)break;if(q.push(pe.substring(te,ae)),Be(ae+gt),We&&(pt(),me))return Ye();if(Ae&&et.length>=Ae)return Ye(!0)}else for(Y=te,te++;;){if((Y=pe.indexOf(R,Y+1))===-1)return Xe||ct.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:et.length,index:te}),tt();if(Y===le-1)return tt(pe.substring(te,Y).replace(ne,R));if(R!==Se||pe[Y+1]!==Se){if(R===Se||Y===0||pe[Y-1]!==Se){K!==-1&&K<Y+1&&(K=pe.indexOf(z,Y+1)),ae!==-1&&ae<Y+1&&(ae=pe.indexOf(ce,Y+1));var ge=Oe(ae===-1?K:Math.min(K,ae));if(pe.substr(Y+1+ge,Ne)===z){q.push(pe.substring(te,Y).replace(ne,R)),pe[te=Y+1+ge+Ne]!==R&&(Y=pe.indexOf(R,te)),K=pe.indexOf(z,te),ae=pe.indexOf(ce,te);break}var ke=Oe(ae);if(pe.substring(Y+1+ke,Y+1+ke+gt)===ce){if(q.push(pe.substring(te,Y).replace(ne,R)),Be(Y+1+ke+gt),K=pe.indexOf(z,te),Y=pe.indexOf(R,te),We&&(pt(),me))return Ye();if(Ae&&et.length>=Ae)return Ye(!0);break}ct.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:et.length,index:te}),Y++}}else Y++}return tt();function je(nt){et.push(nt),Fe=te}function Oe(nt){var de=0;if(nt!==-1){var ht=pe.substring(Y+1,nt);ht&&ht.trim()===""&&(de=ht.length)}return de}function tt(nt){return Xe||(nt===void 0&&(nt=pe.substring(te)),q.push(nt),te=le,je(q),We&&pt()),Ye()}function Be(nt){te=nt,je(q),q=[],ae=pe.indexOf(ce,te)}function Ye(nt){return{data:et,errors:ct,meta:{delimiter:z,linebreak:ce,aborted:me,truncated:!!nt,cursor:Fe+(it||0)}}}function pt(){ye(Ye()),et=[],ct=[]}},this.abort=function(){me=!0},this.getCharIndex=function(){return te}}function Re(I){var R=I.data,z=l[R.workerId],ce=!1;if(R.error)z.userError(R.error,R.file);else if(R.results&&R.results.data){var he={abort:function(){ce=!0,Ie(R.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:fe,resume:fe};if(be(z.userStep)){for(var ye=0;ye<R.results.data.length&&(z.userStep({data:R.results.data[ye],errors:R.results.errors,meta:R.results.meta},he),!ce);ye++);delete R.results}else be(z.userChunk)&&(z.userChunk(R.results,he,R.file),delete R.results)}R.finished&&!ce&&Ie(R.workerId,R.results)}function Ie(I,R){var z=l[I];be(z.userComplete)&&z.userComplete(R),z.terminate(),delete l[I]}function fe(){throw new Error("Not implemented.")}function Me(I){if(typeof I!="object"||I===null)return I;var R=Array.isArray(I)?[]:{};for(var z in I)R[z]=Me(I[z]);return R}function Ze(I,R){return function(){I.apply(R,arguments)}}function be(I){return typeof I=="function"}return a&&(r.onmessage=function(I){var R=I.data;if(h.WORKER_ID===void 0&&R&&(h.WORKER_ID=R.workerId),typeof R.input=="string")r.postMessage({workerId:h.WORKER_ID,results:h.parse(R.input,R.config),finished:!0});else if(r.File&&R.input instanceof File||R.input instanceof Object){var z=h.parse(R.input,R.config);z&&r.postMessage({workerId:h.WORKER_ID,results:z,finished:!0})}}),(_.prototype=Object.create(p.prototype)).constructor=_,(P.prototype=Object.create(p.prototype)).constructor=P,(H.prototype=Object.create(H.prototype)).constructor=H,(oe.prototype=Object.create(p.prototype)).constructor=oe,h})})(Qu);var jd=Qu.exports;const Cl=Gu(jd);var Yu={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Lt,function(){var n=function(i,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(u[d]=f[d])})(i,o)},r=function(){return(r=Object.assign||function(i){for(var o,u=1,f=arguments.length;u<f;u++)for(var d in o=arguments[u])Object.prototype.hasOwnProperty.call(o,d)&&(i[d]=o[d]);return i}).apply(this,arguments)};function s(i,o,u){for(var f,d=0,g=o.length;d<g;d++)!f&&d in o||((f=f||Array.prototype.slice.call(o,0,d))[d]=o[d]);return i.concat(f||Array.prototype.slice.call(o))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Lt,l=Object.keys,c=Array.isArray;function h(i,o){return typeof o!="object"||l(o).forEach(function(u){i[u]=o[u]}),i}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var y=Object.getPrototypeOf,p={}.hasOwnProperty;function _(i,o){return p.call(i,o)}function P(i,o){typeof o=="function"&&(o=o(y(i))),(typeof Reflect>"u"?l:Reflect.ownKeys)(o).forEach(function(u){oe(i,u,o[u])})}var H=Object.defineProperty;function oe(i,o,u,f){H(i,o,h(u&&_(u,"get")&&typeof u.get=="function"?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},f))}function ee(i){return{from:function(o){return i.prototype=Object.create(o.prototype),oe(i.prototype,"constructor",i),{extend:P.bind(null,i.prototype)}}}}var ve=Object.getOwnPropertyDescriptor,_e=[].slice;function Re(i,o,u){return _e.call(i,o,u)}function Ie(i,o){return o(i)}function fe(i){if(!i)throw new Error("Assertion Failed")}function Me(i){a.setImmediate?setImmediate(i):setTimeout(i,0)}function Ze(i,o){if(typeof o=="string"&&_(i,o))return i[o];if(!o)return i;if(typeof o!="string"){for(var u=[],f=0,d=o.length;f<d;++f){var g=Ze(i,o[f]);u.push(g)}return u}var v=o.indexOf(".");if(v!==-1){var b=i[o.substr(0,v)];return b==null?void 0:Ze(b,o.substr(v+1))}}function be(i,o,u){if(i&&o!==void 0&&!("isFrozen"in Object&&Object.isFrozen(i)))if(typeof o!="string"&&"length"in o){fe(typeof u!="string"&&"length"in u);for(var f=0,d=o.length;f<d;++f)be(i,o[f],u[f])}else{var g,v,b=o.indexOf(".");b!==-1?(g=o.substr(0,b),(v=o.substr(b+1))===""?u===void 0?c(i)&&!isNaN(parseInt(g))?i.splice(g,1):delete i[g]:i[g]=u:be(b=!(b=i[g])||!_(i,g)?i[g]={}:b,v,u)):u===void 0?c(i)&&!isNaN(parseInt(o))?i.splice(o,1):delete i[o]:i[o]=u}}function I(i){var o,u={};for(o in i)_(i,o)&&(u[o]=i[o]);return u}var R=[].concat;function z(i){return R.apply([],i)}var dn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(z([8,16,32,64].map(function(i){return["Int","Uint","Float"].map(function(o){return o+i+"Array"})}))).filter(function(i){return a[i]}),ce=new Set(dn.map(function(i){return a[i]})),he=null;function ye(i){return he=new WeakMap,i=function o(u){if(!u||typeof u!="object")return u;var f=he.get(u);if(f)return f;if(c(u)){f=[],he.set(u,f);for(var d=0,g=u.length;d<g;++d)f.push(o(u[d]))}else if(ce.has(u.constructor))f=u;else{var v,b=y(u);for(v in f=b===Object.prototype?{}:Object.create(b),he.set(u,f),u)_(u,v)&&(f[v]=o(u[v]))}return f}(i),he=null,i}var Ae={}.toString;function ut(i){return Ae.call(i).slice(8,-1)}var Se=typeof Symbol<"u"?Symbol.iterator:"@@iterator",te=typeof Se=="symbol"?function(i){var o;return i!=null&&(o=i[Se])&&o.apply(i)}:function(){return null};function me(i,o){return o=i.indexOf(o),0<=o&&i.splice(o,1),0<=o}var pe={};function it(i){var o,u,f,d;if(arguments.length===1){if(c(i))return i.slice();if(this===pe&&typeof i=="string")return[i];if(d=te(i)){for(u=[];!(f=d.next()).done;)u.push(f.value);return u}if(i==null)return[i];if(typeof(o=i.length)!="number")return[i];for(u=new Array(o);o--;)u[o]=i[o];return u}for(o=arguments.length,u=new Array(o);o--;)u[o]=arguments[o];return u}var Xe=typeof Symbol<"u"?function(i){return i[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Y=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Jt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Y),le={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ne(i,o){this.name=i,this.message=o}function gt(i,o){return i+". Errors: "+Object.keys(o).map(function(u){return o[u].toString()}).filter(function(u,f,d){return d.indexOf(u)===f}).join(`
`)}function Qe(i,o,u,f){this.failures=o,this.failedKeys=f,this.successCount=u,this.message=gt(i,o)}function We(i,o){this.name="BulkError",this.failures=Object.keys(o).map(function(u){return o[u]}),this.failuresByPos=o,this.message=gt(i,this.failures)}ee(Ne).from(Error).extend({toString:function(){return this.name+": "+this.message}}),ee(Qe).from(Ne),ee(We).from(Ne);var et=Jt.reduce(function(i,o){return i[o]=o+"Error",i},{}),ct=Ne,q=Jt.reduce(function(i,o){var u=o+"Error";function f(d,g){this.name=u,d?typeof d=="string"?(this.message="".concat(d).concat(g?`
 `+g:""),this.inner=g||null):typeof d=="object"&&(this.message="".concat(d.name," ").concat(d.message),this.inner=d):(this.message=le[o]||u,this.inner=null)}return ee(f).from(ct),i[o]=f,i},{});q.Syntax=SyntaxError,q.Type=TypeError,q.Range=RangeError;var Fe=Y.reduce(function(i,o){return i[o+"Error"]=q[o],i},{}),ze=Jt.reduce(function(i,o){return["Syntax","Type","Range"].indexOf(o)===-1&&(i[o+"Error"]=q[o]),i},{});function we(){}function m(i){return i}function k(i,o){return i==null||i===m?o:function(u){return o(i(u))}}function D(i,o){return function(){i.apply(this,arguments),o.apply(this,arguments)}}function F(i,o){return i===we?o:function(){var u=i.apply(this,arguments);u!==void 0&&(arguments[0]=u);var f=this.onsuccess,d=this.onerror;this.onsuccess=null,this.onerror=null;var g=o.apply(this,arguments);return f&&(this.onsuccess=this.onsuccess?D(f,this.onsuccess):f),d&&(this.onerror=this.onerror?D(d,this.onerror):d),g!==void 0?g:u}}function N(i,o){return i===we?o:function(){i.apply(this,arguments);var u=this.onsuccess,f=this.onerror;this.onsuccess=this.onerror=null,o.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?D(u,this.onsuccess):u),f&&(this.onerror=this.onerror?D(f,this.onerror):f)}}function B(i,o){return i===we?o:function(u){var f=i.apply(this,arguments);h(u,f);var d=this.onsuccess,g=this.onerror;return this.onsuccess=null,this.onerror=null,u=o.apply(this,arguments),d&&(this.onsuccess=this.onsuccess?D(d,this.onsuccess):d),g&&(this.onerror=this.onerror?D(g,this.onerror):g),f===void 0?u===void 0?void 0:u:h(f,u)}}function X(i,o){return i===we?o:function(){return o.apply(this,arguments)!==!1&&i.apply(this,arguments)}}function J(i,o){return i===we?o:function(){var u=i.apply(this,arguments);if(u&&typeof u.then=="function"){for(var f=this,d=arguments.length,g=new Array(d);d--;)g[d]=arguments[d];return u.then(function(){return o.apply(f,g)})}return o.apply(this,arguments)}}ze.ModifyError=Qe,ze.DexieError=Ne,ze.BulkError=We;var V=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function K(i){V=i}var ae={},ne=100,dn=typeof Promise>"u"?[]:function(){var i=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[i,y(i),i];var o=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[o,y(o),i]}(),Y=dn[0],Jt=dn[1],dn=dn[2],Jt=Jt&&Jt.then,ge=Y&&Y.constructor,ke=!!dn,je=function(i,o){ht.push([i,o]),tt&&(queueMicrotask(Sc),tt=!1)},Oe=!0,tt=!0,Be=[],Ye=[],pt=m,nt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:we,pgp:!1,env:{},finalize:we},de=nt,ht=[],bt=0,Kn=[];function ue(i){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var o=this._PSD=de;if(typeof i!="function"){if(i!==ae)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Es(this,this._value))}this._state=null,this._value=null,++o.ref,function u(f,d){try{d(function(g){if(f._state===null){if(g===f)throw new TypeError("A promise cannot be resolved with itself.");var v=f._lib&&or();g&&typeof g.then=="function"?u(f,function(b,S){g instanceof ue?g._then(b,S):g.then(b,S)}):(f._state=!0,f._value=g,ya(f)),v&&ar()}},Es.bind(null,f))}catch(g){Es(f,g)}}(this,i)}var xs={get:function(){var i=de,o=pi;function u(f,d){var g=this,v=!i.global&&(i!==de||o!==pi),b=v&&!kn(),S=new ue(function(x,T){Ss(g,new ga(ma(f,i,v,b),ma(d,i,v,b),x,T,i))});return this._consoleTask&&(S._consoleTask=this._consoleTask),S}return u.prototype=ae,u},set:function(i){oe(this,"then",i&&i.prototype===ae?xs:{get:function(){return i},set:xs.set})}};function ga(i,o,u,f,d){this.onFulfilled=typeof i=="function"?i:null,this.onRejected=typeof o=="function"?o:null,this.resolve=u,this.reject=f,this.psd=d}function Es(i,o){var u,f;Ye.push(o),i._state===null&&(u=i._lib&&or(),o=pt(o),i._state=!1,i._value=o,f=i,Be.some(function(d){return d._value===f._value})||Be.push(f),ya(i),u&&ar())}function ya(i){var o=i._listeners;i._listeners=[];for(var u=0,f=o.length;u<f;++u)Ss(i,o[u]);var d=i._PSD;--d.ref||d.finalize(),bt===0&&(++bt,je(function(){--bt==0&&Os()},[]))}function Ss(i,o){if(i._state!==null){var u=i._state?o.onFulfilled:o.onRejected;if(u===null)return(i._state?o.resolve:o.reject)(i._value);++o.psd.ref,++bt,je(Ec,[u,i,o])}else i._listeners.push(o)}function Ec(i,o,u){try{var f,d=o._value;!o._state&&Ye.length&&(Ye=[]),f=V&&o._consoleTask?o._consoleTask.run(function(){return i(d)}):i(d),o._state||Ye.indexOf(d)!==-1||function(g){for(var v=Be.length;v;)if(Be[--v]._value===g._value)return Be.splice(v,1)}(o),u.resolve(f)}catch(g){u.reject(g)}finally{--bt==0&&Os(),--u.psd.ref||u.psd.finalize()}}function Sc(){Nn(nt,function(){or()&&ar()})}function or(){var i=Oe;return tt=Oe=!1,i}function ar(){var i,o,u;do for(;0<ht.length;)for(i=ht,ht=[],u=i.length,o=0;o<u;++o){var f=i[o];f[0].apply(null,f[1])}while(0<ht.length);tt=Oe=!0}function Os(){var i=Be;Be=[],i.forEach(function(f){f._PSD.onunhandled.call(null,f._value,f)});for(var o=Kn.slice(0),u=o.length;u;)o[--u]()}function fi(i){return new ue(ae,!1,i)}function ft(i,o){var u=de;return function(){var f=or(),d=de;try{return xn(u,!0),i.apply(this,arguments)}catch(g){o&&o(g)}finally{xn(d,!1),f&&ar()}}}P(ue.prototype,{then:xs,_then:function(i,o){Ss(this,new ga(null,null,i,o,de))},catch:function(i){if(arguments.length===1)return this.then(null,i);var o=i,u=arguments[1];return typeof o=="function"?this.then(null,function(f){return(f instanceof o?u:fi)(f)}):this.then(null,function(f){return(f&&f.name===o?u:fi)(f)})},finally:function(i){return this.then(function(o){return ue.resolve(i()).then(function(){return o})},function(o){return ue.resolve(i()).then(function(){return fi(o)})})},timeout:function(i,o){var u=this;return i<1/0?new ue(function(f,d){var g=setTimeout(function(){return d(new q.Timeout(o))},i);u.then(f,d).finally(clearTimeout.bind(null,g))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&oe(ue.prototype,Symbol.toStringTag,"Dexie.Promise"),nt.env=va(),P(ue,{all:function(){var i=it.apply(null,arguments).map(gi);return new ue(function(o,u){i.length===0&&o([]);var f=i.length;i.forEach(function(d,g){return ue.resolve(d).then(function(v){i[g]=v,--f||o(i)},u)})})},resolve:function(i){return i instanceof ue?i:i&&typeof i.then=="function"?new ue(function(o,u){i.then(o,u)}):new ue(ae,!0,i)},reject:fi,race:function(){var i=it.apply(null,arguments).map(gi);return new ue(function(o,u){i.map(function(f){return ue.resolve(f).then(o,u)})})},PSD:{get:function(){return de},set:function(i){return de=i}},totalEchoes:{get:function(){return pi}},newPSD:wn,usePSD:Nn,scheduler:{get:function(){return je},set:function(i){je=i}},rejectionMapper:{get:function(){return pt},set:function(i){pt=i}},follow:function(i,o){return new ue(function(u,f){return wn(function(d,g){var v=de;v.unhandleds=[],v.onunhandled=g,v.finalize=D(function(){var b,S=this;b=function(){S.unhandleds.length===0?d():g(S.unhandleds[0])},Kn.push(function x(){b(),Kn.splice(Kn.indexOf(x),1)}),++bt,je(function(){--bt==0&&Os()},[])},v.finalize),i()},o,u,f)})}}),ge&&(ge.allSettled&&oe(ue,"allSettled",function(){var i=it.apply(null,arguments).map(gi);return new ue(function(o){i.length===0&&o([]);var u=i.length,f=new Array(u);i.forEach(function(d,g){return ue.resolve(d).then(function(v){return f[g]={status:"fulfilled",value:v}},function(v){return f[g]={status:"rejected",reason:v}}).then(function(){return--u||o(f)})})})}),ge.any&&typeof AggregateError<"u"&&oe(ue,"any",function(){var i=it.apply(null,arguments).map(gi);return new ue(function(o,u){i.length===0&&u(new AggregateError([]));var f=i.length,d=new Array(f);i.forEach(function(g,v){return ue.resolve(g).then(function(b){return o(b)},function(b){d[v]=b,--f||u(new AggregateError(d))})})})}));var wt={awaits:0,echoes:0,id:0},Oc=0,hi=[],di=0,pi=0,Cc=0;function wn(i,o,u,f){var d=de,g=Object.create(d);return g.parent=d,g.ref=0,g.global=!1,g.id=++Cc,nt.env,g.env=ke?{Promise:ue,PromiseProp:{value:ue,configurable:!0,writable:!0},all:ue.all,race:ue.race,allSettled:ue.allSettled,any:ue.any,resolve:ue.resolve,reject:ue.reject}:{},o&&h(g,o),++d.ref,g.finalize=function(){--this.parent.ref||this.parent.finalize()},f=Nn(g,i,u,f),g.ref===0&&g.finalize(),f}function lr(){return wt.id||(wt.id=++Oc),++wt.awaits,wt.echoes+=ne,wt.id}function kn(){return!!wt.awaits&&(--wt.awaits==0&&(wt.id=0),wt.echoes=wt.awaits*ne,!0)}function gi(i){return wt.echoes&&i&&i.constructor===ge?(lr(),i.then(function(o){return kn(),o},function(o){return kn(),yt(o)})):i}function Pc(){var i=hi[hi.length-1];hi.pop(),xn(i,!1)}function xn(i,o){var u,f=de;(o?!wt.echoes||di++&&i===de:!di||--di&&i===de)||queueMicrotask(o?(function(d){++pi,wt.echoes&&--wt.echoes!=0||(wt.echoes=wt.awaits=wt.id=0),hi.push(de),xn(d,!0)}).bind(null,i):Pc),i!==de&&(de=i,f===nt&&(nt.env=va()),ke&&(u=nt.env.Promise,o=i.env,(f.global||i.global)&&(Object.defineProperty(a,"Promise",o.PromiseProp),u.all=o.all,u.race=o.race,u.resolve=o.resolve,u.reject=o.reject,o.allSettled&&(u.allSettled=o.allSettled),o.any&&(u.any=o.any))))}function va(){var i=a.Promise;return ke?{Promise:i,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:i.all,race:i.race,allSettled:i.allSettled,any:i.any,resolve:i.resolve,reject:i.reject}:{}}function Nn(i,o,u,f,d){var g=de;try{return xn(i,!0),o(u,f,d)}finally{xn(g,!1)}}function ma(i,o,u,f){return typeof i!="function"?i:function(){var d=de;u&&lr(),xn(o,!0);try{return i.apply(this,arguments)}finally{xn(d,!1),f&&queueMicrotask(kn)}}}function Cs(i){Promise===ge&&wt.echoes===0?di===0?i():enqueueNativeMicroTask(i):setTimeout(i,0)}(""+Jt).indexOf("[native code]")===-1&&(lr=kn=we);var yt=ue.reject,Bn="",hn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",_a="String expected.",ur=[],yi="__dbnames",Ps="readonly",Ts="readwrite";function qn(i,o){return i?o?function(){return i.apply(this,arguments)&&o.apply(this,arguments)}:i:o}var ba={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function vi(i){return typeof i!="string"||/\./.test(i)?function(o){return o}:function(o){return o[i]===void 0&&i in o&&delete(o=ye(o))[i],o}}function wa(){throw q.Type()}function qe(i,o){try{var u=ka(i),f=ka(o);if(u!==f)return u==="Array"?1:f==="Array"?-1:u==="binary"?1:f==="binary"?-1:u==="string"?1:f==="string"?-1:u==="Date"?1:f!=="Date"?NaN:-1;switch(u){case"number":case"Date":case"string":return o<i?1:i<o?-1:0;case"binary":return function(d,g){for(var v=d.length,b=g.length,S=v<b?v:b,x=0;x<S;++x)if(d[x]!==g[x])return d[x]<g[x]?-1:1;return v===b?0:v<b?-1:1}(xa(i),xa(o));case"Array":return function(d,g){for(var v=d.length,b=g.length,S=v<b?v:b,x=0;x<S;++x){var T=qe(d[x],g[x]);if(T!==0)return T}return v===b?0:v<b?-1:1}(i,o)}}catch{}return NaN}function ka(i){var o=typeof i;return o!="object"?o:ArrayBuffer.isView(i)?"binary":(i=ut(i),i==="ArrayBuffer"?"binary":i)}function xa(i){return i instanceof Uint8Array?i:ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i)}var Ea=(at.prototype._trans=function(i,o,u){var f=this._tx||de.trans,d=this.name,g=V&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(i==="readonly"?"read":"write"," ").concat(this.name));function v(x,T,w){if(!w.schema[d])throw new q.NotFound("Table "+d+" not part of transaction");return o(w.idbtrans,w)}var b=or();try{var S=f&&f.db._novip===this.db._novip?f===de.trans?f._promise(i,v,u):wn(function(){return f._promise(i,v,u)},{trans:f,transless:de.transless||de}):function x(T,w,A,E){if(T.idbdb&&(T._state.openComplete||de.letThrough||T._vip)){var C=T._createTransaction(w,A,T._dbSchema);try{C.create(),T._state.PR1398_maxLoop=3}catch(j){return j.name===et.InvalidState&&T.isOpen()&&0<--T._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),T.close({disableAutoOpen:!1}),T.open().then(function(){return x(T,w,A,E)})):yt(j)}return C._promise(w,function(j,O){return wn(function(){return de.trans=C,E(j,O,C)})}).then(function(j){if(w==="readwrite")try{C.idbtrans.commit()}catch{}return w==="readonly"?j:C._completion.then(function(){return j})})}if(T._state.openComplete)return yt(new q.DatabaseClosed(T._state.dbOpenError));if(!T._state.isBeingOpened){if(!T._state.autoOpen)return yt(new q.DatabaseClosed);T.open().catch(we)}return T._state.dbReadyPromise.then(function(){return x(T,w,A,E)})}(this.db,i,[this.name],v);return g&&(S._consoleTask=g,S=S.catch(function(x){return console.trace(x),yt(x)})),S}finally{b&&ar()}},at.prototype.get=function(i,o){var u=this;return i&&i.constructor===Object?this.where(i).first(o):i==null?yt(new q.Type("Invalid argument to Table.get()")):this._trans("readonly",function(f){return u.core.get({trans:f,key:i}).then(function(d){return u.hook.reading.fire(d)})}).then(o)},at.prototype.where=function(i){if(typeof i=="string")return new this.db.WhereClause(this,i);if(c(i))return new this.db.WhereClause(this,"[".concat(i.join("+"),"]"));var o=l(i);if(o.length===1)return this.where(o[0]).equals(i[o[0]]);var u=this.schema.indexes.concat(this.schema.primKey).filter(function(S){if(S.compound&&o.every(function(T){return 0<=S.keyPath.indexOf(T)})){for(var x=0;x<o.length;++x)if(o.indexOf(S.keyPath[x])===-1)return!1;return!0}return!1}).sort(function(S,x){return S.keyPath.length-x.keyPath.length})[0];if(u&&this.db._maxKey!==Bn){var v=u.keyPath.slice(0,o.length);return this.where(v).equals(v.map(function(x){return i[x]}))}!u&&V&&console.warn("The query ".concat(JSON.stringify(i)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(o.join("+"),"]"));var f=this.schema.idxByName,d=this.db._deps.indexedDB;function g(S,x){return d.cmp(S,x)===0}var b=o.reduce(function(A,x){var T=A[0],w=A[1],A=f[x],E=i[x];return[T||A,T||!A?qn(w,A&&A.multi?function(C){return C=Ze(C,x),c(C)&&C.some(function(j){return g(E,j)})}:function(C){return g(E,Ze(C,x))}):w]},[null,null]),v=b[0],b=b[1];return v?this.where(v.name).equals(i[v.keyPath]).filter(b):u?this.filter(b):this.where(o).equals("")},at.prototype.filter=function(i){return this.toCollection().and(i)},at.prototype.count=function(i){return this.toCollection().count(i)},at.prototype.offset=function(i){return this.toCollection().offset(i)},at.prototype.limit=function(i){return this.toCollection().limit(i)},at.prototype.each=function(i){return this.toCollection().each(i)},at.prototype.toArray=function(i){return this.toCollection().toArray(i)},at.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},at.prototype.orderBy=function(i){return new this.db.Collection(new this.db.WhereClause(this,c(i)?"[".concat(i.join("+"),"]"):i))},at.prototype.reverse=function(){return this.toCollection().reverse()},at.prototype.mapToClass=function(i){var o,u=this.db,f=this.name;function d(){return o!==null&&o.apply(this,arguments)||this}(this.schema.mappedClass=i).prototype instanceof wa&&(function(S,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function T(){this.constructor=S}n(S,x),S.prototype=x===null?Object.create(x):(T.prototype=x.prototype,new T)}(d,o=i),Object.defineProperty(d.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),d.prototype.table=function(){return f},i=d);for(var g=new Set,v=i.prototype;v;v=y(v))Object.getOwnPropertyNames(v).forEach(function(S){return g.add(S)});function b(S){if(!S)return S;var x,T=Object.create(i.prototype);for(x in S)if(!g.has(x))try{T[x]=S[x]}catch{}return T}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=b,this.hook("reading",b),i},at.prototype.defineClass=function(){return this.mapToClass(function(i){h(this,i)})},at.prototype.add=function(i,o){var u=this,f=this.schema.primKey,d=f.auto,g=f.keyPath,v=i;return g&&d&&(v=vi(g)(i)),this._trans("readwrite",function(b){return u.core.mutate({trans:b,type:"add",keys:o!=null?[o]:null,values:[v]})}).then(function(b){return b.numFailures?ue.reject(b.failures[0]):b.lastResult}).then(function(b){if(g)try{be(i,g,b)}catch{}return b})},at.prototype.update=function(i,o){return typeof i!="object"||c(i)?this.where(":id").equals(i).modify(o):(i=Ze(i,this.schema.primKey.keyPath),i===void 0?yt(new q.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(i).modify(o))},at.prototype.put=function(i,o){var u=this,f=this.schema.primKey,d=f.auto,g=f.keyPath,v=i;return g&&d&&(v=vi(g)(i)),this._trans("readwrite",function(b){return u.core.mutate({trans:b,type:"put",values:[v],keys:o!=null?[o]:null})}).then(function(b){return b.numFailures?ue.reject(b.failures[0]):b.lastResult}).then(function(b){if(g)try{be(i,g,b)}catch{}return b})},at.prototype.delete=function(i){var o=this;return this._trans("readwrite",function(u){return o.core.mutate({trans:u,type:"delete",keys:[i]})}).then(function(u){return u.numFailures?ue.reject(u.failures[0]):void 0})},at.prototype.clear=function(){var i=this;return this._trans("readwrite",function(o){return i.core.mutate({trans:o,type:"deleteRange",range:ba})}).then(function(o){return o.numFailures?ue.reject(o.failures[0]):void 0})},at.prototype.bulkGet=function(i){var o=this;return this._trans("readonly",function(u){return o.core.getMany({keys:i,trans:u}).then(function(f){return f.map(function(d){return o.hook.reading.fire(d)})})})},at.prototype.bulkAdd=function(i,o,u){var f=this,d=Array.isArray(o)?o:void 0,g=(u=u||(d?void 0:o))?u.allKeys:void 0;return this._trans("readwrite",function(v){var x=f.schema.primKey,b=x.auto,x=x.keyPath;if(x&&d)throw new q.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(d&&d.length!==i.length)throw new q.InvalidArgument("Arguments objects and keys must have the same length");var S=i.length,x=x&&b?i.map(vi(x)):i;return f.core.mutate({trans:v,type:"add",keys:d,values:x,wantResults:g}).then(function(C){var w=C.numFailures,A=C.results,E=C.lastResult,C=C.failures;if(w===0)return g?A:E;throw new We("".concat(f.name,".bulkAdd(): ").concat(w," of ").concat(S," operations failed"),C)})})},at.prototype.bulkPut=function(i,o,u){var f=this,d=Array.isArray(o)?o:void 0,g=(u=u||(d?void 0:o))?u.allKeys:void 0;return this._trans("readwrite",function(v){var x=f.schema.primKey,b=x.auto,x=x.keyPath;if(x&&d)throw new q.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(d&&d.length!==i.length)throw new q.InvalidArgument("Arguments objects and keys must have the same length");var S=i.length,x=x&&b?i.map(vi(x)):i;return f.core.mutate({trans:v,type:"put",keys:d,values:x,wantResults:g}).then(function(C){var w=C.numFailures,A=C.results,E=C.lastResult,C=C.failures;if(w===0)return g?A:E;throw new We("".concat(f.name,".bulkPut(): ").concat(w," of ").concat(S," operations failed"),C)})})},at.prototype.bulkUpdate=function(i){var o=this,u=this.core,f=i.map(function(v){return v.key}),d=i.map(function(v){return v.changes}),g=[];return this._trans("readwrite",function(v){return u.getMany({trans:v,keys:f,cache:"clone"}).then(function(b){var S=[],x=[];i.forEach(function(w,A){var E=w.key,C=w.changes,j=b[A];if(j){for(var O=0,$=Object.keys(C);O<$.length;O++){var L=$[O],M=C[L];if(L===o.schema.primKey.keyPath){if(qe(M,E)!==0)throw new q.Constraint("Cannot update primary key in bulkUpdate()")}else be(j,L,M)}g.push(A),S.push(E),x.push(j)}});var T=S.length;return u.mutate({trans:v,type:"put",keys:S,values:x,updates:{keys:f,changeSpecs:d}}).then(function(w){var A=w.numFailures,E=w.failures;if(A===0)return T;for(var C=0,j=Object.keys(E);C<j.length;C++){var O,$=j[C],L=g[Number($)];L!=null&&(O=E[$],delete E[$],E[L]=O)}throw new We("".concat(o.name,".bulkUpdate(): ").concat(A," of ").concat(T," operations failed"),E)})})})},at.prototype.bulkDelete=function(i){var o=this,u=i.length;return this._trans("readwrite",function(f){return o.core.mutate({trans:f,type:"delete",keys:i})}).then(function(v){var d=v.numFailures,g=v.lastResult,v=v.failures;if(d===0)return g;throw new We("".concat(o.name,".bulkDelete(): ").concat(d," of ").concat(u," operations failed"),v)})},at);function at(){}function jr(i){function o(v,b){if(b){for(var S=arguments.length,x=new Array(S-1);--S;)x[S-1]=arguments[S];return u[v].subscribe.apply(null,x),i}if(typeof v=="string")return u[v]}var u={};o.addEventType=g;for(var f=1,d=arguments.length;f<d;++f)g(arguments[f]);return o;function g(v,b,S){if(typeof v!="object"){var x;b=b||X;var T={subscribers:[],fire:S=S||we,subscribe:function(w){T.subscribers.indexOf(w)===-1&&(T.subscribers.push(w),T.fire=b(T.fire,w))},unsubscribe:function(w){T.subscribers=T.subscribers.filter(function(A){return A!==w}),T.fire=T.subscribers.reduce(b,S)}};return u[v]=o[v]=T}l(x=v).forEach(function(w){var A=x[w];if(c(A))g(w,x[w][0],x[w][1]);else{if(A!=="asap")throw new q.InvalidArgument("Invalid event config");var E=g(w,m,function(){for(var C=arguments.length,j=new Array(C);C--;)j[C]=arguments[C];E.subscribers.forEach(function(O){Me(function(){O.apply(null,j)})})})}})}}function Rr(i,o){return ee(o).from({prototype:i}),o}function cr(i,o){return!(i.filter||i.algorithm||i.or)&&(o?i.justLimit:!i.replayFilter)}function As(i,o){i.filter=qn(i.filter,o)}function js(i,o,u){var f=i.replayFilter;i.replayFilter=f?function(){return qn(f(),o())}:o,i.justLimit=u&&!f}function mi(i,o){if(i.isPrimKey)return o.primaryKey;var u=o.getIndexByKeyPath(i.index);if(!u)throw new q.Schema("KeyPath "+i.index+" on object store "+o.name+" is not indexed");return u}function Sa(i,o,u){var f=mi(i,o.schema);return o.openCursor({trans:u,values:!i.keysOnly,reverse:i.dir==="prev",unique:!!i.unique,query:{index:f,range:i.range}})}function _i(i,o,u,f){var d=i.replayFilter?qn(i.filter,i.replayFilter()):i.filter;if(i.or){var g={},v=function(b,S,x){var T,w;d&&!d(S,x,function(A){return S.stop(A)},function(A){return S.fail(A)})||((w=""+(T=S.primaryKey))=="[object ArrayBuffer]"&&(w=""+new Uint8Array(T)),_(g,w)||(g[w]=!0,o(b,S,x)))};return Promise.all([i.or._iterate(v,u),Oa(Sa(i,f,u),i.algorithm,v,!i.keysOnly&&i.valueMapper)])}return Oa(Sa(i,f,u),qn(i.algorithm,d),o,!i.keysOnly&&i.valueMapper)}function Oa(i,o,u,f){var d=ft(f?function(g,v,b){return u(f(g),v,b)}:u);return i.then(function(g){if(g)return g.start(function(){var v=function(){return g.continue()};o&&!o(g,function(b){return v=b},function(b){g.stop(b),v=we},function(b){g.fail(b),v=we})||d(g.value,g,function(b){return v=b}),v()})})}var dn=Symbol(),Ir=(Ca.prototype.execute=function(i){if(this.add!==void 0){var o=this.add;if(c(o))return s(s([],c(i)?i:[],!0),o).sort();if(typeof o=="number")return(Number(i)||0)+o;if(typeof o=="bigint")try{return BigInt(i)+o}catch{return BigInt(0)+o}throw new TypeError("Invalid term ".concat(o))}if(this.remove!==void 0){var u=this.remove;if(c(u))return c(i)?i.filter(function(f){return!u.includes(f)}).sort():[];if(typeof u=="number")return Number(i)-u;if(typeof u=="bigint")try{return BigInt(i)-u}catch{return BigInt(0)-u}throw new TypeError("Invalid subtrahend ".concat(u))}return o=(o=this.replacePrefix)===null||o===void 0?void 0:o[0],o&&typeof i=="string"&&i.startsWith(o)?this.replacePrefix[1]+i.substring(o.length):i},Ca);function Ca(i){Object.assign(this,i)}var Tc=(Ve.prototype._read=function(i,o){var u=this._ctx;return u.error?u.table._trans(null,yt.bind(null,u.error)):u.table._trans("readonly",i).then(o)},Ve.prototype._write=function(i){var o=this._ctx;return o.error?o.table._trans(null,yt.bind(null,o.error)):o.table._trans("readwrite",i,"locked")},Ve.prototype._addAlgorithm=function(i){var o=this._ctx;o.algorithm=qn(o.algorithm,i)},Ve.prototype._iterate=function(i,o){return _i(this._ctx,i,o,this._ctx.table.core)},Ve.prototype.clone=function(i){var o=Object.create(this.constructor.prototype),u=Object.create(this._ctx);return i&&h(u,i),o._ctx=u,o},Ve.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ve.prototype.each=function(i){var o=this._ctx;return this._read(function(u){return _i(o,i,u,o.table.core)})},Ve.prototype.count=function(i){var o=this;return this._read(function(u){var f=o._ctx,d=f.table.core;if(cr(f,!0))return d.count({trans:u,query:{index:mi(f,d.schema),range:f.range}}).then(function(v){return Math.min(v,f.limit)});var g=0;return _i(f,function(){return++g,!1},u,d).then(function(){return g})}).then(i)},Ve.prototype.sortBy=function(i,o){var u=i.split(".").reverse(),f=u[0],d=u.length-1;function g(S,x){return x?g(S[u[x]],x-1):S[f]}var v=this._ctx.dir==="next"?1:-1;function b(S,x){return S=g(S,d),x=g(x,d),S<x?-v:x<S?v:0}return this.toArray(function(S){return S.sort(b)}).then(o)},Ve.prototype.toArray=function(i){var o=this;return this._read(function(u){var f=o._ctx;if(f.dir==="next"&&cr(f,!0)&&0<f.limit){var d=f.valueMapper,g=mi(f,f.table.core.schema);return f.table.core.query({trans:u,limit:f.limit,values:!0,query:{index:g,range:f.range}}).then(function(b){return b=b.result,d?b.map(d):b})}var v=[];return _i(f,function(b){return v.push(b)},u,f.table.core).then(function(){return v})},i)},Ve.prototype.offset=function(i){var o=this._ctx;return i<=0||(o.offset+=i,cr(o)?js(o,function(){var u=i;return function(f,d){return u===0||(u===1?--u:d(function(){f.advance(u),u=0}),!1)}}):js(o,function(){var u=i;return function(){return--u<0}})),this},Ve.prototype.limit=function(i){return this._ctx.limit=Math.min(this._ctx.limit,i),js(this._ctx,function(){var o=i;return function(u,f,d){return--o<=0&&f(d),0<=o}},!0),this},Ve.prototype.until=function(i,o){return As(this._ctx,function(u,f,d){return!i(u.value)||(f(d),o)}),this},Ve.prototype.first=function(i){return this.limit(1).toArray(function(o){return o[0]}).then(i)},Ve.prototype.last=function(i){return this.reverse().first(i)},Ve.prototype.filter=function(i){var o;return As(this._ctx,function(u){return i(u.value)}),(o=this._ctx).isMatch=qn(o.isMatch,i),this},Ve.prototype.and=function(i){return this.filter(i)},Ve.prototype.or=function(i){return new this.db.WhereClause(this._ctx.table,i,this)},Ve.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ve.prototype.desc=function(){return this.reverse()},Ve.prototype.eachKey=function(i){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(u,f){i(f.key,f)})},Ve.prototype.eachUniqueKey=function(i){return this._ctx.unique="unique",this.eachKey(i)},Ve.prototype.eachPrimaryKey=function(i){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(u,f){i(f.primaryKey,f)})},Ve.prototype.keys=function(i){var o=this._ctx;o.keysOnly=!o.isMatch;var u=[];return this.each(function(f,d){u.push(d.key)}).then(function(){return u}).then(i)},Ve.prototype.primaryKeys=function(i){var o=this._ctx;if(o.dir==="next"&&cr(o,!0)&&0<o.limit)return this._read(function(f){var d=mi(o,o.table.core.schema);return o.table.core.query({trans:f,values:!1,limit:o.limit,query:{index:d,range:o.range}})}).then(function(f){return f.result}).then(i);o.keysOnly=!o.isMatch;var u=[];return this.each(function(f,d){u.push(d.primaryKey)}).then(function(){return u}).then(i)},Ve.prototype.uniqueKeys=function(i){return this._ctx.unique="unique",this.keys(i)},Ve.prototype.firstKey=function(i){return this.limit(1).keys(function(o){return o[0]}).then(i)},Ve.prototype.lastKey=function(i){return this.reverse().firstKey(i)},Ve.prototype.distinct=function(){var i=this._ctx,i=i.index&&i.table.schema.idxByName[i.index];if(!i||!i.multi)return this;var o={};return As(this._ctx,function(d){var f=d.primaryKey.toString(),d=_(o,f);return o[f]=!0,!d}),this},Ve.prototype.modify=function(i){var o=this,u=this._ctx;return this._write(function(f){var d,g,v;v=typeof i=="function"?i:(d=l(i),g=d.length,function(O){for(var $=!1,L=0;L<g;++L){var M=d[L],U=i[M],G=Ze(O,M);U instanceof Ir?(be(O,M,U.execute(G)),$=!0):G!==U&&(be(O,M,U),$=!0)}return $});function b(O,M){var L=M.failures,M=M.numFailures;C+=O-M;for(var U=0,G=l(L);U<G.length;U++){var ie=G[U];E.push(L[ie])}}var S=u.table.core,x=S.schema.primaryKey,T=x.outbound,w=x.extractKey,A=o.db._options.modifyChunkSize||200,E=[],C=0,j=[];return o.clone().primaryKeys().then(function(O){function $(M){var U=Math.min(A,O.length-M);return S.getMany({trans:f,keys:O.slice(M,M+U),cache:"immutable"}).then(function(G){for(var ie=[],Q=[],re=T?[]:null,se=[],W=0;W<U;++W){var Ee=G[W],Ce={value:ye(Ee),primKey:O[M+W]};v.call(Ce,Ce.value,Ce)!==!1&&(Ce.value==null?se.push(O[M+W]):T||qe(w(Ee),w(Ce.value))===0?(Q.push(Ce.value),T&&re.push(O[M+W])):(se.push(O[M+W]),ie.push(Ce.value)))}return Promise.resolve(0<ie.length&&S.mutate({trans:f,type:"add",values:ie}).then(function(Ue){for(var De in Ue.failures)se.splice(parseInt(De),1);b(ie.length,Ue)})).then(function(){return(0<Q.length||L&&typeof i=="object")&&S.mutate({trans:f,type:"put",keys:re,values:Q,criteria:L,changeSpec:typeof i!="function"&&i,isAdditionalChunk:0<M}).then(function(Ue){return b(Q.length,Ue)})}).then(function(){return(0<se.length||L&&i===Rs)&&S.mutate({trans:f,type:"delete",keys:se,criteria:L,isAdditionalChunk:0<M}).then(function(Ue){return b(se.length,Ue)})}).then(function(){return O.length>M+U&&$(M+A)})})}var L=cr(u)&&u.limit===1/0&&(typeof i!="function"||i===Rs)&&{index:u.index,range:u.range};return $(0).then(function(){if(0<E.length)throw new Qe("Error modifying one or more objects",E,C,j);return O.length})})})},Ve.prototype.delete=function(){var i=this._ctx,o=i.range;return cr(i)&&(i.isPrimKey||o.type===3)?this._write(function(u){var f=i.table.core.schema.primaryKey,d=o;return i.table.core.count({trans:u,query:{index:f,range:d}}).then(function(g){return i.table.core.mutate({trans:u,type:"deleteRange",range:d}).then(function(v){var b=v.failures;if(v.lastResult,v.results,v=v.numFailures,v)throw new Qe("Could not delete some values",Object.keys(b).map(function(S){return b[S]}),g-v);return g-v})})}):this.modify(Rs)},Ve);function Ve(){}var Rs=function(i,o){return o.value=null};function Ac(i,o){return i<o?-1:i===o?0:1}function jc(i,o){return o<i?-1:i===o?0:1}function Nt(i,o,u){return i=i instanceof Ta?new i.Collection(i):i,i._ctx.error=new(u||TypeError)(o),i}function fr(i){return new i.Collection(i,function(){return Pa("")}).limit(0)}function bi(i,o,u,f){var d,g,v,b,S,x,T,w=u.length;if(!u.every(function(C){return typeof C=="string"}))return Nt(i,_a);function A(C){d=C==="next"?function(O){return O.toUpperCase()}:function(O){return O.toLowerCase()},g=C==="next"?function(O){return O.toLowerCase()}:function(O){return O.toUpperCase()},v=C==="next"?Ac:jc;var j=u.map(function(O){return{lower:g(O),upper:d(O)}}).sort(function(O,$){return v(O.lower,$.lower)});b=j.map(function(O){return O.upper}),S=j.map(function(O){return O.lower}),T=(x=C)==="next"?"":f}A("next"),i=new i.Collection(i,function(){return En(b[0],S[w-1]+f)}),i._ondirectionchange=function(C){A(C)};var E=0;return i._addAlgorithm(function(C,j,O){var $=C.key;if(typeof $!="string")return!1;var L=g($);if(o(L,S,E))return!0;for(var M=null,U=E;U<w;++U){var G=function(ie,Q,re,se,W,Ee){for(var Ce=Math.min(ie.length,se.length),Ue=-1,De=0;De<Ce;++De){var Zt=Q[De];if(Zt!==se[De])return W(ie[De],re[De])<0?ie.substr(0,De)+re[De]+re.substr(De+1):W(ie[De],se[De])<0?ie.substr(0,De)+se[De]+re.substr(De+1):0<=Ue?ie.substr(0,Ue)+Q[Ue]+re.substr(Ue+1):null;W(ie[De],Zt)<0&&(Ue=De)}return Ce<se.length&&Ee==="next"?ie+re.substr(ie.length):Ce<ie.length&&Ee==="prev"?ie.substr(0,re.length):Ue<0?null:ie.substr(0,Ue)+se[Ue]+re.substr(Ue+1)}($,L,b[U],S[U],v,x);G===null&&M===null?E=U+1:(M===null||0<v(M,G))&&(M=G)}return j(M!==null?function(){C.continue(M+T)}:O),!1}),i}function En(i,o,u,f){return{type:2,lower:i,upper:o,lowerOpen:u,upperOpen:f}}function Pa(i){return{type:1,lower:i,upper:i}}var Ta=(Object.defineProperty(kt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),kt.prototype.between=function(i,o,u,f){u=u!==!1,f=f===!0;try{return 0<this._cmp(i,o)||this._cmp(i,o)===0&&(u||f)&&(!u||!f)?fr(this):new this.Collection(this,function(){return En(i,o,!u,!f)})}catch{return Nt(this,hn)}},kt.prototype.equals=function(i){return i==null?Nt(this,hn):new this.Collection(this,function(){return Pa(i)})},kt.prototype.above=function(i){return i==null?Nt(this,hn):new this.Collection(this,function(){return En(i,void 0,!0)})},kt.prototype.aboveOrEqual=function(i){return i==null?Nt(this,hn):new this.Collection(this,function(){return En(i,void 0,!1)})},kt.prototype.below=function(i){return i==null?Nt(this,hn):new this.Collection(this,function(){return En(void 0,i,!1,!0)})},kt.prototype.belowOrEqual=function(i){return i==null?Nt(this,hn):new this.Collection(this,function(){return En(void 0,i)})},kt.prototype.startsWith=function(i){return typeof i!="string"?Nt(this,_a):this.between(i,i+Bn,!0,!0)},kt.prototype.startsWithIgnoreCase=function(i){return i===""?this.startsWith(i):bi(this,function(o,u){return o.indexOf(u[0])===0},[i],Bn)},kt.prototype.equalsIgnoreCase=function(i){return bi(this,function(o,u){return o===u[0]},[i],"")},kt.prototype.anyOfIgnoreCase=function(){var i=it.apply(pe,arguments);return i.length===0?fr(this):bi(this,function(o,u){return u.indexOf(o)!==-1},i,"")},kt.prototype.startsWithAnyOfIgnoreCase=function(){var i=it.apply(pe,arguments);return i.length===0?fr(this):bi(this,function(o,u){return u.some(function(f){return o.indexOf(f)===0})},i,Bn)},kt.prototype.anyOf=function(){var i=this,o=it.apply(pe,arguments),u=this._cmp;try{o.sort(u)}catch{return Nt(this,hn)}if(o.length===0)return fr(this);var f=new this.Collection(this,function(){return En(o[0],o[o.length-1])});f._ondirectionchange=function(g){u=g==="next"?i._ascending:i._descending,o.sort(u)};var d=0;return f._addAlgorithm(function(g,v,b){for(var S=g.key;0<u(S,o[d]);)if(++d===o.length)return v(b),!1;return u(S,o[d])===0||(v(function(){g.continue(o[d])}),!1)}),f},kt.prototype.notEqual=function(i){return this.inAnyRange([[-1/0,i],[i,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},kt.prototype.noneOf=function(){var i=it.apply(pe,arguments);if(i.length===0)return new this.Collection(this);try{i.sort(this._ascending)}catch{return Nt(this,hn)}var o=i.reduce(function(u,f){return u?u.concat([[u[u.length-1][1],f]]):[[-1/0,f]]},null);return o.push([i[i.length-1],this.db._maxKey]),this.inAnyRange(o,{includeLowers:!1,includeUppers:!1})},kt.prototype.inAnyRange=function($,o){var u=this,f=this._cmp,d=this._ascending,g=this._descending,v=this._min,b=this._max;if($.length===0)return fr(this);if(!$.every(function(L){return L[0]!==void 0&&L[1]!==void 0&&d(L[0],L[1])<=0}))return Nt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",q.InvalidArgument);var S=!o||o.includeLowers!==!1,x=o&&o.includeUppers===!0,T,w=d;function A(L,M){return w(L[0],M[0])}try{(T=$.reduce(function(L,M){for(var U=0,G=L.length;U<G;++U){var ie=L[U];if(f(M[0],ie[1])<0&&0<f(M[1],ie[0])){ie[0]=v(ie[0],M[0]),ie[1]=b(ie[1],M[1]);break}}return U===G&&L.push(M),L},[])).sort(A)}catch{return Nt(this,hn)}var E=0,C=x?function(L){return 0<d(L,T[E][1])}:function(L){return 0<=d(L,T[E][1])},j=S?function(L){return 0<g(L,T[E][0])}:function(L){return 0<=g(L,T[E][0])},O=C,$=new this.Collection(this,function(){return En(T[0][0],T[T.length-1][1],!S,!x)});return $._ondirectionchange=function(L){w=L==="next"?(O=C,d):(O=j,g),T.sort(A)},$._addAlgorithm(function(L,M,U){for(var G,ie=L.key;O(ie);)if(++E===T.length)return M(U),!1;return!C(G=ie)&&!j(G)||(u._cmp(ie,T[E][1])===0||u._cmp(ie,T[E][0])===0||M(function(){w===d?L.continue(T[E][0]):L.continue(T[E][1])}),!1)}),$},kt.prototype.startsWithAnyOf=function(){var i=it.apply(pe,arguments);return i.every(function(o){return typeof o=="string"})?i.length===0?fr(this):this.inAnyRange(i.map(function(o){return[o,o+Bn]})):Nt(this,"startsWithAnyOf() only works with strings")},kt);function kt(){}function rn(i){return ft(function(o){return Dr(o),i(o.target.error),!1})}function Dr(i){i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault()}var $r="storagemutated",Is="x-storagemutated-1",Sn=jr(null,$r),Rc=(sn.prototype._lock=function(){return fe(!de.global),++this._reculock,this._reculock!==1||de.global||(de.lockOwnerFor=this),this},sn.prototype._unlock=function(){if(fe(!de.global),--this._reculock==0)for(de.global||(de.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var i=this._blockedFuncs.shift();try{Nn(i[1],i[0])}catch{}}return this},sn.prototype._locked=function(){return this._reculock&&de.lockOwnerFor!==this},sn.prototype.create=function(i){var o=this;if(!this.mode)return this;var u=this.db.idbdb,f=this.db._state.dbOpenError;if(fe(!this.idbtrans),!i&&!u)switch(f&&f.name){case"DatabaseClosedError":throw new q.DatabaseClosed(f);case"MissingAPIError":throw new q.MissingAPI(f.message,f);default:throw new q.OpenFailed(f)}if(!this.active)throw new q.TransactionInactive;return fe(this._completion._state===null),(i=this.idbtrans=i||(this.db.core||u).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=ft(function(d){Dr(d),o._reject(i.error)}),i.onabort=ft(function(d){Dr(d),o.active&&o._reject(new q.Abort(i.error)),o.active=!1,o.on("abort").fire(d)}),i.oncomplete=ft(function(){o.active=!1,o._resolve(),"mutatedParts"in i&&Sn.storagemutated.fire(i.mutatedParts)}),this},sn.prototype._promise=function(i,o,u){var f=this;if(i==="readwrite"&&this.mode!=="readwrite")return yt(new q.ReadOnly("Transaction is readonly"));if(!this.active)return yt(new q.TransactionInactive);if(this._locked())return new ue(function(g,v){f._blockedFuncs.push([function(){f._promise(i,o,u).then(g,v)},de])});if(u)return wn(function(){var g=new ue(function(v,b){f._lock();var S=o(v,b,f);S&&S.then&&S.then(v,b)});return g.finally(function(){return f._unlock()}),g._lib=!0,g});var d=new ue(function(g,v){var b=o(g,v,f);b&&b.then&&b.then(g,v)});return d._lib=!0,d},sn.prototype._root=function(){return this.parent?this.parent._root():this},sn.prototype.waitFor=function(i){var o,u=this._root(),f=ue.resolve(i);u._waitingFor?u._waitingFor=u._waitingFor.then(function(){return f}):(u._waitingFor=f,u._waitingQueue=[],o=u.idbtrans.objectStore(u.storeNames[0]),function g(){for(++u._spinCount;u._waitingQueue.length;)u._waitingQueue.shift()();u._waitingFor&&(o.get(-1/0).onsuccess=g)}());var d=u._waitingFor;return new ue(function(g,v){f.then(function(b){return u._waitingQueue.push(ft(g.bind(null,b)))},function(b){return u._waitingQueue.push(ft(v.bind(null,b)))}).finally(function(){u._waitingFor===d&&(u._waitingFor=null)})})},sn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new q.Abort))},sn.prototype.table=function(i){var o=this._memoizedTables||(this._memoizedTables={});if(_(o,i))return o[i];var u=this.schema[i];if(!u)throw new q.NotFound("Table "+i+" not part of transaction");return u=new this.db.Table(i,u,this),u.core=this.db.core.table(i),o[i]=u},sn);function sn(){}function Ds(i,o,u,f,d,g,v){return{name:i,keyPath:o,unique:u,multi:f,auto:d,compound:g,src:(u&&!v?"&":"")+(f?"*":"")+(d?"++":"")+Aa(o)}}function Aa(i){return typeof i=="string"?i:i?"["+[].join.call(i,"+")+"]":""}function $s(i,o,u){return{name:i,primKey:o,indexes:u,mappedClass:null,idxByName:(f=function(d){return[d.name,d]},u.reduce(function(d,g,v){return v=f(g,v),v&&(d[v[0]]=v[1]),d},{}))};var f}var Lr=function(i){try{return i.only([[]]),Lr=function(){return[[]]},[[]]}catch{return Lr=function(){return Bn},Bn}};function Ls(i){return i==null?function(){}:typeof i=="string"?(o=i).split(".").length===1?function(u){return u[o]}:function(u){return Ze(u,o)}:function(u){return Ze(u,i)};var o}function ja(i){return[].slice.call(i)}var Ic=0;function Mr(i){return i==null?":id":typeof i=="string"?i:"[".concat(i.join("+"),"]")}function Dc(i,o,S){function f(O){if(O.type===3)return null;if(O.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var E=O.lower,C=O.upper,j=O.lowerOpen,O=O.upperOpen;return E===void 0?C===void 0?null:o.upperBound(C,!!O):C===void 0?o.lowerBound(E,!!j):o.bound(E,C,!!j,!!O)}function d(A){var E,C=A.name;return{name:C,schema:A,mutate:function(j){var O=j.trans,$=j.type,L=j.keys,M=j.values,U=j.range;return new Promise(function(G,ie){G=ft(G);var Q=O.objectStore(C),re=Q.keyPath==null,se=$==="put"||$==="add";if(!se&&$!=="delete"&&$!=="deleteRange")throw new Error("Invalid operation type: "+$);var W,Ee=(L||M||{length:1}).length;if(L&&M&&L.length!==M.length)throw new Error("Given keys array must have same length as given values array.");if(Ee===0)return G({numFailures:0,failures:{},results:[],lastResult:void 0});function Ce(It){++Zt,Dr(It)}var Ue=[],De=[],Zt=0;if($==="deleteRange"){if(U.type===4)return G({numFailures:Zt,failures:De,results:[],lastResult:void 0});U.type===3?Ue.push(W=Q.clear()):Ue.push(W=Q.delete(f(U)))}else{var re=se?re?[M,L]:[M,null]:[L,null],$e=re[0],Et=re[1];if(se)for(var St=0;St<Ee;++St)Ue.push(W=Et&&Et[St]!==void 0?Q[$]($e[St],Et[St]):Q[$]($e[St])),W.onerror=Ce;else for(St=0;St<Ee;++St)Ue.push(W=Q[$]($e[St])),W.onerror=Ce}function Ii(It){It=It.target.result,Ue.forEach(function(zn,eo){return zn.error!=null&&(De[eo]=zn.error)}),G({numFailures:Zt,failures:De,results:$==="delete"?L:Ue.map(function(zn){return zn.result}),lastResult:It})}W.onerror=function(It){Ce(It),Ii(It)},W.onsuccess=Ii})},getMany:function(j){var O=j.trans,$=j.keys;return new Promise(function(L,M){L=ft(L);for(var U,G=O.objectStore(C),ie=$.length,Q=new Array(ie),re=0,se=0,W=function(Ue){Ue=Ue.target,Q[Ue._pos]=Ue.result,++se===re&&L(Q)},Ee=rn(M),Ce=0;Ce<ie;++Ce)$[Ce]!=null&&((U=G.get($[Ce]))._pos=Ce,U.onsuccess=W,U.onerror=Ee,++re);re===0&&L(Q)})},get:function(j){var O=j.trans,$=j.key;return new Promise(function(L,M){L=ft(L);var U=O.objectStore(C).get($);U.onsuccess=function(G){return L(G.target.result)},U.onerror=rn(M)})},query:(E=x,function(j){return new Promise(function(O,$){O=ft(O);var L,M,U,re=j.trans,G=j.values,ie=j.limit,W=j.query,Q=ie===1/0?void 0:ie,se=W.index,W=W.range,re=re.objectStore(C),se=se.isPrimaryKey?re:re.index(se.name),W=f(W);if(ie===0)return O({result:[]});E?((Q=G?se.getAll(W,Q):se.getAllKeys(W,Q)).onsuccess=function(Ee){return O({result:Ee.target.result})},Q.onerror=rn($)):(L=0,M=!G&&"openKeyCursor"in se?se.openKeyCursor(W):se.openCursor(W),U=[],M.onsuccess=function(Ee){var Ce=M.result;return Ce?(U.push(G?Ce.value:Ce.primaryKey),++L===ie?O({result:U}):void Ce.continue()):O({result:U})},M.onerror=rn($))})}),openCursor:function(j){var O=j.trans,$=j.values,L=j.query,M=j.reverse,U=j.unique;return new Promise(function(G,ie){G=ft(G);var se=L.index,Q=L.range,re=O.objectStore(C),re=se.isPrimaryKey?re:re.index(se.name),se=M?U?"prevunique":"prev":U?"nextunique":"next",W=!$&&"openKeyCursor"in re?re.openKeyCursor(f(Q),se):re.openCursor(f(Q),se);W.onerror=rn(ie),W.onsuccess=ft(function(Ee){var Ce,Ue,De,Zt,$e=W.result;$e?($e.___id=++Ic,$e.done=!1,Ce=$e.continue.bind($e),Ue=(Ue=$e.continuePrimaryKey)&&Ue.bind($e),De=$e.advance.bind($e),Zt=function(){throw new Error("Cursor not stopped")},$e.trans=O,$e.stop=$e.continue=$e.continuePrimaryKey=$e.advance=function(){throw new Error("Cursor not started")},$e.fail=ft(ie),$e.next=function(){var Et=this,St=1;return this.start(function(){return St--?Et.continue():Et.stop()}).then(function(){return Et})},$e.start=function(Et){function St(){if(W.result)try{Et()}catch(It){$e.fail(It)}else $e.done=!0,$e.start=function(){throw new Error("Cursor behind last entry")},$e.stop()}var Ii=new Promise(function(It,zn){It=ft(It),W.onerror=rn(zn),$e.fail=zn,$e.stop=function(eo){$e.stop=$e.continue=$e.continuePrimaryKey=$e.advance=Zt,It(eo)}});return W.onsuccess=ft(function(It){W.onsuccess=St,St()}),$e.continue=Ce,$e.continuePrimaryKey=Ue,$e.advance=De,St(),Ii},G($e)):G(null)},ie)})},count:function(j){var O=j.query,$=j.trans,L=O.index,M=O.range;return new Promise(function(U,G){var ie=$.objectStore(C),Q=L.isPrimaryKey?ie:ie.index(L.name),ie=f(M),Q=ie?Q.count(ie):Q.count();Q.onsuccess=ft(function(re){return U(re.target.result)}),Q.onerror=rn(G)})}}}var g,v,b,T=(v=S,b=ja((g=i).objectStoreNames),{schema:{name:g.name,tables:b.map(function(A){return v.objectStore(A)}).map(function(A){var E=A.keyPath,O=A.autoIncrement,C=c(E),j={},O={name:A.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:E==null,compound:C,keyPath:E,autoIncrement:O,unique:!0,extractKey:Ls(E)},indexes:ja(A.indexNames).map(function($){return A.index($)}).map(function(U){var L=U.name,M=U.unique,G=U.multiEntry,U=U.keyPath,G={name:L,compound:c(U),keyPath:U,unique:M,multiEntry:G,extractKey:Ls(U)};return j[Mr(U)]=G}),getIndexByKeyPath:function($){return j[Mr($)]}};return j[":id"]=O.primaryKey,E!=null&&(j[Mr(E)]=O.primaryKey),O})},hasGetAll:0<b.length&&"getAll"in v.objectStore(b[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),S=T.schema,x=T.hasGetAll,T=S.tables.map(d),w={};return T.forEach(function(A){return w[A.name]=A}),{stack:"dbcore",transaction:i.transaction.bind(i),table:function(A){if(!w[A])throw new Error("Table '".concat(A,"' not found"));return w[A]},MIN_KEY:-1/0,MAX_KEY:Lr(o),schema:S}}function $c(i,o,u,f){var d=u.IDBKeyRange;return u.indexedDB,{dbcore:(f=Dc(o,d,f),i.dbcore.reduce(function(g,v){return v=v.create,r(r({},g),v(g))},f))}}function wi(i,f){var u=f.db,f=$c(i._middlewares,u,i._deps,f);i.core=f.dbcore,i.tables.forEach(function(d){var g=d.name;i.core.schema.tables.some(function(v){return v.name===g})&&(d.core=i.core.table(g),i[g]instanceof i.Table&&(i[g].core=d.core))})}function ki(i,o,u,f){u.forEach(function(d){var g=f[d];o.forEach(function(v){var b=function S(x,T){return ve(x,T)||(x=y(x))&&S(x,T)}(v,d);(!b||"value"in b&&b.value===void 0)&&(v===i.Transaction.prototype||v instanceof i.Transaction?oe(v,d,{get:function(){return this.table(d)},set:function(S){H(this,d,{value:S,writable:!0,configurable:!0,enumerable:!0})}}):v[d]=new i.Table(d,g))})})}function Ms(i,o){o.forEach(function(u){for(var f in u)u[f]instanceof i.Table&&delete u[f]})}function Lc(i,o){return i._cfg.version-o._cfg.version}function Mc(i,o,u,f){var d=i._dbSchema;u.objectStoreNames.contains("$meta")&&!d.$meta&&(d.$meta=$s("$meta",Ia("")[0],[]),i._storeNames.push("$meta"));var g=i._createTransaction("readwrite",i._storeNames,d);g.create(u),g._completion.catch(f);var v=g._reject.bind(g),b=de.transless||de;wn(function(){return de.trans=g,de.transless=b,o!==0?(wi(i,u),x=o,((S=g).storeNames.includes("$meta")?S.table("$meta").get("version").then(function(T){return T??x}):ue.resolve(x)).then(function(T){return A=T,E=g,C=u,j=[],T=(w=i)._versions,O=w._dbSchema=Ei(0,w.idbdb,C),(T=T.filter(function($){return $._cfg.version>=A})).length!==0?(T.forEach(function($){j.push(function(){var L=O,M=$._cfg.dbschema;Si(w,L,C),Si(w,M,C),O=w._dbSchema=M;var U=Fs(L,M);U.add.forEach(function(se){Us(C,se[0],se[1].primKey,se[1].indexes)}),U.change.forEach(function(se){if(se.recreate)throw new q.Upgrade("Not yet support for changing primary key");var W=C.objectStore(se.name);se.add.forEach(function(Ee){return xi(W,Ee)}),se.change.forEach(function(Ee){W.deleteIndex(Ee.name),xi(W,Ee)}),se.del.forEach(function(Ee){return W.deleteIndex(Ee)})});var G=$._cfg.contentUpgrade;if(G&&$._cfg.version>A){wi(w,C),E._memoizedTables={};var ie=I(M);U.del.forEach(function(se){ie[se]=L[se]}),Ms(w,[w.Transaction.prototype]),ki(w,[w.Transaction.prototype],l(ie),ie),E.schema=ie;var Q,re=Xe(G);return re&&lr(),U=ue.follow(function(){var se;(Q=G(E))&&re&&(se=kn.bind(null,null),Q.then(se,se))}),Q&&typeof Q.then=="function"?ue.resolve(Q):U.then(function(){return Q})}}),j.push(function(L){var M,U,G=$._cfg.dbschema;M=G,U=L,[].slice.call(U.db.objectStoreNames).forEach(function(ie){return M[ie]==null&&U.db.deleteObjectStore(ie)}),Ms(w,[w.Transaction.prototype]),ki(w,[w.Transaction.prototype],w._storeNames,w._dbSchema),E.schema=w._dbSchema}),j.push(function(L){w.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(w.idbdb.version/10)===$._cfg.version?(w.idbdb.deleteObjectStore("$meta"),delete w._dbSchema.$meta,w._storeNames=w._storeNames.filter(function(M){return M!=="$meta"})):L.objectStore("$meta").put($._cfg.version,"version"))})}),function $(){return j.length?ue.resolve(j.shift()(E.idbtrans)).then($):ue.resolve()}().then(function(){Ra(O,C)})):ue.resolve();var w,A,E,C,j,O}).catch(v)):(l(d).forEach(function(T){Us(u,T,d[T].primKey,d[T].indexes)}),wi(i,u),void ue.follow(function(){return i.on.populate.fire(g)}).catch(v));var S,x})}function Fc(i,o){Ra(i._dbSchema,o),o.db.version%10!=0||o.objectStoreNames.contains("$meta")||o.db.createObjectStore("$meta").add(Math.ceil(o.db.version/10-1),"version");var u=Ei(0,i.idbdb,o);Si(i,i._dbSchema,o);for(var f=0,d=Fs(u,i._dbSchema).change;f<d.length;f++){var g=function(v){if(v.change.length||v.recreate)return console.warn("Unable to patch indexes of table ".concat(v.name," because it has changes on the type of index or primary key.")),{value:void 0};var b=o.objectStore(v.name);v.add.forEach(function(S){V&&console.debug("Dexie upgrade patch: Creating missing index ".concat(v.name,".").concat(S.src)),xi(b,S)})}(d[f]);if(typeof g=="object")return g.value}}function Fs(i,o){var u,f={del:[],add:[],change:[]};for(u in i)o[u]||f.del.push(u);for(u in o){var d=i[u],g=o[u];if(d){var v={name:u,def:g,recreate:!1,del:[],add:[],change:[]};if(""+(d.primKey.keyPath||"")!=""+(g.primKey.keyPath||"")||d.primKey.auto!==g.primKey.auto)v.recreate=!0,f.change.push(v);else{var b=d.idxByName,S=g.idxByName,x=void 0;for(x in b)S[x]||v.del.push(x);for(x in S){var T=b[x],w=S[x];T?T.src!==w.src&&v.change.push(w):v.add.push(w)}(0<v.del.length||0<v.add.length||0<v.change.length)&&f.change.push(v)}}else f.add.push([u,g])}return f}function Us(i,o,u,f){var d=i.db.createObjectStore(o,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});return f.forEach(function(g){return xi(d,g)}),d}function Ra(i,o){l(i).forEach(function(u){o.db.objectStoreNames.contains(u)||(V&&console.debug("Dexie: Creating missing table",u),Us(o,u,i[u].primKey,i[u].indexes))})}function xi(i,o){i.createIndex(o.name,o.keyPath,{unique:o.unique,multiEntry:o.multi})}function Ei(i,o,u){var f={};return Re(o.objectStoreNames,0).forEach(function(d){for(var g=u.objectStore(d),v=Ds(Aa(x=g.keyPath),x||"",!0,!1,!!g.autoIncrement,x&&typeof x!="string",!0),b=[],S=0;S<g.indexNames.length;++S){var T=g.index(g.indexNames[S]),x=T.keyPath,T=Ds(T.name,x,!!T.unique,!!T.multiEntry,!1,x&&typeof x!="string",!1);b.push(T)}f[d]=$s(d,v,b)}),f}function Si(i,o,u){for(var f=u.db.objectStoreNames,d=0;d<f.length;++d){var g=f[d],v=u.objectStore(g);i._hasGetAll="getAll"in v;for(var b=0;b<v.indexNames.length;++b){var S=v.indexNames[b],x=v.index(S).keyPath,T=typeof x=="string"?x:"["+Re(x).join("+")+"]";!o[g]||(x=o[g].idxByName[T])&&(x.name=S,delete o[g].idxByName[T],o[g].idxByName[S]=x)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(i._hasGetAll=!1)}function Ia(i){return i.split(",").map(function(o,u){var f=(o=o.trim()).replace(/([&*]|\+\+)/g,""),d=/^\[/.test(f)?f.match(/^\[(.*)\]$/)[1].split("+"):f;return Ds(f,d||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),c(d),u===0)})}var Uc=(Oi.prototype._parseStoresSpec=function(i,o){l(i).forEach(function(u){if(i[u]!==null){var f=Ia(i[u]),d=f.shift();if(d.unique=!0,d.multi)throw new q.Schema("Primary key cannot be multi-valued");f.forEach(function(g){if(g.auto)throw new q.Schema("Only primary key can be marked as autoIncrement (++)");if(!g.keyPath)throw new q.Schema("Index must have a name and cannot be an empty string")}),o[u]=$s(u,d,f)}})},Oi.prototype.stores=function(u){var o=this.db;this._cfg.storesSource=this._cfg.storesSource?h(this._cfg.storesSource,u):u;var u=o._versions,f={},d={};return u.forEach(function(g){h(f,g._cfg.storesSource),d=g._cfg.dbschema={},g._parseStoresSpec(f,d)}),o._dbSchema=d,Ms(o,[o._allTables,o,o.Transaction.prototype]),ki(o,[o._allTables,o,o.Transaction.prototype,this._cfg.tables],l(d),d),o._storeNames=l(d),this},Oi.prototype.upgrade=function(i){return this._cfg.contentUpgrade=J(this._cfg.contentUpgrade||we,i),this},Oi);function Oi(){}function Ks(i,o){var u=i._dbNamesDB;return u||(u=i._dbNamesDB=new pn(yi,{addons:[],indexedDB:i,IDBKeyRange:o})).version(1).stores({dbnames:"name"}),u.table("dbnames")}function Ns(i){return i&&typeof i.databases=="function"}function Bs(i){return wn(function(){return de.letThrough=!0,i()})}function qs(i){return!("from"in i)}var Rt=function(i,o){if(!this){var u=new Rt;return i&&"d"in i&&h(u,i),u}h(this,arguments.length?{d:1,from:i,to:1<arguments.length?o:i}:{d:0})};function Fr(i,o,u){var f=qe(o,u);if(!isNaN(f)){if(0<f)throw RangeError();if(qs(i))return h(i,{from:o,to:u,d:1});var d=i.l,f=i.r;if(qe(u,i.from)<0)return d?Fr(d,o,u):i.l={from:o,to:u,d:1,l:null,r:null},$a(i);if(0<qe(o,i.to))return f?Fr(f,o,u):i.r={from:o,to:u,d:1,l:null,r:null},$a(i);qe(o,i.from)<0&&(i.from=o,i.l=null,i.d=f?f.d+1:1),0<qe(u,i.to)&&(i.to=u,i.r=null,i.d=i.l?i.l.d+1:1),u=!i.r,d&&!i.l&&Ur(i,d),f&&u&&Ur(i,f)}}function Ur(i,o){qs(o)||function u(f,S){var g=S.from,v=S.to,b=S.l,S=S.r;Fr(f,g,v),b&&u(f,b),S&&u(f,S)}(i,o)}function Da(i,o){var u=Ci(o),f=u.next();if(f.done)return!1;for(var d=f.value,g=Ci(i),v=g.next(d.from),b=v.value;!f.done&&!v.done;){if(qe(b.from,d.to)<=0&&0<=qe(b.to,d.from))return!0;qe(d.from,b.from)<0?d=(f=u.next(b.from)).value:b=(v=g.next(d.from)).value}return!1}function Ci(i){var o=qs(i)?null:{s:0,n:i};return{next:function(u){for(var f=0<arguments.length;o;)switch(o.s){case 0:if(o.s=1,f)for(;o.n.l&&qe(u,o.n.from)<0;)o={up:o,n:o.n.l,s:1};else for(;o.n.l;)o={up:o,n:o.n.l,s:1};case 1:if(o.s=2,!f||qe(u,o.n.to)<=0)return{value:o.n,done:!1};case 2:if(o.n.r){o.s=3,o={up:o,n:o.n.r,s:0};continue}case 3:o=o.up}return{done:!0}}}}function $a(i){var o,u,f=(((o=i.r)===null||o===void 0?void 0:o.d)||0)-(((u=i.l)===null||u===void 0?void 0:u.d)||0),d=1<f?"r":f<-1?"l":"";d&&(o=d=="r"?"l":"r",u=r({},i),f=i[d],i.from=f.from,i.to=f.to,i[d]=f[d],u[d]=f[o],(i[o]=u).d=La(u)),i.d=La(i)}function La(u){var o=u.r,u=u.l;return(o?u?Math.max(o.d,u.d):o.d:u?u.d:0)+1}function Pi(i,o){return l(o).forEach(function(u){i[u]?Ur(i[u],o[u]):i[u]=function f(d){var g,v,b={};for(g in d)_(d,g)&&(v=d[g],b[g]=!v||typeof v!="object"||ce.has(v.constructor)?v:f(v));return b}(o[u])}),i}function Vs(i,o){return i.all||o.all||Object.keys(i).some(function(u){return o[u]&&Da(o[u],i[u])})}P(Rt.prototype,((Jt={add:function(i){return Ur(this,i),this},addKey:function(i){return Fr(this,i,i),this},addKeys:function(i){var o=this;return i.forEach(function(u){return Fr(o,u,u)}),this},hasKey:function(i){var o=Ci(this).next(i).value;return o&&qe(o.from,i)<=0&&0<=qe(o.to,i)}})[Se]=function(){return Ci(this)},Jt));var Vn={},Hs={},zs=!1;function Ti(i){Pi(Hs,i),zs||(zs=!0,setTimeout(function(){zs=!1,Ws(Hs,!(Hs={}))},0))}function Ws(i,o){o===void 0&&(o=!1);var u=new Set;if(i.all)for(var f=0,d=Object.values(Vn);f<d.length;f++)Ma(v=d[f],i,u,o);else for(var g in i){var v,b=/^idb\:\/\/(.*)\/(.*)\//.exec(g);b&&(g=b[1],b=b[2],(v=Vn["idb://".concat(g,"/").concat(b)])&&Ma(v,i,u,o))}u.forEach(function(S){return S()})}function Ma(i,o,u,f){for(var d=[],g=0,v=Object.entries(i.queries.query);g<v.length;g++){for(var b=v[g],S=b[0],x=[],T=0,w=b[1];T<w.length;T++){var A=w[T];Vs(o,A.obsSet)?A.subscribers.forEach(function(O){return u.add(O)}):f&&x.push(A)}f&&d.push([S,x])}if(f)for(var E=0,C=d;E<C.length;E++){var j=C[E],S=j[0],x=j[1];i.queries.query[S]=x}}function Kc(i){var o=i._state,u=i._deps.indexedDB;if(o.isBeingOpened||i.idbdb)return o.dbReadyPromise.then(function(){return o.dbOpenError?yt(o.dbOpenError):i});o.isBeingOpened=!0,o.dbOpenError=null,o.openComplete=!1;var f=o.openCanceller,d=Math.round(10*i.verno),g=!1;function v(){if(o.openCanceller!==f)throw new q.DatabaseClosed("db.open() was cancelled")}function b(){return new ue(function(A,E){if(v(),!u)throw new q.MissingAPI;var C=i.name,j=o.autoSchema||!d?u.open(C):u.open(C,d);if(!j)throw new q.MissingAPI;j.onerror=rn(E),j.onblocked=ft(i._fireOnBlocked),j.onupgradeneeded=ft(function(O){var $;T=j.transaction,o.autoSchema&&!i._options.allowEmptyDB?(j.onerror=Dr,T.abort(),j.result.close(),($=u.deleteDatabase(C)).onsuccess=$.onerror=ft(function(){E(new q.NoSuchDatabase("Database ".concat(C," doesnt exist")))})):(T.onerror=rn(E),O=O.oldVersion>Math.pow(2,62)?0:O.oldVersion,w=O<1,i.idbdb=j.result,g&&Fc(i,T),Mc(i,O/10,T,E))},E),j.onsuccess=ft(function(){T=null;var O,$,L,M,U,G=i.idbdb=j.result,ie=Re(G.objectStoreNames);if(0<ie.length)try{var Q=G.transaction((M=ie).length===1?M[0]:M,"readonly");if(o.autoSchema)$=G,L=Q,(O=i).verno=$.version/10,L=O._dbSchema=Ei(0,$,L),O._storeNames=Re($.objectStoreNames,0),ki(O,[O._allTables],l(L),L);else if(Si(i,i._dbSchema,Q),((U=Fs(Ei(0,(U=i).idbdb,Q),U._dbSchema)).add.length||U.change.some(function(re){return re.add.length||re.change.length}))&&!g)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),G.close(),d=G.version+1,g=!0,A(b());wi(i,Q)}catch{}ur.push(i),G.onversionchange=ft(function(re){o.vcFired=!0,i.on("versionchange").fire(re)}),G.onclose=ft(function(re){i.on("close").fire(re)}),w&&(U=i._deps,Q=C,G=U.indexedDB,U=U.IDBKeyRange,Ns(G)||Q===yi||Ks(G,U).put({name:Q}).catch(we)),A()},E)}).catch(function(A){switch(A==null?void 0:A.name){case"UnknownError":if(0<o.PR1398_maxLoop)return o.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),b();break;case"VersionError":if(0<d)return d=0,b()}return ue.reject(A)})}var S,x=o.dbReadyResolve,T=null,w=!1;return ue.race([f,(typeof navigator>"u"?ue.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(A){function E(){return indexedDB.databases().finally(A)}S=setInterval(E,100),E()}).finally(function(){return clearInterval(S)}):Promise.resolve()).then(b)]).then(function(){return v(),o.onReadyBeingFired=[],ue.resolve(Bs(function(){return i.on.ready.fire(i.vip)})).then(function A(){if(0<o.onReadyBeingFired.length){var E=o.onReadyBeingFired.reduce(J,we);return o.onReadyBeingFired=[],ue.resolve(Bs(function(){return E(i.vip)})).then(A)}})}).finally(function(){o.openCanceller===f&&(o.onReadyBeingFired=null,o.isBeingOpened=!1)}).catch(function(A){o.dbOpenError=A;try{T&&T.abort()}catch{}return f===o.openCanceller&&i._close(),yt(A)}).finally(function(){o.openComplete=!0,x()}).then(function(){var A;return w&&(A={},i.tables.forEach(function(E){E.schema.indexes.forEach(function(C){C.name&&(A["idb://".concat(i.name,"/").concat(E.name,"/").concat(C.name)]=new Rt(-1/0,[[[]]]))}),A["idb://".concat(i.name,"/").concat(E.name,"/")]=A["idb://".concat(i.name,"/").concat(E.name,"/:dels")]=new Rt(-1/0,[[[]]])}),Sn($r).fire(A),Ws(A,!0)),i})}function Js(i){function o(g){return i.next(g)}var u=d(o),f=d(function(g){return i.throw(g)});function d(g){return function(S){var b=g(S),S=b.value;return b.done?S:S&&typeof S.then=="function"?S.then(u,f):c(S)?Promise.all(S).then(u,f):u(S)}}return d(o)()}function Ai(i,o,u){for(var f=c(i)?i.slice():[i],d=0;d<u;++d)f.push(o);return f}var Nc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(i){return r(r({},i),{table:function(o){var u=i.table(o),f=u.schema,d={},g=[];function v(w,A,E){var C=Mr(w),j=d[C]=d[C]||[],O=w==null?0:typeof w=="string"?1:w.length,$=0<A,$=r(r({},E),{name:$?"".concat(C,"(virtual-from:").concat(E.name,")"):E.name,lowLevelIndex:E,isVirtual:$,keyTail:A,keyLength:O,extractKey:Ls(w),unique:!$&&E.unique});return j.push($),$.isPrimaryKey||g.push($),1<O&&v(O===2?w[0]:w.slice(0,O-1),A+1,E),j.sort(function(L,M){return L.keyTail-M.keyTail}),$}o=v(f.primaryKey.keyPath,0,f.primaryKey),d[":id"]=[o];for(var b=0,S=f.indexes;b<S.length;b++){var x=S[b];v(x.keyPath,0,x)}function T(w){var A,E=w.query.index;return E.isVirtual?r(r({},w),{query:{index:E.lowLevelIndex,range:(A=w.query.range,E=E.keyTail,{type:A.type===1?2:A.type,lower:Ai(A.lower,A.lowerOpen?i.MAX_KEY:i.MIN_KEY,E),lowerOpen:!0,upper:Ai(A.upper,A.upperOpen?i.MIN_KEY:i.MAX_KEY,E),upperOpen:!0})}}):w}return r(r({},u),{schema:r(r({},f),{primaryKey:o,indexes:g,getIndexByKeyPath:function(w){return(w=d[Mr(w)])&&w[0]}}),count:function(w){return u.count(T(w))},query:function(w){return u.query(T(w))},openCursor:function(w){var A=w.query.index,E=A.keyTail,C=A.isVirtual,j=A.keyLength;return C?u.openCursor(T(w)).then(function($){return $&&O($)}):u.openCursor(w);function O($){return Object.create($,{continue:{value:function(L){L!=null?$.continue(Ai(L,w.reverse?i.MAX_KEY:i.MIN_KEY,E)):w.unique?$.continue($.key.slice(0,j).concat(w.reverse?i.MIN_KEY:i.MAX_KEY,E)):$.continue()}},continuePrimaryKey:{value:function(L,M){$.continuePrimaryKey(Ai(L,i.MAX_KEY,E),M)}},primaryKey:{get:function(){return $.primaryKey}},key:{get:function(){var L=$.key;return j===1?L[0]:L.slice(0,j)}},value:{get:function(){return $.value}}})}}})}})}};function Gs(i,o,u,f){return u=u||{},f=f||"",l(i).forEach(function(d){var g,v,b;_(o,d)?(g=i[d],v=o[d],typeof g=="object"&&typeof v=="object"&&g&&v?(b=ut(g))!==ut(v)?u[f+d]=o[d]:b==="Object"?Gs(g,v,u,f+d+"."):g!==v&&(u[f+d]=o[d]):g!==v&&(u[f+d]=o[d])):u[f+d]=void 0}),l(o).forEach(function(d){_(i,d)||(u[f+d]=o[d])}),u}function Qs(i,o){return o.type==="delete"?o.keys:o.keys||o.values.map(i.extractKey)}var Bc={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(i){return r(r({},i),{table:function(o){var u=i.table(o),f=u.schema.primaryKey;return r(r({},u),{mutate:function(d){var g=de.trans,v=g.table(o).hook,b=v.deleting,S=v.creating,x=v.updating;switch(d.type){case"add":if(S.fire===we)break;return g._promise("readwrite",function(){return T(d)},!0);case"put":if(S.fire===we&&x.fire===we)break;return g._promise("readwrite",function(){return T(d)},!0);case"delete":if(b.fire===we)break;return g._promise("readwrite",function(){return T(d)},!0);case"deleteRange":if(b.fire===we)break;return g._promise("readwrite",function(){return function w(A,E,C){return u.query({trans:A,values:!1,query:{index:f,range:E},limit:C}).then(function(j){var O=j.result;return T({type:"delete",keys:O,trans:A}).then(function($){return 0<$.numFailures?Promise.reject($.failures[0]):O.length<C?{failures:[],numFailures:0,lastResult:void 0}:w(A,r(r({},E),{lower:O[O.length-1],lowerOpen:!0}),C)})})}(d.trans,d.range,1e4)},!0)}return u.mutate(d);function T(w){var A,E,C,j=de.trans,O=w.keys||Qs(f,w);if(!O)throw new Error("Keys missing");return(w=w.type==="add"||w.type==="put"?r(r({},w),{keys:O}):r({},w)).type!=="delete"&&(w.values=s([],w.values)),w.keys&&(w.keys=s([],w.keys)),A=u,C=O,((E=w).type==="add"?Promise.resolve([]):A.getMany({trans:E.trans,keys:C,cache:"immutable"})).then(function($){var L=O.map(function(M,U){var G,ie,Q,re=$[U],se={onerror:null,onsuccess:null};return w.type==="delete"?b.fire.call(se,M,re,j):w.type==="add"||re===void 0?(G=S.fire.call(se,M,w.values[U],j),M==null&&G!=null&&(w.keys[U]=M=G,f.outbound||be(w.values[U],f.keyPath,M))):(G=Gs(re,w.values[U]),(ie=x.fire.call(se,G,M,re,j))&&(Q=w.values[U],Object.keys(ie).forEach(function(W){_(Q,W)?Q[W]=ie[W]:be(Q,W,ie[W])}))),se});return u.mutate(w).then(function(M){for(var U=M.failures,G=M.results,ie=M.numFailures,M=M.lastResult,Q=0;Q<O.length;++Q){var re=(G||O)[Q],se=L[Q];re==null?se.onerror&&se.onerror(U[Q]):se.onsuccess&&se.onsuccess(w.type==="put"&&$[Q]?w.values[Q]:re)}return{failures:U,results:G,numFailures:ie,lastResult:M}}).catch(function(M){return L.forEach(function(U){return U.onerror&&U.onerror(M)}),Promise.reject(M)})})}}})}})}};function Fa(i,o,u){try{if(!o||o.keys.length<i.length)return null;for(var f=[],d=0,g=0;d<o.keys.length&&g<i.length;++d)qe(o.keys[d],i[g])===0&&(f.push(u?ye(o.values[d]):o.values[d]),++g);return f.length===i.length?f:null}catch{return null}}var qc={stack:"dbcore",level:-1,create:function(i){return{table:function(o){var u=i.table(o);return r(r({},u),{getMany:function(f){if(!f.cache)return u.getMany(f);var d=Fa(f.keys,f.trans._cache,f.cache==="clone");return d?ue.resolve(d):u.getMany(f).then(function(g){return f.trans._cache={keys:f.keys,values:f.cache==="clone"?ye(g):g},g})},mutate:function(f){return f.type!=="add"&&(f.trans._cache=null),u.mutate(f)}})}}}};function Ua(i,o){return i.trans.mode==="readonly"&&!!i.subscr&&!i.trans.explicit&&i.trans.db._options.cache!=="disabled"&&!o.schema.primaryKey.outbound}function Ka(i,o){switch(i){case"query":return o.values&&!o.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Vc={stack:"dbcore",level:0,name:"Observability",create:function(i){var o=i.schema.name,u=new Rt(i.MIN_KEY,i.MAX_KEY);return r(r({},i),{transaction:function(f,d,g){if(de.subscr&&d!=="readonly")throw new q.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(de.querier));return i.transaction(f,d,g)},table:function(f){var d=i.table(f),g=d.schema,v=g.primaryKey,w=g.indexes,b=v.extractKey,S=v.outbound,x=v.autoIncrement&&w.filter(function(E){return E.compound&&E.keyPath.includes(v.keyPath)}),T=r(r({},d),{mutate:function(E){function C(W){return W="idb://".concat(o,"/").concat(f,"/").concat(W),M[W]||(M[W]=new Rt)}var j,O,$,L=E.trans,M=E.mutatedParts||(E.mutatedParts={}),U=C(""),G=C(":dels"),ie=E.type,se=E.type==="deleteRange"?[E.range]:E.type==="delete"?[E.keys]:E.values.length<50?[Qs(v,E).filter(function(W){return W}),E.values]:[],Q=se[0],re=se[1],se=E.trans._cache;return c(Q)?(U.addKeys(Q),(se=ie==="delete"||Q.length===re.length?Fa(Q,se):null)||G.addKeys(Q),(se||re)&&(j=C,O=se,$=re,g.indexes.forEach(function(W){var Ee=j(W.name||"");function Ce(De){return De!=null?W.extractKey(De):null}function Ue(De){return W.multiEntry&&c(De)?De.forEach(function(Zt){return Ee.addKey(Zt)}):Ee.addKey(De)}(O||$).forEach(function(De,Et){var $e=O&&Ce(O[Et]),Et=$&&Ce($[Et]);qe($e,Et)!==0&&($e!=null&&Ue($e),Et!=null&&Ue(Et))})}))):Q?(re={from:Q.lower,to:Q.upper},G.add(re),U.add(re)):(U.add(u),G.add(u),g.indexes.forEach(function(W){return C(W.name).add(u)})),d.mutate(E).then(function(W){return!Q||E.type!=="add"&&E.type!=="put"||(U.addKeys(W.results),x&&x.forEach(function(Ee){var Ce=E.values.map(function(De){return Ee.extractKey(De)}),Ue=Ee.keyPath.findIndex(function(De){return De===v.keyPath});W.results.forEach(function(De){return Ce[Ue]=De}),C(Ee.name).addKeys(Ce)})),L.mutatedParts=Pi(L.mutatedParts||{},M),W})}}),w=function(C){var j=C.query,C=j.index,j=j.range;return[C,new Rt((C=j.lower)!==null&&C!==void 0?C:i.MIN_KEY,(j=j.upper)!==null&&j!==void 0?j:i.MAX_KEY)]},A={get:function(E){return[v,new Rt(E.key)]},getMany:function(E){return[v,new Rt().addKeys(E.keys)]},count:w,query:w,openCursor:w};return l(A).forEach(function(E){T[E]=function(C){var j=de.subscr,O=!!j,$=Ua(de,d)&&Ka(E,C)?C.obsSet={}:j;if(O){var L=function(re){return re="idb://".concat(o,"/").concat(f,"/").concat(re),$[re]||($[re]=new Rt)},M=L(""),U=L(":dels"),j=A[E](C),O=j[0],j=j[1];if((E==="query"&&O.isPrimaryKey&&!C.values?U:L(O.name||"")).add(j),!O.isPrimaryKey){if(E!=="count"){var G=E==="query"&&S&&C.values&&d.query(r(r({},C),{values:!1}));return d[E].apply(this,arguments).then(function(re){if(E==="query"){if(S&&C.values)return G.then(function(Ce){return Ce=Ce.result,M.addKeys(Ce),re});var se=C.values?re.result.map(b):re.result;(C.values?M:U).addKeys(se)}else if(E==="openCursor"){var W=re,Ee=C.values;return W&&Object.create(W,{key:{get:function(){return U.addKey(W.primaryKey),W.key}},primaryKey:{get:function(){var Ce=W.primaryKey;return U.addKey(Ce),Ce}},value:{get:function(){return Ee&&M.addKey(W.primaryKey),W.value}}})}return re})}U.add(u)}}return d[E].apply(this,arguments)}}),T}})}};function Na(i,o,u){if(u.numFailures===0)return o;if(o.type==="deleteRange")return null;var f=o.keys?o.keys.length:"values"in o&&o.values?o.values.length:1;return u.numFailures===f?null:(o=r({},o),c(o.keys)&&(o.keys=o.keys.filter(function(d,g){return!(g in u.failures)})),"values"in o&&c(o.values)&&(o.values=o.values.filter(function(d,g){return!(g in u.failures)})),o)}function Ys(i,o){return u=i,((f=o).lower===void 0||(f.lowerOpen?0<qe(u,f.lower):0<=qe(u,f.lower)))&&(i=i,(o=o).upper===void 0||(o.upperOpen?qe(i,o.upper)<0:qe(i,o.upper)<=0));var u,f}function Ba(i,o,A,f,d,g){if(!A||A.length===0)return i;var v=o.query.index,b=v.multiEntry,S=o.query.range,x=f.schema.primaryKey.extractKey,T=v.extractKey,w=(v.lowLevelIndex||v).extractKey,A=A.reduce(function(E,C){var j=E,O=[];if(C.type==="add"||C.type==="put")for(var $=new Rt,L=C.values.length-1;0<=L;--L){var M,U=C.values[L],G=x(U);$.hasKey(G)||(M=T(U),(b&&c(M)?M.some(function(se){return Ys(se,S)}):Ys(M,S))&&($.addKey(G),O.push(U)))}switch(C.type){case"add":j=E.concat(o.values?O:O.map(function(W){return x(W)}));break;case"put":var ie=new Rt().addKeys(C.values.map(function(W){return x(W)})),j=E.filter(function(W){return!ie.hasKey(o.values?x(W):W)}).concat(o.values?O:O.map(function(W){return x(W)}));break;case"delete":var Q=new Rt().addKeys(C.keys);j=E.filter(function(W){return!Q.hasKey(o.values?x(W):W)});break;case"deleteRange":var re=C.range;j=E.filter(function(W){return!Ys(x(W),re)})}return j},i);return A===i?i:(A.sort(function(E,C){return qe(w(E),w(C))||qe(x(E),x(C))}),o.limit&&o.limit<1/0&&(A.length>o.limit?A.length=o.limit:i.length===o.limit&&A.length<o.limit&&(d.dirty=!0)),g?Object.freeze(A):A)}function qa(i,o){return qe(i.lower,o.lower)===0&&qe(i.upper,o.upper)===0&&!!i.lowerOpen==!!o.lowerOpen&&!!i.upperOpen==!!o.upperOpen}function Hc(i,o){return function(u,f,d,g){if(u===void 0)return f!==void 0?-1:0;if(f===void 0)return 1;if((f=qe(u,f))===0){if(d&&g)return 0;if(d)return 1;if(g)return-1}return f}(i.lower,o.lower,i.lowerOpen,o.lowerOpen)<=0&&0<=function(u,f,d,g){if(u===void 0)return f!==void 0?1:0;if(f===void 0)return-1;if((f=qe(u,f))===0){if(d&&g)return 0;if(d)return-1;if(g)return 1}return f}(i.upper,o.upper,i.upperOpen,o.upperOpen)}function zc(i,o,u,f){i.subscribers.add(u),f.addEventListener("abort",function(){var d,g;i.subscribers.delete(u),i.subscribers.size===0&&(d=i,g=o,setTimeout(function(){d.subscribers.size===0&&me(g,d)},3e3))})}var Wc={stack:"dbcore",level:0,name:"Cache",create:function(i){var o=i.schema.name;return r(r({},i),{transaction:function(u,f,d){var g,v,b=i.transaction(u,f,d);return f==="readwrite"&&(v=(g=new AbortController).signal,d=function(S){return function(){if(g.abort(),f==="readwrite"){for(var x=new Set,T=0,w=u;T<w.length;T++){var A=w[T],E=Vn["idb://".concat(o,"/").concat(A)];if(E){var C=i.table(A),j=E.optimisticOps.filter(function(Ee){return Ee.trans===b});if(b._explicit&&S&&b.mutatedParts)for(var O=0,$=Object.values(E.queries.query);O<$.length;O++)for(var L=0,M=(ie=$[O]).slice();L<M.length;L++)Vs((Q=M[L]).obsSet,b.mutatedParts)&&(me(ie,Q),Q.subscribers.forEach(function(Ee){return x.add(Ee)}));else if(0<j.length){E.optimisticOps=E.optimisticOps.filter(function(Ee){return Ee.trans!==b});for(var U=0,G=Object.values(E.queries.query);U<G.length;U++)for(var ie,Q,re,se=0,W=(ie=G[U]).slice();se<W.length;se++)(Q=W[se]).res!=null&&b.mutatedParts&&(S&&!Q.dirty?(re=Object.isFrozen(Q.res),re=Ba(Q.res,Q.req,j,C,Q,re),Q.dirty?(me(ie,Q),Q.subscribers.forEach(function(Ee){return x.add(Ee)})):re!==Q.res&&(Q.res=re,Q.promise=ue.resolve({result:re}))):(Q.dirty&&me(ie,Q),Q.subscribers.forEach(function(Ee){return x.add(Ee)})))}}}x.forEach(function(Ee){return Ee()})}}},b.addEventListener("abort",d(!1),{signal:v}),b.addEventListener("error",d(!1),{signal:v}),b.addEventListener("complete",d(!0),{signal:v})),b},table:function(u){var f=i.table(u),d=f.schema.primaryKey;return r(r({},f),{mutate:function(g){var v=de.trans;if(d.outbound||v.db._options.cache==="disabled"||v.explicit)return f.mutate(g);var b=Vn["idb://".concat(o,"/").concat(u)];return b?(v=f.mutate(g),g.type!=="add"&&g.type!=="put"||!(50<=g.values.length||Qs(d,g).some(function(S){return S==null}))?(b.optimisticOps.push(g),g.mutatedParts&&Ti(g.mutatedParts),v.then(function(S){0<S.numFailures&&(me(b.optimisticOps,g),(S=Na(0,g,S))&&b.optimisticOps.push(S),g.mutatedParts&&Ti(g.mutatedParts))}),v.catch(function(){me(b.optimisticOps,g),g.mutatedParts&&Ti(g.mutatedParts)})):v.then(function(S){var x=Na(0,r(r({},g),{values:g.values.map(function(E,w){var A,E=(A=d.keyPath)!==null&&A!==void 0&&A.includes(".")?ye(E):r({},E);return be(E,d.keyPath,S.results[w]),E})}),S);b.optimisticOps.push(x),queueMicrotask(function(){return g.mutatedParts&&Ti(g.mutatedParts)})}),v):f.mutate(g)},query:function(g){if(!Ua(de,f)||!Ka("query",g))return f.query(g);var v=((x=de.trans)===null||x===void 0?void 0:x.db._options.cache)==="immutable",w=de,b=w.requery,S=w.signal,x=function(C,j,O,$){var L=Vn["idb://".concat(C,"/").concat(j)];if(!L)return[];if(!(j=L.queries[O]))return[null,!1,L,null];var M=j[($.query?$.query.index.name:null)||""];if(!M)return[null,!1,L,null];switch(O){case"query":var U=M.find(function(G){return G.req.limit===$.limit&&G.req.values===$.values&&qa(G.req.query.range,$.query.range)});return U?[U,!0,L,M]:[M.find(function(G){return("limit"in G.req?G.req.limit:1/0)>=$.limit&&(!$.values||G.req.values)&&Hc(G.req.query.range,$.query.range)}),!1,L,M];case"count":return U=M.find(function(G){return qa(G.req.query.range,$.query.range)}),[U,!!U,L,M]}}(o,u,"query",g),T=x[0],w=x[1],A=x[2],E=x[3];return T&&w?T.obsSet=g.obsSet:(w=f.query(g).then(function(C){var j=C.result;if(T&&(T.res=j),v){for(var O=0,$=j.length;O<$;++O)Object.freeze(j[O]);Object.freeze(j)}else C.result=ye(j);return C}).catch(function(C){return E&&T&&me(E,T),Promise.reject(C)}),T={obsSet:g.obsSet,promise:w,subscribers:new Set,type:"query",req:g,dirty:!1},E?E.push(T):(E=[T],(A=A||(Vn["idb://".concat(o,"/").concat(u)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[g.query.index.name||""]=E)),zc(T,E,b,S),T.promise.then(function(C){return{result:Ba(C.result,g,A==null?void 0:A.optimisticOps,f,T,v)}})}})}})}};function ji(i,o){return new Proxy(i,{get:function(u,f,d){return f==="db"?o:Reflect.get(u,f,d)}})}var pn=(vt.prototype.version=function(i){if(isNaN(i)||i<.1)throw new q.Type("Given version is not a positive number");if(i=Math.round(10*i)/10,this.idbdb||this._state.isBeingOpened)throw new q.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,i);var o=this._versions,u=o.filter(function(f){return f._cfg.version===i})[0];return u||(u=new this.Version(i),o.push(u),o.sort(Lc),u.stores({}),this._state.autoSchema=!1,u)},vt.prototype._whenReady=function(i){var o=this;return this.idbdb&&(this._state.openComplete||de.letThrough||this._vip)?i():new ue(function(u,f){if(o._state.openComplete)return f(new q.DatabaseClosed(o._state.dbOpenError));if(!o._state.isBeingOpened){if(!o._state.autoOpen)return void f(new q.DatabaseClosed);o.open().catch(we)}o._state.dbReadyPromise.then(u,f)}).then(i)},vt.prototype.use=function(i){var o=i.stack,u=i.create,f=i.level,d=i.name;return d&&this.unuse({stack:o,name:d}),i=this._middlewares[o]||(this._middlewares[o]=[]),i.push({stack:o,create:u,level:f??10,name:d}),i.sort(function(g,v){return g.level-v.level}),this},vt.prototype.unuse=function(i){var o=i.stack,u=i.name,f=i.create;return o&&this._middlewares[o]&&(this._middlewares[o]=this._middlewares[o].filter(function(d){return f?d.create!==f:!!u&&d.name!==u})),this},vt.prototype.open=function(){var i=this;return Nn(nt,function(){return Kc(i)})},vt.prototype._close=function(){var i=this._state,o=ur.indexOf(this);if(0<=o&&ur.splice(o,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}i.isBeingOpened||(i.dbReadyPromise=new ue(function(u){i.dbReadyResolve=u}),i.openCanceller=new ue(function(u,f){i.cancelOpen=f}))},vt.prototype.close=function(u){var o=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,u=this._state;o?(u.isBeingOpened&&u.cancelOpen(new q.DatabaseClosed),this._close(),u.autoOpen=!1,u.dbOpenError=new q.DatabaseClosed):(this._close(),u.autoOpen=this._options.autoOpen||u.isBeingOpened,u.openComplete=!1,u.dbOpenError=null)},vt.prototype.delete=function(i){var o=this;i===void 0&&(i={disableAutoOpen:!0});var u=0<arguments.length&&typeof arguments[0]!="object",f=this._state;return new ue(function(d,g){function v(){o.close(i);var b=o._deps.indexedDB.deleteDatabase(o.name);b.onsuccess=ft(function(){var S,x,T;S=o._deps,x=o.name,T=S.indexedDB,S=S.IDBKeyRange,Ns(T)||x===yi||Ks(T,S).delete(x).catch(we),d()}),b.onerror=rn(g),b.onblocked=o._fireOnBlocked}if(u)throw new q.InvalidArgument("Invalid closeOptions argument to db.delete()");f.isBeingOpened?f.dbReadyPromise.then(v):v()})},vt.prototype.backendDB=function(){return this.idbdb},vt.prototype.isOpen=function(){return this.idbdb!==null},vt.prototype.hasBeenClosed=function(){var i=this._state.dbOpenError;return i&&i.name==="DatabaseClosed"},vt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},vt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(vt.prototype,"tables",{get:function(){var i=this;return l(this._allTables).map(function(o){return i._allTables[o]})},enumerable:!1,configurable:!0}),vt.prototype.transaction=function(){var i=(function(o,u,f){var d=arguments.length;if(d<2)throw new q.InvalidArgument("Too few arguments");for(var g=new Array(d-1);--d;)g[d-1]=arguments[d];return f=g.pop(),[o,z(g),f]}).apply(this,arguments);return this._transaction.apply(this,i)},vt.prototype._transaction=function(i,o,u){var f=this,d=de.trans;d&&d.db===this&&i.indexOf("!")===-1||(d=null);var g,v,b=i.indexOf("?")!==-1;i=i.replace("!","").replace("?","");try{if(v=o.map(function(x){if(x=x instanceof f.Table?x.name:x,typeof x!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return x}),i=="r"||i===Ps)g=Ps;else{if(i!="rw"&&i!=Ts)throw new q.InvalidArgument("Invalid transaction mode: "+i);g=Ts}if(d){if(d.mode===Ps&&g===Ts){if(!b)throw new q.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");d=null}d&&v.forEach(function(x){if(d&&d.storeNames.indexOf(x)===-1){if(!b)throw new q.SubTransaction("Table "+x+" not included in parent transaction.");d=null}}),b&&d&&!d.active&&(d=null)}}catch(x){return d?d._promise(null,function(T,w){w(x)}):yt(x)}var S=(function x(T,w,A,E,C){return ue.resolve().then(function(){var j=de.transless||de,O=T._createTransaction(w,A,T._dbSchema,E);if(O.explicit=!0,j={trans:O,transless:j},E)O.idbtrans=E.idbtrans;else try{O.create(),O.idbtrans._explicit=!0,T._state.PR1398_maxLoop=3}catch(M){return M.name===et.InvalidState&&T.isOpen()&&0<--T._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),T.close({disableAutoOpen:!1}),T.open().then(function(){return x(T,w,A,null,C)})):yt(M)}var $,L=Xe(C);return L&&lr(),j=ue.follow(function(){var M;($=C.call(O,O))&&(L?(M=kn.bind(null,null),$.then(M,M)):typeof $.next=="function"&&typeof $.throw=="function"&&($=Js($)))},j),($&&typeof $.then=="function"?ue.resolve($).then(function(M){return O.active?M:yt(new q.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):j.then(function(){return $})).then(function(M){return E&&O._resolve(),O._completion.then(function(){return M})}).catch(function(M){return O._reject(M),yt(M)})})}).bind(null,this,g,v,d,u);return d?d._promise(g,S,"lock"):de.trans?Nn(de.transless,function(){return f._whenReady(S)}):this._whenReady(S)},vt.prototype.table=function(i){if(!_(this._allTables,i))throw new q.InvalidTable("Table ".concat(i," does not exist"));return this._allTables[i]},vt);function vt(i,o){var u=this;this._middlewares={},this.verno=0;var f=vt.dependencies;this._options=o=r({addons:vt.addons,autoOpen:!0,indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange,cache:"cloned"},o),this._deps={indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange},f=o.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var d,g,v,b,S,x={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:we,dbReadyPromise:null,cancelOpen:we,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:o.autoOpen};x.dbReadyPromise=new ue(function(w){x.dbReadyResolve=w}),x.openCanceller=new ue(function(w,A){x.cancelOpen=A}),this._state=x,this.name=i,this.on=jr(this,"populate","blocked","versionchange","close",{ready:[J,we]}),this.on.ready.subscribe=Ie(this.on.ready.subscribe,function(w){return function(A,E){vt.vip(function(){var C,j=u._state;j.openComplete?(j.dbOpenError||ue.resolve().then(A),E&&w(A)):j.onReadyBeingFired?(j.onReadyBeingFired.push(A),E&&w(A)):(w(A),C=u,E||w(function O(){C.on.ready.unsubscribe(A),C.on.ready.unsubscribe(O)}))})}}),this.Collection=(d=this,Rr(Tc.prototype,function($,O){this.db=d;var E=ba,C=null;if(O)try{E=O()}catch(L){C=L}var j=$._ctx,O=j.table,$=O.hook.reading.fire;this._ctx={table:O,index:j.index,isPrimKey:!j.index||O.schema.primKey.keyPath&&j.index===O.schema.primKey.name,range:E,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:C,or:j.or,valueMapper:$!==m?$:null}})),this.Table=(g=this,Rr(Ea.prototype,function(w,A,E){this.db=g,this._tx=E,this.name=w,this.schema=A,this.hook=g._allTables[w]?g._allTables[w].hook:jr(null,{creating:[F,we],reading:[k,m],updating:[B,we],deleting:[N,we]})})),this.Transaction=(v=this,Rr(Rc.prototype,function(w,A,E,C,j){var O=this;this.db=v,this.mode=w,this.storeNames=A,this.schema=E,this.chromeTransactionDurability=C,this.idbtrans=null,this.on=jr(this,"complete","error","abort"),this.parent=j||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ue(function($,L){O._resolve=$,O._reject=L}),this._completion.then(function(){O.active=!1,O.on.complete.fire()},function($){var L=O.active;return O.active=!1,O.on.error.fire($),O.parent?O.parent._reject($):L&&O.idbtrans&&O.idbtrans.abort(),yt($)})})),this.Version=(b=this,Rr(Uc.prototype,function(w){this.db=b,this._cfg={version:w,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(S=this,Rr(Ta.prototype,function(w,A,E){if(this.db=S,this._ctx={table:w,index:A===":id"?null:A,or:E},this._cmp=this._ascending=qe,this._descending=function(C,j){return qe(j,C)},this._max=function(C,j){return 0<qe(C,j)?C:j},this._min=function(C,j){return qe(C,j)<0?C:j},this._IDBKeyRange=S._deps.IDBKeyRange,!this._IDBKeyRange)throw new q.MissingAPI})),this.on("versionchange",function(w){0<w.newVersion?console.warn("Another connection wants to upgrade database '".concat(u.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(u.name,"'. Closing db now to resume the delete request.")),u.close({disableAutoOpen:!1})}),this.on("blocked",function(w){!w.newVersion||w.newVersion<w.oldVersion?console.warn("Dexie.delete('".concat(u.name,"') was blocked")):console.warn("Upgrade '".concat(u.name,"' blocked by other connection holding version ").concat(w.oldVersion/10))}),this._maxKey=Lr(o.IDBKeyRange),this._createTransaction=function(w,A,E,C){return new u.Transaction(w,A,E,u._options.chromeTransactionDurability,C)},this._fireOnBlocked=function(w){u.on("blocked").fire(w),ur.filter(function(A){return A.name===u.name&&A!==u&&!A._state.vcFired}).map(function(A){return A.on("versionchange").fire(w)})},this.use(qc),this.use(Wc),this.use(Vc),this.use(Nc),this.use(Bc);var T=new Proxy(this,{get:function(w,A,E){if(A==="_vip")return!0;if(A==="table")return function(j){return ji(u.table(j),T)};var C=Reflect.get(w,A,E);return C instanceof Ea?ji(C,T):A==="tables"?C.map(function(j){return ji(j,T)}):A==="_createTransaction"?function(){return ji(C.apply(this,arguments),T)}:C}});this.vip=T,f.forEach(function(w){return w(u)})}var Ri,Jt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Jc=(Xs.prototype.subscribe=function(i,o,u){return this._subscribe(i&&typeof i!="function"?i:{next:i,error:o,complete:u})},Xs.prototype[Jt]=function(){return this},Xs);function Xs(i){this._subscribe=i}try{Ri={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{Ri={indexedDB:null,IDBKeyRange:null}}function Va(i){var o,u=!1,f=new Jc(function(d){var g=Xe(i),v,b=!1,S={},x={},T={get closed(){return b},unsubscribe:function(){b||(b=!0,v&&v.abort(),w&&Sn.storagemutated.unsubscribe(E))}};d.start&&d.start(T);var w=!1,A=function(){return Cs(C)},E=function(j){Pi(S,j),Vs(x,S)&&A()},C=function(){var j,O,$;!b&&Ri.indexedDB&&(S={},j={},v&&v.abort(),v=new AbortController,$=function(L){var M=or();try{g&&lr();var U=wn(i,L);return U=g?U.finally(kn):U}finally{M&&ar()}}(O={subscr:j,signal:v.signal,requery:A,querier:i,trans:null}),Promise.resolve($).then(function(L){u=!0,o=L,b||O.signal.aborted||(S={},function(M){for(var U in M)if(_(M,U))return;return 1}(x=j)||w||(Sn($r,E),w=!0),Cs(function(){return!b&&d.next&&d.next(L)}))},function(L){u=!1,["DatabaseClosedError","AbortError"].includes(L==null?void 0:L.name)||b||Cs(function(){b||d.error&&d.error(L)})}))};return setTimeout(A,0),T});return f.hasValue=function(){return u},f.getValue=function(){return o},f}var Hn=pn;function Zs(i){var o=On;try{On=!0,Sn.storagemutated.fire(i),Ws(i,!0)}finally{On=o}}P(Hn,r(r({},ze),{delete:function(i){return new Hn(i,{addons:[]}).delete()},exists:function(i){return new Hn(i,{addons:[]}).open().then(function(o){return o.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(i){try{return o=Hn.dependencies,u=o.indexedDB,o=o.IDBKeyRange,(Ns(u)?Promise.resolve(u.databases()).then(function(f){return f.map(function(d){return d.name}).filter(function(d){return d!==yi})}):Ks(u,o).toCollection().primaryKeys()).then(i)}catch{return yt(new q.MissingAPI)}var o,u},defineClass:function(){return function(i){h(this,i)}},ignoreTransaction:function(i){return de.trans?Nn(de.transless,i):i()},vip:Bs,async:function(i){return function(){try{var o=Js(i.apply(this,arguments));return o&&typeof o.then=="function"?o:ue.resolve(o)}catch(u){return yt(u)}}},spawn:function(i,o,u){try{var f=Js(i.apply(u,o||[]));return f&&typeof f.then=="function"?f:ue.resolve(f)}catch(d){return yt(d)}},currentTransaction:{get:function(){return de.trans||null}},waitFor:function(i,o){return o=ue.resolve(typeof i=="function"?Hn.ignoreTransaction(i):i).timeout(o||6e4),de.trans?de.trans.waitFor(o):o},Promise:ue,debug:{get:function(){return V},set:function(i){K(i)}},derive:ee,extend:h,props:P,override:Ie,Events:jr,on:Sn,liveQuery:Va,extendObservabilitySet:Pi,getByKeyPath:Ze,setByKeyPath:be,delByKeyPath:function(i,o){typeof o=="string"?be(i,o,void 0):"length"in o&&[].map.call(o,function(u){be(i,u,void 0)})},shallowClone:I,deepClone:ye,getObjectDiff:Gs,cmp:qe,asap:Me,minKey:-1/0,addons:[],connections:ur,errnames:et,dependencies:Ri,cache:Vn,semVer:"4.0.8",version:"4.0.8".split(".").map(function(i){return parseInt(i)}).reduce(function(i,o,u){return i+o/Math.pow(10,2*u)})})),Hn.maxKey=Lr(Hn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Sn($r,function(i){On||(i=new CustomEvent(Is,{detail:i}),On=!0,dispatchEvent(i),On=!1)}),addEventListener(Is,function(i){i=i.detail,On||Zs(i)}));var hr,On=!1,Ha=function(){};return typeof BroadcastChannel<"u"&&((Ha=function(){(hr=new BroadcastChannel(Is)).onmessage=function(i){return i.data&&Zs(i.data)}})(),typeof hr.unref=="function"&&hr.unref(),Sn($r,function(i){On||hr.postMessage(i)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(i){if(!pn.disableBfCache&&i.persisted){V&&console.debug("Dexie: handling persisted pagehide"),hr!=null&&hr.close();for(var o=0,u=ur;o<u.length;o++)u[o].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(i){!pn.disableBfCache&&i.persisted&&(V&&console.debug("Dexie: handling persisted pageshow"),Ha(),Zs({all:new Rt(-1/0,[[]])}))})),ue.rejectionMapper=function(i,o){return!i||i instanceof Ne||i instanceof TypeError||i instanceof SyntaxError||!i.name||!Fe[i.name]?i:(o=new Fe[i.name](o||i.message,i),"stack"in i&&oe(o,"stack",{get:function(){return this.inner.stack}}),o)},K(V),r(pn,Object.freeze({__proto__:null,Dexie:pn,liveQuery:Va,Entity:wa,cmp:qe,PropModSymbol:dn,PropModification:Ir,replacePrefix:function(i,o){return new Ir({replacePrefix:[i,o]})},add:function(i){return new Ir({add:i})},remove:function(i){return new Ir({remove:i})},default:pn,RangeSet:Rt,mergeRanges:Ur,rangesOverlap:Da}),{default:pn}),pn})})(Yu);var Rd=Yu.exports;const jo=Gu(Rd),Pl=Symbol.for("Dexie"),Ro=globalThis[Pl]||(globalThis[Pl]=jo);if(jo.semVer!==Ro.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${jo.semVer} and ${Ro.semVer}`);const Dn=new Ro("DictionaryDB");Dn.version(1).stores({words:"id,type,chinese,romaji,classification,audioid,english",definitions:"defid,wordid,partofspeech,def_chinese,def_english"});async function Id(){try{const e=await(await fetch("./src/assets/taigiwords.csv")).text(),r=await(await fetch("./src/assets/taigidefs.csv")).text();Cl.parse(e,{header:!0,dynamicTyping:!0,complete:async s=>{console.log("CSV Data:",s.data);const a=s.data;await Dn.words.clear(),await Dn.words.bulkAdd(a)},error:s=>{console.error("CSV Parsing Error:",s)}}),Cl.parse(r,{header:!0,dynamicTyping:!0,complete:async s=>{console.log("CSV Data:",s.data);const a=s.data;await Dn.definitions.clear(),await Dn.definitions.bulkAdd(a)},error:s=>{console.error("CSV Parsing Error:",s)}})}catch(t){console.error("Error loading CSV file:",t)}}async function Xu(t){let e=window.speechSynthesis.getVoices();e.length===0&&(await new Promise(r=>window.speechSynthesis.addEventListener("voiceschanged",r,{once:!0})),e=window.speechSynthesis.getVoices());const n=new SpeechSynthesisUtterance(t);n.lang="zh-TW",n.voice=e.find(r=>r.name==="Meijia"),window.speechSynthesis.speak(n)}async function Zu(t){let e=window.speechSynthesis.getVoices();e.length===0&&(await new Promise(s=>window.speechSynthesis.addEventListener("voiceschanged",s,{once:!0})),e=window.speechSynthesis.getVoices());const n=e.filter(s=>s.lang==="en-US");console.log(n);const r=new SpeechSynthesisUtterance(t);r.lang="en-US",r.voice=e.find(s=>s.name==="Samantha"),window.speechSynthesis.speak(r)}const rr=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},Dd={},$d={class:"icon-play-container"};function Ld(t,e){return Te(),He("div",$d,e[0]||(e[0]=[Z("svg",{class:"play-audio",width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Z("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.9177 4.9473L19.4897 4.3313L18.2577 5.1873L18.6857 5.8023C21.3027 9.5713 21.3027 14.4363 18.6857 18.1973L18.2577 18.8123L19.4887 19.6693L19.9177 19.0533C22.8497 14.8393 22.8497 9.1703 19.9177 4.9473Z"}),Z("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.2312 7.6226L16.8582 6.9716L15.5572 7.7166L15.9292 8.3676C17.2142 10.6126 17.2142 13.3966 15.9302 15.6336L15.5562 16.2836L16.8572 17.0306L17.2312 16.3806C18.7792 13.6836 18.7792 10.3276 17.2312 7.6226Z"}),Z("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.0788 7.564H2.3848V8.064C2.3828 10.688 2.3828 13.312 2.3848 15.937V16.436H7.0788L11.2048 20.013H12.6678V3.987H11.2048L7.0788 7.564Z"})],-1)]))}const Yr=rr(Dd,[["render",Ld],["__scopeId","data-v-10fa8cd0"]]),Md={props:{audioID:{type:String,required:!0}},components:{IconPlayAudio:Yr},data(){return{isPlaying:!1,baseSrc:"src/assets/audio_taigi/"}},computed:{fullSrc(){return`${this.baseSrc}${getAudioFolder(this.audioid)}/${audioid}.mp3`}},methods:{togglePlay(){const t=this.$refs.audio;this.isPlaying?t.pause():t.play(),this.isPlaying=!this.isPlaying},audioEnded(){this.isPlaying=!1,console.log("Audio has finished playing.")},getAudioFolder(t){if(console.log(t),t){const e=parseInt(t.match(/^(\d+)\(/)[1]);return e<1e3?"0":e>=1e3&&e<2e3?"1":e>=2e3&&e<3e3?"2":e>=3e3&&e<4e3?"3":e>=4e3&&e<5e3?"4":e>=5e3&&e<6e3?"5":e>=6e3&&e<7e3?"6":e>=7e3&&e<8e3?"7":e>=8e3&&e<9e3?"8":e>=9e3&&e<1e4?"9":e>=1e4&&e<11e3?"10":e>=11e3&&e<12e3?"11":e>=12e3&&e<13e3?"12":e>=13e3&&e<14e3?"13":e>=14e3&&e<15e3?"14":e>=15e3&&e<16e3?"15":e>=16e3&&e<17e3?"16":e>=17e3&&e<18e3?"17":e>=18e3&&e<19e3?"18":e>=19e3&&e<2e4?"19":e>=2e4&&e<21e3?"20":e>=21e3&&e<22e3?"21":e>=22e3&&e<23e3?"22":e>=23e3&&e<24e3?"23":e>=24e3&&e<25e3?"24":e>=25e3&&e<26e3?"25":e>=26e3&&e<27e3?"26":e>=27e3&&e<28e3?"27":e>=28e3&&e<29e3?"28":"Out of range"}}},mounted(){this.$refs.audio},beforeDestroy(){this.$refs.audio}},Fd={class:"audio-player"},Ud=["src"];function Kd(t,e,n,r,s,a){const l=Vr("IconPlayAudio");return Te(),He("div",Fd,[Z("audio",{ref:"audio",src:`${this.baseSrc}${a.getAudioFolder(n.audioID)}/${n.audioID}.mp3`,onEnded:e[0]||(e[0]=(...c)=>a.audioEnded&&a.audioEnded(...c))},null,40,Ud),_t(l,{onClick:a.togglePlay},null,8,["onClick"])])}const ec=rr(Md,[["render",Kd],["__scopeId","data-v-68cbd314"]]),Nd="modulepreload",Bd=function(t){return"/taigi-dict-app/"+t},Tl={},Cr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(n.map(h=>{if(h=Bd(h),h in Tl)return;Tl[h]=!0;const y=h.endsWith(".css"),p=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const _=document.createElement("link");if(_.rel=y?"stylesheet":Nd,y||(_.as="script"),_.crossOrigin="",_.href=h,c&&_.setAttribute("nonce",c),document.head.appendChild(_),y)return new Promise((P,H)=>{_.addEventListener("load",P),_.addEventListener("error",()=>H(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})},qd=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Cr(async()=>{const{default:r}=await Promise.resolve().then(()=>Tr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class ca extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Vd extends ca{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Hd extends ca{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class zd extends ca{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Io;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Io||(Io={}));var Wd=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{y(r.next(p))}catch(_){l(_)}}function h(p){try{y(r.throw(p))}catch(_){l(_)}}function y(p){p.done?a(p.value):s(p.value).then(c,h)}y((r=r.apply(t,e||[])).next())})};class Jd{constructor(e,{headers:n={},customFetch:r,region:s=Io.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=qd(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Wd(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:l}=n;let c={},{region:h}=n;h||(h=this.region),h&&h!=="any"&&(c["x-region"]=h);let y;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",y=l):typeof l=="string"?(c["Content-Type"]="text/plain",y=l):typeof FormData<"u"&&l instanceof FormData?y=l:(c["Content-Type"]="application/json",y=JSON.stringify(l)));const p=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:y}).catch(oe=>{throw new Vd(oe)}),_=p.headers.get("x-relay-error");if(_&&_==="true")throw new Hd(p);if(!p.ok)throw new zd(p);let P=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),H;return P==="application/json"?H=yield p.json():P==="application/octet-stream"?H=yield p.blob():P==="text/event-stream"?H=p:P==="multipart/form-data"?H=yield p.formData():H=yield p.text(),{data:H,error:null}}catch(s){return{data:null,error:s}}})}}var Kt={},fa={},ys={},ui={},vs={},ms={},Gd=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Pr=Gd();const Qd=Pr.fetch,tc=Pr.fetch.bind(Pr),nc=Pr.Headers,Yd=Pr.Request,Xd=Pr.Response,Tr=Object.freeze(Object.defineProperty({__proto__:null,Headers:nc,Request:Yd,Response:Xd,default:tc,fetch:Qd},Symbol.toStringTag,{value:"Module"})),Zd=Ad(Tr);var _s={};Object.defineProperty(_s,"__esModule",{value:!0});class ep extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}_s.default=ep;var rc=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ms,"__esModule",{value:!0});const tp=rc(Zd),np=rc(_s);let rp=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=tp.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var l,c,h;let y=null,p=null,_=null,P=a.status,H=a.statusText;if(a.ok){if(this.method!=="HEAD"){const _e=await a.text();_e===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=_e:p=JSON.parse(_e))}const ee=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),ve=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");ee&&ve&&ve.length>1&&(_=parseInt(ve[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(y={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,_=null,P=406,H="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const ee=await a.text();try{y=JSON.parse(ee),Array.isArray(y)&&a.status===404&&(p=[],y=null,P=200,H="OK")}catch{a.status===404&&ee===""?(P=204,H="No Content"):y={message:ee}}if(y&&this.isMaybeSingle&&(!((h=y==null?void 0:y.details)===null||h===void 0)&&h.includes("0 rows"))&&(y=null,P=200,H="OK"),y&&this.shouldThrowOnError)throw new np.default(y)}return{error:y,data:p,count:_,status:P,statusText:H}});return this.shouldThrowOnError||(s=s.catch(a=>{var l,c,h;return{error:{message:`${(l=a==null?void 0:a.name)!==null&&l!==void 0?l:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(c=a==null?void 0:a.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(h=a==null?void 0:a.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}};ms.default=rp;var ip=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vs,"__esModule",{value:!0});const sp=ip(ms);let op=class extends sp.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:a=s}={}){const l=a?`${a}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const a=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(l,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:a=!1,format:l="text"}={}){var c;const h=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),y=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${y}"; options=${h};`,l==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};vs.default=op;var ap=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ui,"__esModule",{value:!0});const lp=ap(vs);let up=class extends lp.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${l}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ui.default=up;var cp=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ys,"__esModule",{value:!0});const Br=cp(ui);let fp=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let a=!1;const l=(e??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",l),r&&(this.headers.Prefer=`count=${r}`),new Br.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(l.length>0){const c=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new Br.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:a=!0}={}){const l="POST",c=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),a||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(e)){const h=e.reduce((y,p)=>y.concat(Object.keys(p)),[]);if(h.length>0){const y=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",y.join(","))}}return new Br.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Br.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Br.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ys.default=fp;var bs={},ws={};Object.defineProperty(ws,"__esModule",{value:!0});ws.version=void 0;ws.version="0.0.0-automated";Object.defineProperty(bs,"__esModule",{value:!0});bs.DEFAULT_HEADERS=void 0;const hp=ws;bs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${hp.version}`};var ic=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fa,"__esModule",{value:!0});const dp=ic(ys),pp=ic(ui),gp=bs;let yp=class sc{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},gp.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new dp.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new sc(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:a}={}){let l;const c=new URL(`${this.url}/rpc/${e}`);let h;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([p,_])=>_!==void 0).map(([p,_])=>[p,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([p,_])=>{c.searchParams.append(p,_)})):(l="POST",h=n);const y=Object.assign({},this.headers);return a&&(y.Prefer=`count=${a}`),new pp.default({method:l,url:c,headers:y,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}};fa.default=yp;var Ar=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.PostgrestError=Kt.PostgrestBuilder=Kt.PostgrestTransformBuilder=Kt.PostgrestFilterBuilder=Kt.PostgrestQueryBuilder=Kt.PostgrestClient=void 0;const oc=Ar(fa);Kt.PostgrestClient=oc.default;const ac=Ar(ys);Kt.PostgrestQueryBuilder=ac.default;const lc=Ar(ui);Kt.PostgrestFilterBuilder=lc.default;const uc=Ar(vs);Kt.PostgrestTransformBuilder=uc.default;const cc=Ar(ms);Kt.PostgrestBuilder=cc.default;const fc=Ar(_s);Kt.PostgrestError=fc.default;var vp=Kt.default={PostgrestClient:oc.default,PostgrestQueryBuilder:ac.default,PostgrestFilterBuilder:lc.default,PostgrestTransformBuilder:uc.default,PostgrestBuilder:cc.default,PostgrestError:fc.default};const{PostgrestClient:mp,PostgrestQueryBuilder:Qy,PostgrestFilterBuilder:Yy,PostgrestTransformBuilder:Xy,PostgrestBuilder:Zy}=vp,_p="2.10.7",bp={"X-Client-Info":`realtime-js/${_p}`},wp="1.0.0",hc=1e4,kp=1e3;var Sr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Sr||(Sr={}));var Vt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Vt||(Vt={}));var tn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(tn||(tn={}));var Do;(function(t){t.websocket="websocket"})(Do||(Do={}));var Zn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Zn||(Zn={}));class xp{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),a=n.getUint8(2);let l=this.HEADER_LENGTH+2;const c=r.decode(e.slice(l,l+s));l=l+s;const h=r.decode(e.slice(l,l+a));l=l+a;const y=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{ref:null,topic:c,event:h,payload:y}}}class dc{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var st;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(st||(st={}));const Al=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,l)=>(a[l]=Ep(l,t,e,s),a),{})},Ep=(t,e,n,r)=>{const s=e.find(c=>c.name===t),a=s==null?void 0:s.type,l=n[t];return a&&!r.includes(a)?pc(a,l):$o(l)},pc=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Pp(e,n)}switch(t){case st.bool:return Sp(e);case st.float4:case st.float8:case st.int2:case st.int4:case st.int8:case st.numeric:case st.oid:return Op(e);case st.json:case st.jsonb:return Cp(e);case st.timestamp:return Tp(e);case st.abstime:case st.date:case st.daterange:case st.int4range:case st.int8range:case st.money:case st.reltime:case st.text:case st.time:case st.timestamptz:case st.timetz:case st.tsrange:case st.tstzrange:return $o(e);default:return $o(e)}},$o=t=>t,Sp=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Op=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Cp=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Pp=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const l=t.slice(1,n);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(c=>pc(e,c))}return t},Tp=t=>typeof t=="string"?t.replace(" ","T"):t,gc=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class po{constructor(e,n,r={},s=hc){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var jl;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(jl||(jl={}));class Xr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xr.syncState(this.state,s,a,l),this.pendingDiffs.forEach(h=>{this.state=Xr.syncDiff(this.state,h,a,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},s=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Xr.syncDiff(this.state,s,a,l),c())}),this.onJoin((s,a,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:l})}),this.onLeave((s,a,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const a=this.cloneDeep(e),l=this.transformState(n),c={},h={};return this.map(a,(y,p)=>{l[y]||(h[y]=p)}),this.map(l,(y,p)=>{const _=a[y];if(_){const P=p.map(ve=>ve.presence_ref),H=_.map(ve=>ve.presence_ref),oe=p.filter(ve=>H.indexOf(ve.presence_ref)<0),ee=_.filter(ve=>P.indexOf(ve.presence_ref)<0);oe.length>0&&(c[y]=oe),ee.length>0&&(h[y]=ee)}else c[y]=p}),this.syncDiff(a,{joins:c,leaves:h},r,s)}static syncDiff(e,n,r,s){const{joins:a,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,(c,h)=>{var y;const p=(y=e[c])!==null&&y!==void 0?y:[];if(e[c]=this.cloneDeep(h),p.length>0){const _=e[c].map(H=>H.presence_ref),P=p.filter(H=>_.indexOf(H.presence_ref)<0);e[c].unshift(...P)}r(c,p,h)}),this.map(l,(c,h)=>{let y=e[c];if(!y)return;const p=h.map(_=>_.presence_ref);y=y.filter(_=>p.indexOf(_.presence_ref)<0),e[c]=y,s(c,y,h),y.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rl;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Rl||(Rl={}));var Il;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Il||(Il={}));var Dl;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Dl||(Dl={}));class ha{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new po(this,tn.join,this.params,this.timeout),this.rejoinTimer=new dc(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tn.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Xr(this),this.broadcastEndpointURL=gc(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:l,private:c}}=this.params;this._onError(p=>e&&e("CHANNEL_ERROR",p)),this._onClose(()=>e&&e("CLOSED"));const h={},y={broadcast:a,presence:l,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],private:c};this.socket.accessToken&&(h.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:y},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:p})=>{var _;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),p===void 0){e&&e("SUBSCRIBED");return}else{const P=this.bindings.postgres_changes,H=(_=P==null?void 0:P.length)!==null&&_!==void 0?_:0,oe=[];for(let ee=0;ee<H;ee++){const ve=P[ee],{filter:{event:_e,schema:Re,table:Ie,filter:fe}}=ve,Me=p&&p[ee];if(Me&&Me.event===_e&&Me.schema===Re&&Me.table===Ie&&Me.filter===fe)oe.push(Object.assign(Object.assign({},ve),{id:Me.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=oe,e&&e("SUBSCRIBED");return}}).receive("error",p=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:l}=e,c={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,c,h;const y=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.ack)&&a("ok"),y.receive("ok",()=>a("ok")),y.receive("error",()=>a("error")),y.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Vt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new po(this,tn.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,a=setTimeout(()=>s.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),l}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new po(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,a;const l=e.toLocaleLowerCase(),{close:c,error:h,leave:y,join:p}=tn;if(r&&[c,h,y,p].indexOf(l)>=0&&r!==this._joinRef())return;let P=this._onMessage(l,n,r);if(n&&!P)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(H=>{var oe,ee,ve;return((oe=H.filter)===null||oe===void 0?void 0:oe.event)==="*"||((ve=(ee=H.filter)===null||ee===void 0?void 0:ee.event)===null||ve===void 0?void 0:ve.toLocaleLowerCase())===l}).map(H=>H.callback(P,r)):(a=this.bindings[l])===null||a===void 0||a.filter(H=>{var oe,ee,ve,_e,Re,Ie;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in H){const fe=H.id,Me=(oe=H.filter)===null||oe===void 0?void 0:oe.event;return fe&&((ee=n.ids)===null||ee===void 0?void 0:ee.includes(fe))&&(Me==="*"||(Me==null?void 0:Me.toLocaleLowerCase())===((ve=n.data)===null||ve===void 0?void 0:ve.type.toLocaleLowerCase()))}else{const fe=(Re=(_e=H==null?void 0:H.filter)===null||_e===void 0?void 0:_e.event)===null||Re===void 0?void 0:Re.toLocaleLowerCase();return fe==="*"||fe===((Ie=n==null?void 0:n.event)===null||Ie===void 0?void 0:Ie.toLocaleLowerCase())}else return H.type.toLocaleLowerCase()===l}).map(H=>{if(typeof P=="object"&&"ids"in P){const oe=P.data,{schema:ee,table:ve,commit_timestamp:_e,type:Re,errors:Ie}=oe;P=Object.assign(Object.assign({},{schema:ee,table:ve,commit_timestamp:_e,eventType:Re,new:{},old:{},errors:Ie}),this._getPayloadRecords(oe))}H.callback(P,r)})}_isClosed(){return this.state===Vt.closed}_isJoined(){return this.state===Vt.joined}_isJoining(){return this.state===Vt.joining}_isLeaving(){return this.state===Vt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),a={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&ha.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(tn.close,{},e)}_onError(e){this._on(tn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Al(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Al(e.columns,e.old_record)),n}}const Ap=()=>{},jp=typeof WebSocket<"u",Rp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ip{constructor(e,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=bp,this.params={},this.timeout=hc,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Ap,this.conn=null,this.sendBuffer=[],this.serializer=new xp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=a=>{let l;return a?l=a:typeof fetch>"u"?l=(...c)=>Cr(async()=>{const{default:h}=await Promise.resolve().then(()=>Tr);return{default:h}},void 0).then(({default:h})=>h(...c)):l=fetch,(...c)=>l(...c)},this.endPoint=`${e}/${Do.websocket}`,this.httpEndpoint=gc(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,l)=>l(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new dc(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(jp){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Dp(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Cr(async()=>{const{default:e}=await import("./browser-De1ZboH1.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Sr.connecting:return Zn.Connecting;case Sr.open:return Zn.Open;case Sr.closing:return Zn.Closing;default:return Zn.Closed}}isConnected(){return this.connectionState()===Zn.Open}channel(e,n={config:{}}){const r=new ha(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:a}=e,l=()=>{this.encode(e,c=>{var h;(h=this.conn)===null||h===void 0||h.send(c)})};this.log("push",`${n} ${r} (${a})`,s),this.isConnected()?l():this.sendBuffer.push(l)}setAuth(e){this.accessToken=e,this.channels.forEach(n=>{e&&n.updateJoinPayload({access_token:e}),n.joinedOnce&&n._isJoined()&&n._push(tn.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:wp}))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:a,ref:l}=n;(l&&l===this.pendingHeartbeatRef||s===(a==null?void 0:a.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${s} ${l&&"("+l+")"||""}`,a),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,a,l)),this.stateChangeCallbacks.message.forEach(c=>c(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(tn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(kp,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Rp],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Dp{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Sr.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class da extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function xt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class $p extends da{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Lo extends da{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Lp=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{y(r.next(p))}catch(_){l(_)}}function h(p){try{y(r.throw(p))}catch(_){l(_)}}function y(p){p.done?a(p.value):s(p.value).then(c,h)}y((r=r.apply(t,e||[])).next())})};const yc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Cr(async()=>{const{default:r}=await Promise.resolve().then(()=>Tr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Mp=()=>Lp(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Cr(()=>Promise.resolve().then(()=>Tr),void 0)).Response:Response}),Mo=t=>{if(Array.isArray(t))return t.map(n=>Mo(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[s]=Mo(r)}),e};var ir=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{y(r.next(p))}catch(_){l(_)}}function h(p){try{y(r.throw(p))}catch(_){l(_)}}function y(p){p.done?a(p.value):s(p.value).then(c,h)}y((r=r.apply(t,e||[])).next())})};const go=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Fp=(t,e,n)=>ir(void 0,void 0,void 0,function*(){const r=yield Mp();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new $p(go(s),t.status||500))}).catch(s=>{e(new Lo(go(s),s))}):e(new Lo(go(t),t))}),Up=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function ci(t,e,n,r,s,a){return ir(this,void 0,void 0,function*(){return new Promise((l,c)=>{t(n,Up(e,r,s,a)).then(h=>{if(!h.ok)throw h;return r!=null&&r.noResolveJson?h:h.json()}).then(h=>l(h)).catch(h=>Fp(h,c,r))})})}function ts(t,e,n,r){return ir(this,void 0,void 0,function*(){return ci(t,"GET",e,n,r)})}function Rn(t,e,n,r,s){return ir(this,void 0,void 0,function*(){return ci(t,"POST",e,r,s,n)})}function Kp(t,e,n,r,s){return ir(this,void 0,void 0,function*(){return ci(t,"PUT",e,r,s,n)})}function Np(t,e,n,r){return ir(this,void 0,void 0,function*(){return ci(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function vc(t,e,n,r,s){return ir(this,void 0,void 0,function*(){return ci(t,"DELETE",e,r,s,n)})}var Mt=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{y(r.next(p))}catch(_){l(_)}}function h(p){try{y(r.throw(p))}catch(_){l(_)}}function y(p){p.done?a(p.value):s(p.value).then(c,h)}y((r=r.apply(t,e||[])).next())})};const Bp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$l={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qp{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=yc(s)}uploadOrUpdate(e,n,r,s){return Mt(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},$l),s);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const h=l.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),h&&a.append("metadata",this.encodeMetadata(h)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",l.cacheControl),h&&a.append("metadata",this.encodeMetadata(h))):(a=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,h&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),s!=null&&s.headers&&(c=Object.assign(Object.assign({},c),s.headers));const y=this._removeEmptyFolders(n),p=this._getFinalPath(y),_=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:e,body:a,headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{})),P=yield _.json();return _.ok?{data:{path:y,id:P.Id,fullPath:P.Key},error:null}:{data:null,error:P}}catch(a){if(xt(a))return{data:null,error:a};throw a}})}upload(e,n,r){return Mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Mt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),l=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",n);try{let h;const y=Object.assign({upsert:$l.upsert},s),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",y.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",y.cacheControl)):(h=r,p["cache-control"]=`max-age=${y.cacheControl}`,p["content-type"]=y.contentType);const _=yield this.fetch(c.toString(),{method:"PUT",body:h,headers:p}),P=yield _.json();return _.ok?{data:{path:a,fullPath:P.Key},error:null}:{data:null,error:P}}catch(h){if(xt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,n){return Mt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const a=yield Rn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),l=new URL(this.url+a.url),c=l.searchParams.get("token");if(!c)throw new da("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:c},error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}})}update(e,n,r){return Mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Mt(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(xt(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Mt(this,void 0,void 0,function*(){try{return{data:{path:(yield Rn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(xt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Mt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),a=yield Rn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(s){if(xt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Mt(this,void 0,void 0,function*(){try{const s=yield Rn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(s){if(xt(s))return{data:null,error:s};throw s}})}download(e,n){return Mt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=a?`?${a}`:"";try{const c=this._getFinalPath(e);return{data:yield(yield ts(this.fetch,`${this.url}/${s}/${c}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(xt(c))return{data:null,error:c};throw c}})}info(e){return Mt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield ts(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Mo(r),error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}})}exists(e){return Mt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Np(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(xt(r)&&r instanceof Lo){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&s.push(a);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});h!==""&&s.push(h);let y=s.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${y}`)}}}remove(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield vc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}})}list(e,n,r){return Mt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Bp),n),{prefix:e||""});return{data:yield Rn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(xt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Vp="2.7.1",Hp={"X-Client-Info":`storage-js/${Vp}`};var pr=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{y(r.next(p))}catch(_){l(_)}}function h(p){try{y(r.throw(p))}catch(_){l(_)}}function y(p){p.done?a(p.value):s(p.value).then(c,h)}y((r=r.apply(t,e||[])).next())})};class zp{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},Hp),n),this.fetch=yc(r)}listBuckets(){return pr(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(xt(e))return{data:null,error:e};throw e}})}getBucket(e){return pr(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return pr(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return pr(this,void 0,void 0,function*(){try{return{data:yield Kp(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return pr(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return pr(this,void 0,void 0,function*(){try{return{data:yield vc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}})}}class Wp extends zp{constructor(e,n={},r){super(e,n,r)}from(e){return new qp(this.url,this.headers,e,this.fetch)}}const Jp="2.46.1";let zr="";typeof Deno<"u"?zr="deno":typeof document<"u"?zr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zr="react-native":zr="node";const Gp={"X-Client-Info":`supabase-js-${zr}/${Jp}`},Qp={headers:Gp},Yp={schema:"public"},Xp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Zp={};var eg=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{y(r.next(p))}catch(_){l(_)}}function h(p){try{y(r.throw(p))}catch(_){l(_)}}function y(p){p.done?a(p.value):s(p.value).then(c,h)}y((r=r.apply(t,e||[])).next())})};const tg=t=>{let e;return t?e=t:typeof fetch>"u"?e=tc:e=fetch,(...n)=>e(...n)},ng=()=>typeof Headers>"u"?nc:Headers,rg=(t,e,n)=>{const r=tg(n),s=ng();return(a,l)=>eg(void 0,void 0,void 0,function*(){var c;const h=(c=yield e())!==null&&c!==void 0?c:t;let y=new s(l==null?void 0:l.headers);return y.has("apikey")||y.set("apikey",t),y.has("Authorization")||y.set("Authorization",`Bearer ${h}`),r(a,Object.assign(Object.assign({},l),{headers:y}))})};var ig=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{y(r.next(p))}catch(_){l(_)}}function h(p){try{y(r.throw(p))}catch(_){l(_)}}function y(p){p.done?a(p.value):s(p.value).then(c,h)}y((r=r.apply(t,e||[])).next())})};function sg(t){return t.replace(/\/$/,"")}function og(t,e){const{db:n,auth:r,realtime:s,global:a}=t,{db:l,auth:c,realtime:h,global:y}=e,p={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),r),realtime:Object.assign(Object.assign({},h),s),global:Object.assign(Object.assign({},y),a),accessToken:()=>ig(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}const mc="2.65.1",ag="http://localhost:9999",lg="supabase.auth.token",ug={"X-Client-Info":`gotrue-js/${mc}`},Ll=10,Fo="X-Supabase-Api-Version",_c={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function cg(t){return Math.round(Date.now()/1e3)+t}function fg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const en=()=>typeof document<"u",Gn={tested:!1,writable:!1},Zr=()=>{if(!en())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gn.tested)return Gn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Gn.tested=!0,Gn.writable=!0}catch{Gn.tested=!0,Gn.writable=!1}return Gn.writable};function yo(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{e[a]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const bc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Cr(async()=>{const{default:r}=await Promise.resolve().then(()=>Tr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},hg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",wc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ki=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ni=async(t,e)=>{await t.removeItem(e)};function dg(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,a,l,c,h,y,p=0;for(t=t.replace("-","+").replace("_","/");p<t.length;)l=e.indexOf(t.charAt(p++)),c=e.indexOf(t.charAt(p++)),h=e.indexOf(t.charAt(p++)),y=e.indexOf(t.charAt(p++)),r=l<<2|c>>4,s=(c&15)<<4|h>>2,a=(h&3)<<6|y,n=n+String.fromCharCode(r),h!=64&&s!=0&&(n=n+String.fromCharCode(s)),y!=64&&a!=0&&(n=n+String.fromCharCode(a));return n}class ks{constructor(){this.promise=new ks.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}ks.promiseConstructor=Promise;function Ml(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(dg(r))}async function pg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function gg(t,e){return new Promise((r,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await t(a);if(!e(a,null,l)){r(l);return}}catch(l){if(!e(a,l)){s(l);return}}})()})}function yg(t){return("0"+t.toString(16)).substr(-2)}function vg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,yg).join("")}async function mg(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}function _g(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await mg(t);return _g(n)}async function gr(t,e,n=!1){const r=vg();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await wc(t,`${e}-code-verifier`,s);const a=await bg(r);return[a,r===a?"plain":"s256"]}const wg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kg(t){const e=t.headers.get(Fo);if(!e||!e.match(wg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class pa extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Le(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class xg extends pa{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Eg(t){return Le(t)&&t.name==="AuthApiError"}class kc extends pa{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class sr extends pa{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Pn extends sr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Sg(t){return Le(t)&&t.name==="AuthSessionMissingError"}class vo extends sr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bi extends sr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class qi extends sr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fl extends sr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Uo extends sr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function mo(t){return Le(t)&&t.name==="AuthRetryableFetchError"}class Ul extends sr{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var Og=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Yn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Cg=[502,503,504];async function Kl(t){var e;if(!hg(t))throw new Uo(Yn(t),0);if(Cg.includes(t.status))throw new Uo(Yn(t),t.status);let n;try{n=await t.json()}catch(a){throw new kc(Yn(a),a)}let r;const s=kg(t);if(s&&s.getTime()>=_c["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ul(Yn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Pn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new Ul(Yn(n),t.status,n.weak_password.reasons);throw new xg(Yn(n),t.status||500,r)}const Pg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Ke(t,e,n,r){var s;const a=Object.assign({},r==null?void 0:r.headers);a[Fo]||(a[Fo]=_c["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",h=await Tg(t,e,n+c,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(h):{data:Object.assign({},h),error:null}}async function Tg(t,e,n,r,s,a){const l=Pg(e,r,s,a);let c;try{c=await t(n,Object.assign({},l))}catch(h){throw console.error(h),new Uo(Yn(h),0)}if(c.ok||await Kl(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(h){await Kl(h)}}function Tn(t){var e;let n=null;Ig(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=cg(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Nl(t){const e=Tn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function In(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Ag(t){return{data:t,error:null}}function jg(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a}=t,l=Og(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a},h=Object.assign({},l);return{data:{properties:c,user:h},error:null}}function Rg(t){return t}function Ig(t){return t.access_token&&t.refresh_token&&t.expires_in}var Dg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class $g{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=bc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await Ke(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:In})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Dg(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:jg,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Le(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ke(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:In})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,a,l,c,h;try{const y={nextPage:null,lastPage:0,total:0},p=await Ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Rg});if(p.error)throw p.error;const _=await p.json(),P=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,H=(h=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return H.length>0&&(H.forEach(oe=>{const ee=parseInt(oe.split(";")[0].split("=")[1].substring(0,1)),ve=JSON.parse(oe.split(";")[1].split("=")[1]);y[`${ve}Page`]=ee}),y.total=parseInt(P)),{data:Object.assign(Object.assign({},_),y),error:null}}catch(y){if(Le(y))return{data:{users:[]},error:y};throw y}}async getUserById(e){try{return await Ke(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:In})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await Ke(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:In})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await Ke(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:In})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await Ke(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await Ke(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}}}const Lg={getItem:t=>Zr()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Zr()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Zr()&&globalThis.localStorage.removeItem(t)}};function Bl(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Mg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const yr={debug:!!(globalThis&&Zr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xc extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Fg extends xc{}async function Ug(t,e,n){yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),yr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Fg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(yr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}Mg();const Kg={url:ag,storageKey:lg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ug,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},qr=30*1e3,ql=3;async function Vl(t,e,n){return await n()}class si{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=si.nextInstanceID,si.nextInstanceID+=1,this.instanceID>0&&en()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Kg),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new $g({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=bc(s.fetch),this.lock=s.lock||Vl,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:en()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ug:this.lock=Vl,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Zr()?this.storage=Lg:(this.memoryStorage={},this.storage=Bl(this.memoryStorage)):(this.memoryStorage={},this.storage=Bl(this.memoryStorage)),en()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${mc}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=en()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.code)==="identity_already_exists"?{error:r}:(await this._removeSession(),{error:r});const{session:s,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return Le(e)?{error:e}:{error:new kc("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const a=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Tn}),{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const h=l.session,y=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:y,session:h},error:null}}catch(a){if(Le(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,s;try{let a;if("email"in e){const{email:p,password:_,options:P}=e;let H=null,oe=null;this.flowType==="pkce"&&([H,oe]=await gr(this.storage,this.storageKey)),a=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:P==null?void 0:P.emailRedirectTo,body:{email:p,password:_,data:(n=P==null?void 0:P.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:P==null?void 0:P.captchaToken},code_challenge:H,code_challenge_method:oe},xform:Tn})}else if("phone"in e){const{phone:p,password:_,options:P}=e;a=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:_,data:(r=P==null?void 0:P.data)!==null&&r!==void 0?r:{},channel:(s=P==null?void 0:P.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:P==null?void 0:P.captchaToken}},xform:Tn})}else throw new Bi("You must provide either an email or phone number and a password");const{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const h=l.session,y=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:y,session:h},error:null}}catch(a){if(Le(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:l,options:c}=e;n=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Nl})}else if("phone"in e){const{phone:a,password:l,options:c}=e;n=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Nl})}else throw new Bi("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new vo}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Le(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Ki(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:a,error:l}=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Tn});if(await Ni(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new vo}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:l})}catch(a){if(Le(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:a,nonce:l}=e,c=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Tn}),{data:h,error:y}=c;return y?{data:{user:null,session:null},error:y}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new vo}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:y})}catch(n){if(Le(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,a,l;try{if("email"in e){const{email:c,options:h}=e;let y=null,p=null;this.flowType==="pkce"&&([y,p]=await gr(this.storage,this.storageKey));const{error:_}=await Ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},create_user:(r=h==null?void 0:h.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:y,code_challenge_method:p},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in e){const{phone:c,options:h}=e,{data:y,error:p}=await Ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},create_user:(a=h==null?void 0:h.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(l=h==null?void 0:h.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:y==null?void 0:y.message_id},error:p}}throw new Bi("You must provide either an email or phone number.")}catch(c){if(Le(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var n,r;try{let s,a;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await Ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Tn});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const h=l.session,y=l.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:y,session:h},error:null}}catch(s){if(Le(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await gr(this.storage,this.storageKey)),await Ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Ag})}catch(a){if(Le(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Pn;const{error:s}=await Ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Le(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:a}=e,{error:l}=await Ke(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:r,type:s,options:a}=e,{data:l,error:c}=await Ke(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c}}throw new Bi("You must provide either an email or phone number and a type")}catch(n){if(Le(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ki(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(h,y,p)=>(!l&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,y,p))})}return{data:{session:e},error:null}}const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:In}):await this._useSession(async n=>{var r,s,a;const{data:l,error:c}=n;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pn}:await Ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:In})})}catch(n){if(Le(n))return Sg(n)&&(await this._removeSession(),await Ni(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:a}=r;if(a)throw a;if(!s.session)throw new Pn;const l=s.session;let c=null,h=null;this.flowType==="pkce"&&e.email!=null&&([c,h]=await gr(this.storage,this.storageKey));const{data:y,error:p}=await Ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:h}),jwt:l.access_token,xform:In});if(p)throw p;return l.user=y.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return Ml(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Pn;const n=Date.now()/1e3;let r=n,s=!0,a=null;const l=Ml(e.access_token);if(l.exp&&(r=l.exp,s=r<=n),s){const{session:c,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:h}=await this._getUser(e.access_token);if(h)throw h;a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Le(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:l,error:c}=n;if(c)throw c;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Pn;const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Le(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e){try{if(!en())throw new qi("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new qi("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new Fl("Not a valid PKCE flow url.");const n=yo(window.location.href);if(e){if(!n.code)throw new Fl("No code detected.");const{data:Re,error:Ie}=await this._exchangeCodeForSession(n.code);if(Ie)throw Ie;const fe=new URL(window.location.href);return fe.searchParams.delete("code"),window.history.replaceState(window.history.state,"",fe.toString()),{data:{session:Re.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new qi(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:l,expires_in:c,expires_at:h,token_type:y}=n;if(!a||!c||!l||!y)throw new qi("No session defined in URL");const p=Math.round(Date.now()/1e3),_=parseInt(c);let P=p+_;h&&(P=parseInt(h));const H=P-p;H*1e3<=qr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${H}s, should have been closer to ${_}s`);const oe=P-_;p-oe>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",oe,P,p):p-oe<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",oe,P,p);const{data:ee,error:ve}=await this._getUser(a);if(ve)throw ve;const _e={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:_,expires_at:P,refresh_token:l,token_type:y,user:ee.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_e,redirectType:n.type},error:null}}catch(n){if(Le(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const e=yo(window.location.href);return!!(en()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=yo(window.location.href),n=await Ki(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{error:a};const l=(r=s.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(Eg(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await Ni(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=fg(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:a},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await gr(this.storage,this.storageKey,!0));try{return await Ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Le(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async a=>{var l,c,h,y,p;const{data:_,error:P}=a;if(P)throw P;const H=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Ke(this.fetch,"GET",H,{headers:this.headers,jwt:(p=(y=_.session)===null||y===void 0?void 0:y.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return en()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Le(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:a,error:l}=n;if(l)throw l;return await Ke(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await gg(async s=>(s>0&&await pg(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Tn})),(s,a)=>{const l=200*Math.pow(2,s);return a&&mo(a)&&Date.now()+l-r<qr})}catch(r){if(this._debug(n,"error",r),Le(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),en()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Ki(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),a=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+Ll;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Ll}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:l}=await this._callRefreshToken(r.refresh_token);l&&(console.error(l),mo(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Pn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ks;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new Pn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={session:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(s,"error",a),Le(a)){const l={session:null,error:a};return mo(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(h){a.push(h)}});if(await Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await wc(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ni(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&en()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),qr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/qr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${qr}ms, refresh threshold is ${ql} ticks`),s<=ql&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof xc)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!en()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await gr(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);s.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await Ke(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:a,error:l}=n;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:h,error:y}=await Ke(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return y?{data:null,error:y}:(e.factorType==="totp"&&(!((s=h==null?void 0:h.totp)===null||s===void 0)&&s.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{data:null,error:a};const{data:l,error:c}=await Ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(n){if(Le(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await Ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Le(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),a=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:a}=e;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const l=this._decodeJWT(s.access_token);let c=null;l.aal&&(c=l.aal);let h=c;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(h="aal2");const p=l.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:p},error:null}}))}}si.nextInstanceID=0;const Ng=si;class Bg extends Ng{constructor(e){super(e)}}var qg=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{y(r.next(p))}catch(_){l(_)}}function h(p){try{y(r.throw(p))}catch(_){l(_)}}function y(p){p.done?a(p.value):s(p.value).then(c,h)}y((r=r.apply(t,e||[])).next())})};class Vg{constructor(e,n,r){var s,a,l;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const c=sg(e);this.realtimeUrl=`${c}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${c}/auth/v1`,this.storageUrl=`${c}/storage/v1`,this.functionsUrl=`${c}/functions/v1`;const h=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,y={db:Yp,realtime:Zp,auth:Object.assign(Object.assign({},Xp),{storageKey:h}),global:Qp},p=og(r??{},y);this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=p.global.headers)!==null&&a!==void 0?a:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(_,P)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(P)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=rg(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},p.realtime)),this.rest=new mp(`${c}/rest/v1`,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new Jd(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Wp(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return qg(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:a,flowType:l,lock:c,debug:h},y,p){var _;const P={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Bg({url:this.authUrl,headers:Object.assign(Object.assign({},P),y),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:l,lock:c,debug:h,fetch:p,hasCustomAuthorizationHeader:(_="Authorization"in this.headers)!==null&&_!==void 0?_:!1})}_initRealtimeClient(e){return new Ip(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Hg=(t,e,n)=>new Vg(t,e,n),zg="https://oqwvljqwtearyepyaslo.supabase.co",Wg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xd3ZsanF3dGVhcnllcHlhc2xvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzEwODA1NjIsImV4cCI6MjA0NjY1NjU2Mn0.31HmSCfXawvkzhevPCaKWoVCZyD_elcQOCtgFWJMRKI",$n=Hg(zg,Wg),Jg={props:{visible:Boolean,word:Object},emits:["close","update-word","update-definition","delete-definition","add-definition"],setup(t,{emit:e}){const n=Gt({partofspeech:"",def_english:"",def_chinese:""});return console.log(t),{close:()=>e("close"),updateWord:async()=>{const{data:h,error:y}=await $n.from("words").upsert({id:word.value.id,chinese:word.value.chinese,romaji:word.value.romaji,classification:word.value.classification,english:word.value.english});y?console.error("Error updating word:",y.message):console.log("Word updated successfully:",h)},updateDefinition:async(h,y)=>{const p=t.word.definitions[y],{data:_,error:P}=await $n.from("definitions").upsert({defid:h,wordid:t.word.id,partofspeech:p.partofspeech,def_english:p.def_english,def_chinese:p.def_chinese});P?console.error("Error updating definition:",P.message):console.log("Definition updated successfully:",_)},deleteDefinition:async(h,y)=>{try{const{data:p,error:_}=await $n.from("definitions").delete().eq("defid",h);if(_){console.error("Error deleting definition:",_.message);return}t.word.definitions.splice(y,1),console.log("Definition deleted successfully:",p)}catch(p){console.error("Error in deleteDefinition:",p.message)}},addDefinition:async h=>{try{if(!h)throw new Error("No word ID provided.");const y={wordid:h,partofspeech:n.value.partofspeech,def_english:n.value.def_english,def_chinese:n.value.def_chinese},{data:p,error:_}=await $n.from("definitions").insert([y]).select();if(console.log(p),_){console.error("Error adding definition:",_.message);return}if(p&&p.length>0){const P=p[0];t.word.definitions||(t.word.definitions=[]),t.word.definitions.push(P),n.value={partofspeech:"",def_english:"",def_chinese:""},console.log("Definition added successfully:",P)}}catch(y){console.error("Error in addDefinition:",y.message)}},newDefinition:n}}},Gg={key:0,class:"edit-dialog"},Qg={class:"edit-word"},Yg={key:0,class:"definitions"},Xg=["onSubmit"],Zg=["onUpdate:modelValue"],ey=["onUpdate:modelValue"],ty=["onUpdate:modelValue"],ny=["onClick"],ry={class:"add-definition"};function iy(t,e,n,r,s,a){return n.visible?(Te(),He("div",Gg,[Z("button",{class:"close-dialog",onClick:e[0]||(e[0]=(...l)=>r.close&&r.close(...l))},"Close"),Z("div",Qg,[Z("form",{onSubmit:e[7]||(e[7]=ho((...l)=>r.updateWord&&r.updateWord(...l),["prevent"]))},[Z("div",null,[e[12]||(e[12]=Z("label",{for:"romaji"},"Romaji",-1)),Ft(Z("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>n.word.romaji=l),type:"text",id:"romaji"},null,512),[[Bt,n.word.romaji]])]),Z("div",null,[e[13]||(e[13]=Z("label",{for:"taiwanese"},"Taiwanese",-1)),Ft(Z("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>n.word.taiwanese=l),type:"text",id:"taiwanese"},null,512),[[Bt,n.word.taiwanese]])]),Z("div",null,[e[14]||(e[14]=Z("label",{for:"english"},"English",-1)),Ft(Z("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>n.word.english=l),type:"text",id:"english"},null,512),[[Bt,n.word.english]])]),Z("div",null,[e[15]||(e[15]=Z("label",{for:"english_mknoll"},"English Mary Knoll",-1)),Ft(Z("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>n.word.english_mknoll=l),type:"text",id:"english_mknoll"},null,512),[[Bt,n.word.english_mknoll]])]),Z("div",null,[e[16]||(e[16]=Z("label",{for:"chinese"},"Chinese",-1)),Ft(Z("input",{"onUpdate:modelValue":e[5]||(e[5]=l=>n.word.chinese=l),type:"text",id:"chinese"},null,512),[[Bt,n.word.chinese]])]),Z("div",null,[e[17]||(e[17]=Z("label",{for:"classification"},"Classification:",-1)),Ft(Z("input",{"onUpdate:modelValue":e[6]||(e[6]=l=>n.word.classification=l),type:"text",id:"classification"},null,512),[[Bt,n.word.classification]])]),e[18]||(e[18]=Z("button",{type:"submit"},"Save Word",-1))],32)]),n.word.definitions.length>0?(Te(),He("div",Yg,[(Te(!0),He(Ut,null,Yi(n.word.definitions,(l,c)=>(Te(),He("div",{key:l.defid,class:"definition-container"},[Z("form",{onSubmit:ho(h=>r.updateDefinition(l.defid,c),["prevent"])},[Z("div",null,[e[19]||(e[19]=Z("label",{for:"def_english"},"English Definition:",-1)),Ft(Z("textarea",{"onUpdate:modelValue":h=>l.def_english=h,id:"def_english"},null,8,Zg),[[Bt,l.def_english]])]),Z("div",null,[e[20]||(e[20]=Z("label",{for:"def_chinese"},"Chinese Definition:",-1)),Ft(Z("input",{"onUpdate:modelValue":h=>l.def_chinese=h,type:"text",id:"def_chinese"},null,8,ey),[[Bt,l.def_chinese]])]),Z("div",null,[e[21]||(e[21]=Z("label",{for:"partofspeech"},"Part of Speech:",-1)),Ft(Z("input",{"onUpdate:modelValue":h=>l.partofspeech=h,type:"text",id:"partofspeech"},null,8,ty),[[Bt,l.partofspeech]])]),e[22]||(e[22]=Z("button",{type:"submit"},"Save Definition",-1)),Z("button",{type:"button",onClick:h=>r.deleteDefinition(l.defid,c)}," Delete Definition ",8,ny)],40,Xg)]))),128))])):dt("",!0),Z("div",ry,[e[27]||(e[27]=Z("h4",null,"Add a new definition",-1)),Z("form",{onSubmit:e[11]||(e[11]=ho(l=>r.addDefinition(n.word.id),["prevent"]))},[Z("div",null,[e[23]||(e[23]=Z("label",{for:"partofspeech"},"Part of Speech:",-1)),Ft(Z("input",{"onUpdate:modelValue":e[8]||(e[8]=l=>r.newDefinition.partofspeech=l),id:"partofspeech"},null,512),[[Bt,r.newDefinition.partofspeech]])]),Z("div",null,[e[24]||(e[24]=Z("label",{for:"def_english"},"English Definition:",-1)),Ft(Z("textarea",{"onUpdate:modelValue":e[9]||(e[9]=l=>r.newDefinition.def_english=l),id:"def_english"},null,512),[[Bt,r.newDefinition.def_english]])]),Z("div",null,[e[25]||(e[25]=Z("label",{for:"def_chinese"},"Chinese Definition:",-1)),Ft(Z("textarea",{"onUpdate:modelValue":e[10]||(e[10]=l=>r.newDefinition.def_chinese=l),id:"def_chinese"},null,512),[[Bt,r.newDefinition.def_chinese]])]),e[26]||(e[26]=Z("button",{type:"submit"},"Add Definition",-1))],32)])])):dt("",!0)}const Ko=rr(Jg,[["render",iy],["__scopeId","data-v-926cb36e"]]),sy={};function oy(t,e,n,r,s,a){return Te(),He("div",null,e[0]||(e[0]=[Kh('<svg xmlns="http://www.w3.org/2000/svg" width="77" height="57" fill="none" data-v-2bc47986><g id="lid" data-v-2bc47986><path fill="#C9C9C9" stroke="#000" stroke-width="4" d="m14.784 18 3.764-11.172c15.55-1.92 24.842-1.867 40.368 0L62.304 18z" data-v-2bc47986></path><mask id="a" fill="#fff" data-v-2bc47986><path d="M33 0h11l-.917 4h-9.166z" data-v-2bc47986></path></mask><path fill="#000" d="M33 0h11l-.917 4h-9.166z" data-v-2bc47986></path><path fill="#000" d="M33 0v-4h-5.02L29.1.894zm11 0 3.899.894L49.02-4H44zm-.917 4v4h3.187l.712-3.106zm-9.166 0-3.9.894L30.73 8h3.187zM33 4h11v-8H33zm7.101-4.894-.917 4 7.798 1.788.917-4zM43.083 0h-9.166v8h9.166zm-5.267 3.107-.917-4L29.1.893l.917 4z" mask="url(#a)" data-v-2bc47986></path></g><path fill="#E8753C" stroke="#000" stroke-width="4" d="M16.352 52c-4.62-11.782-4.653-19.991-4.39-34h53.026q-.005 1.559-.006 3.026c-.013 11.587-.02 19.18-4.817 30.974z" data-v-2bc47986></path><path stroke="#000" stroke-width="4" d="M66 18h7M4 18h7" data-v-2bc47986></path><path fill="#000" d="M18 54h4v3h-4zM54 54h4v3h-4z" data-v-2bc47986></path><path fill="#C9C9C9" stroke="#000" stroke-width="4" d="m32.222 51.79 1.643-15.616c2.07-.827 3.638-1.177 5.13-1.174 1.496.003 3.066.36 5.14 1.18l1.643 15.61z" data-v-2bc47986></path><path fill="#000" d="M37 45h4v3h-4z" data-v-2bc47986></path><circle r="2" fill="#D9D9D9" class="steam-ball" data-v-2bc47986></circle><circle r="2" fill="#D9D9D9" class="steam-ball delay-1" data-v-2bc47986></circle><circle r="2" fill="#D9D9D9" class="steam-ball delay-2" data-v-2bc47986></circle><circle r="2" fill="#D9D9D9" class="steam-ball delay-3" data-v-2bc47986></circle><circle r="2" fill="#D9D9D9" class="steam-ball right" data-v-2bc47986></circle><circle r="2" fill="#D9D9D9" class="steam-ball right delay-1" data-v-2bc47986></circle><circle r="2" fill="#D9D9D9" class="steam-ball right delay-2" data-v-2bc47986></circle><circle r="2" fill="#D9D9D9" class="steam-ball right delay-3" data-v-2bc47986></circle></svg>',1)]))}const ay=rr(sy,[["render",oy],["__scopeId","data-v-2bc47986"]]),ly={__name:"Loader",setup(t){return(e,n)=>(Te(),He("div",null,[_t(ay),n[0]||(n[0]=Qt(" Loading ")),n[1]||(n[1]=Z("span",{class:"loading-dot-1"},".",-1)),n[2]||(n[2]=Z("span",{class:"loading-dot-2"},".",-1)),n[3]||(n[3]=Z("span",{class:"loading-dot-3"},".",-1))]))}},ns=rr(ly,[["__scopeId","data-v-81d376d5"]]),uy={components:{AudioPlayerTaigi:ec,IconPlayAudio:Yr,EditWord:Ko,Loader:ns},setup(){const t=Gt([]),e=Gt(""),n=Gt(!0),r=Gt(null),s=Gt(!1),a=Gt({partofspeech:"",def_english:"",def_chinese:""}),l=Gt(!1),c=Gt(!1);return{words:t,searchQuery:e,exactSearch:n,word:r,showDialog:s,newDefinition:a,clearInput:()=>{e.value="",t.value=[],c.value=!1},openEditDialog:ee=>{s.value=!0,document.body.style.overflow="hidden",r.value={...ee,definitions:ee.definitions||[]}},EditWord:Ko,Loader:ns,loading:l,closeDialog:()=>{s.value=!1,document.body.style.overflow="scroll"},searchWords:async()=>{try{l.value=!0,c.value=!0;let ee=$n.from("words").select("id, english, chinese, romaji, audioid, taiwanese, english_mknoll, definitions (defid, def_english, def_chinese)");n.value?ee=ee.or(`chinese.eq.${e.value},english.eq.${e.value},english_mknoll.eq.${e.value},romaji.eq.${e.value},taiwanese.eq.${e.value}`):ee=ee.or(`chinese.ilike.%${e.value}%,english.ilike.%${e.value}%,english_mknoll.ilike.%${e.value}%,romaji.ilike.%${e.value}%,taiwanese.ilike.%${e.value}%`);const{data:ve,error:_e}=await ee;_e?console.error("Error fetching words:",_e.message):t.value=ve}catch(ee){console.error("Error in searchWords:",ee.message)}finally{l.value=!1}},searchExecuted:c,readChinese:ee=>Xu(ee),readEnglish:ee=>Zu(ee),resetVoice:()=>window.speechSynthesis.cancel()}}},cy={id:"supasearch"},fy={class:"search-header"},hy={class:"search-words"},dy={class:"search-options"},py={class:"exact-search-container"},gy={class:"search-actions"},yy={class:"search-results-header"},vy={key:1},my={key:0,class:"results-count"},_y={key:0},by={class:"results"},wy={class:"word"},ky={key:0,class:"word-item word-taigi alphabetic"},xy={key:1,class:"word-item word-taigi alphabetic"},Ey={key:2,class:"word-item word-chinese logographic"},Sy={key:0,class:"word-item word-english alphabetic"},Oy={key:1,class:"word-item word-english alphabetic"},Cy={class:"alphabetic"},Py={class:"logographic"},Ty=["onClick"];function Ay(t,e,n,r,s,a){const l=Vr("Loader"),c=Vr("AudioPlayerTaigi"),h=Vr("IconPlayAudio"),y=Vr("EditWord");return Te(),He("div",cy,[Z("div",fy,[Z("div",hy,[Ft(Z("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=p=>r.searchQuery=p),onKeyup:e[1]||(e[1]=Ed((...p)=>r.searchWords&&r.searchWords(...p),["enter"])),placeholder:"Search for a word...",class:"text-field search-words-text-field",autocapitalize:"off"},null,544),[[Bt,r.searchQuery]]),r.searchQuery.length>0?(Te(),He("button",{key:0,class:"clear-search",onClick:e[2]||(e[2]=(...p)=>r.clearInput&&r.clearInput(...p))},e[7]||(e[7]=[Z("span",{class:"visually-hidden"},"Clear",-1)]))):dt("",!0)]),Z("div",dy,[Z("div",py,[Ft(Z("input",{id:"exact-search",type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=p=>r.exactSearch=p),onChange:e[4]||(e[4]=(...p)=>r.searchWords&&r.searchWords(...p))},null,544),[[_d,r.exactSearch]]),e[8]||(e[8]=Z("label",{for:"exact-search"},"Exact Search",-1))]),Z("div",gy,[Z("button",{class:"search-button",onClick:e[5]||(e[5]=(...p)=>r.searchWords&&r.searchWords(...p))},"Search")])]),Z("div",yy,[r.loading?(Te(),vn(l,{key:0})):(Te(),He("div",vy,[r.searchExecuted?(Te(),He("div",my,[Qt(Ot(r.words.length)+" result",1),r.words.length!=1?(Te(),He("span",_y,"s")):dt("",!0),e[9]||(e[9]=Qt(" found "))])):dt("",!0)]))])]),Z("ul",by,[(Te(!0),He(Ut,null,Yi(r.words,p=>(Te(),He("li",{key:p.id,class:"entry"},[Z("div",wy,[p.romaji!=null?(Te(),He("div",ky,[Qt(Ot(p.romaji)+" ",1),p.audioid?(Te(),vn(c,{key:0,audioID:p.audioid},null,8,["audioID"])):dt("",!0)])):dt("",!0),p.taiwanese!=null?(Te(),He("div",xy,Ot(p.taiwanese),1)):dt("",!0),p.chinese!=null?(Te(),He("div",Ey,[Qt(Ot(p.chinese)+" ",1),_t(h,{onClick:_=>r.readChinese(p.chinese)},null,8,["onClick"])])):dt("",!0)]),p.english!=null?(Te(),He("div",Sy,[Qt(Ot(p.english)+" ",1),_t(h,{onClick:_=>r.readEnglish(p.english)},null,8,["onClick"])])):dt("",!0),p.english_mknoll!=null?(Te(),He("div",Oy,[Qt(Ot(p.english_mknoll)+" ",1),_t(h,{onClick:_=>r.readEnglish(p.english_mknoll)},null,8,["onClick"])])):dt("",!0),Z("ul",null,[(Te(!0),He(Ut,null,Yi(p.definitions,_=>(Te(),He("li",{key:_.id},[Z("ul",null,[Z("li",Cy,Ot(_.def_english),1),Z("li",Py,Ot(_.def_chinese),1)])]))),128))]),Z("button",{class:"edit-word",onClick:_=>r.openEditDialog(p)}," Edit word ",8,Ty)]))),128))]),_t(y,{visible:r.showDialog,word:r.word,onClose:e[6]||(e[6]=p=>r.closeDialog())},null,8,["visible","word"])])}const jy=rr(uy,[["render",Ay],["__scopeId","data-v-b6f301be"]]),Ry={class:"rw"},Iy={key:1},Dy={class:"rw-words"},$y={class:"rw-words-main"},Ly={key:0,class:"rw-word-item rw-taigi alphabetic"},My={key:1,class:"rw-word-item rw-taigi alphabetic"},Fy={key:2,class:"rw-word-item rw-chinese logographic"},Uy={key:0,class:"rw-word-item rw-english alphabetic"},Ky={key:1,class:"rw-word-item rw-english alphabetic"},Ny={class:"logographic"},By={class:"alphabetic"},qy={__name:"RandomWord",setup(t){const e=Gt(null),n=Gt(!0),r=async()=>{try{n.value=!0;const{count:l}=await $n.from("words").select("*",{count:"exact",head:!0}),c=Math.floor(Math.random()*l),{data:h,error:y}=await $n.from("words").select("*").range(c,c).limit(1);if(y)throw new Error(y.message);const p=h[0],{data:_,error:P}=await $n.from("definitions").select("*").eq("wordid",p.id);if(P)throw new Error(P.message);p.definitions=_,e.value=p,console.log(e)}catch(l){console.error("Error fetching random word and definitions:",l.message)}finally{n.value=!1}};oa(r);const s=async l=>{Xu(l)},a=async l=>{Zu(l)};return(l,c)=>(Te(),He("div",Ry,[n.value&&!e.value?(Te(),vn(ns,{key:0})):dt("",!0),e.value?(Te(),He("div",Iy,[n.value?(Te(),vn(ns,{key:0})):dt("",!0),c[4]||(c[4]=Z("h4",null,"Random word",-1)),Z("div",Dy,[Z("div",$y,[e.value.romaji?(Te(),He("div",Ly,[Qt(Ot(e.value.romaji)+" ",1),e.value.audioid?(Te(),vn(ec,{key:0,audioID:e.value.audioid},null,8,["audioID"])):dt("",!0)])):dt("",!0),e.value.taiwanese?(Te(),He("div",My,Ot(e.value.taiwanese),1)):dt("",!0),e.value.chinese?(Te(),He("div",Fy,[Qt(Ot(e.value.chinese)+" ",1),e.value.chinese?(Te(),vn(Yr,{key:0,onClick:c[0]||(c[0]=h=>s(e.value.chinese))})):dt("",!0)])):dt("",!0)]),e.value.english?(Te(),He("div",Uy,[Qt(Ot(e.value.english)+" ",1),e.value.english?(Te(),vn(Yr,{key:0,onClick:c[1]||(c[1]=h=>a(e.value.english))})):dt("",!0)])):dt("",!0),e.value.english_mknoll?(Te(),He("div",Ky,[Qt(Ot(e.value.english_mknoll)+" ",1),e.value.english_mknoll?(Te(),vn(Yr,{key:0,onClick:c[2]||(c[2]=h=>a(e.value.english_mknoll))})):dt("",!0)])):dt("",!0)]),(Te(!0),He(Ut,null,Yi(e.value.definitions,(h,y)=>(Te(),He("div",{key:h.defid,class:"rw-definitions"},[Z("ul",null,[Z("li",Ny,Ot(h.def_chinese),1),Z("li",By,Ot(h.def_english),1)])]))),128)),Z("button",{onClick:r},"Next word")])):dt("",!0),_t(Ko,{visible:l.showDialog,word:l.word,onClose:c[3]||(c[3]=h=>l.closeDialog())},null,8,["visible","word"])]))}},Vy=rr(qy,[["__scopeId","data-v-b140c117"]]),Hy={__name:"App",setup(t){const e=Gt(!1);return oa(async()=>{e.value=await Dn.words.count()>0&&await Dn.definitions.count()>0,console.log(Dn),e.value?console.log("Data is available in IndexedDB."):(console.log("No data in IndexedDB."),Id())}),(n,r)=>(Te(),He(Ut,null,[r[0]||(r[0]=Z("header",null,[Z("div")],-1)),Z("main",null,[_t(jy),_t(Vy)]),r[1]||(r[1]=Z("footer",null,null,-1))],64))}};Cd(Hy).mount("#app");export{Gu as g};
