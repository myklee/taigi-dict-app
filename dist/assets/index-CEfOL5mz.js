(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();/**
* @vue/shared v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function sa(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const it={},Cr=[],hn=()=>{},Sf=()=>!1,ys=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),oa=t=>t.startsWith("onUpdate:"),Et=Object.assign,aa=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Of=Object.prototype.hasOwnProperty,Ge=(t,e)=>Of.call(t,e),ke=Array.isArray,Tr=t=>yi(t)==="[object Map]",ms=t=>yi(t)==="[object Set]",ll=t=>yi(t)==="[object Date]",Ae=t=>typeof t=="function",_t=t=>typeof t=="string",dn=t=>typeof t=="symbol",st=t=>t!==null&&typeof t=="object",hu=t=>(st(t)||Ae(t))&&Ae(t.then)&&Ae(t.catch),du=Object.prototype.toString,yi=t=>du.call(t),Cf=t=>yi(t).slice(8,-1),pu=t=>yi(t)==="[object Object]",la=t=>_t(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ti=sa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),vs=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Tf=/-(\w)/g,Zt=vs(t=>t.replace(Tf,(e,n)=>n?n.toUpperCase():"")),Pf=/\B([A-Z])/g,Kn=vs(t=>t.replace(Pf,"-$1").toLowerCase()),_s=vs(t=>t.charAt(0).toUpperCase()+t.slice(1)),mo=vs(t=>t?`on${_s(t)}`:""),Nn=(t,e)=>!Object.is(t,e),ts=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},gu=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Lo=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Af=t=>{const e=_t(t)?Number(t):NaN;return isNaN(e)?t:e};let ul;const yu=()=>ul||(ul=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ua(t){if(ke(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=_t(r)?Df(r):ua(r);if(s)for(const a in s)e[a]=s[a]}return e}else if(_t(t)||st(t))return t}const jf=/;(?![^(]*\))/g,Rf=/:([^]+)/,If=/\/\*[^]*?\*\//g;function Df(t){const e={};return t.replace(If,"").split(jf).forEach(n=>{if(n){const r=n.split(Rf);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ca(t){let e="";if(_t(t))e=t;else if(ke(t))for(let n=0;n<t.length;n++){const r=ca(t[n]);r&&(e+=r+" ")}else if(st(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const $f="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Lf=sa($f);function mu(t){return!!t||t===""}function Mf(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=bs(t[r],e[r]);return n}function bs(t,e){if(t===e)return!0;let n=ll(t),r=ll(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=dn(t),r=dn(e),n||r)return t===e;if(n=ke(t),r=ke(e),n||r)return n&&r?Mf(t,e):!1;if(n=st(t),r=st(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,a=Object.keys(e).length;if(s!==a)return!1;for(const l in t){const c=t.hasOwnProperty(l),f=e.hasOwnProperty(l);if(c&&!f||!c&&f||!bs(t[l],e[l]))return!1}}return String(t)===String(e)}function vu(t,e){return t.findIndex(n=>bs(n,e))}const _u=t=>!!(t&&t.__v_isRef===!0),Tt=t=>_t(t)?t:t==null?"":ke(t)||st(t)&&(t.toString===du||!Ae(t.toString))?_u(t)?Tt(t.value):JSON.stringify(t,bu,2):String(t),bu=(t,e)=>_u(e)?bu(t,e.value):Tr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],a)=>(n[vo(r,a)+" =>"]=s,n),{})}:ms(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>vo(n))}:dn(e)?vo(e):st(e)&&!ke(e)&&!pu(e)?String(e):e,vo=(t,e="")=>{var n;return dn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Wt;class Ff{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Wt,!e&&Wt&&(this.index=(Wt.scopes||(Wt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Wt;try{return Wt=this,e()}finally{Wt=n}}}on(){Wt=this}off(){Wt=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Uf(){return Wt}let lt;const _o=new WeakSet;class wu{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Wt&&Wt.active&&Wt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,_o.has(this)&&(_o.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||xu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cl(this),Eu(this);const e=lt,n=sn;lt=this,sn=!0;try{return this.fn()}finally{Su(this),lt=e,sn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)da(e);this.deps=this.depsTail=void 0,cl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?_o.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Mo(this)&&this.run()}get dirty(){return Mo(this)}}let ku=0,Or;function xu(t){t.flags|=8,t.next=Or,Or=t}function fa(){ku++}function ha(){if(--ku>0)return;let t;for(;Or;){let e=Or,n;for(;e;)e.flags&1||(e.flags&=-9),e=e.next;for(e=Or,Or=void 0;e;){if(n=e.next,e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Eu(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Su(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),da(r),Nf(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function Mo(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ou(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Ou(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===li))return;t.globalVersion=li;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Mo(t)){t.flags&=-3;return}const n=lt,r=sn;lt=t,sn=!0;try{Eu(t);const s=t.fn(t._value);(e.version===0||Nn(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{lt=n,sn=r,Su(t),t.flags&=-3}}function da(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r),!n.subs&&n.computed){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)da(a,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Nf(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let sn=!0;const Cu=[];function qn(){Cu.push(sn),sn=!1}function Vn(){const t=Cu.pop();sn=t===void 0?!0:t}function cl(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=lt;lt=void 0;try{e()}finally{lt=n}}}let li=0;class Bf{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class pa{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.target=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!lt||!sn||lt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==lt)n=this.activeLink=new Bf(lt,this),lt.deps?(n.prevDep=lt.depsTail,lt.depsTail.nextDep=n,lt.depsTail=n):lt.deps=lt.depsTail=n,Tu(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=lt.depsTail,n.nextDep=void 0,lt.depsTail.nextDep=n,lt.depsTail=n,lt.deps===n&&(lt.deps=r)}return n}trigger(e){this.version++,li++,this.notify(e)}notify(e){fa();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ha()}}}function Tu(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Tu(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Fo=new WeakMap,ur=Symbol(""),Uo=Symbol(""),ui=Symbol("");function jt(t,e,n){if(sn&&lt){let r=Fo.get(t);r||Fo.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new pa),s.target=t,s.map=r,s.key=n),s.track()}}function bn(t,e,n,r,s,a){const l=Fo.get(t);if(!l){li++;return}const c=f=>{f&&f.trigger()};if(fa(),e==="clear")l.forEach(c);else{const f=ke(t),y=f&&la(n);if(f&&n==="length"){const p=Number(r);l.forEach((v,O)=>{(O==="length"||O===ui||!dn(O)&&O>=p)&&c(v)})}else switch(n!==void 0&&c(l.get(n)),y&&c(l.get(ui)),e){case"add":f?y&&c(l.get("length")):(c(l.get(ur)),Tr(t)&&c(l.get(Uo)));break;case"delete":f||(c(l.get(ur)),Tr(t)&&c(l.get(Uo)));break;case"set":Tr(t)&&c(l.get(ur));break}}ha()}function wr(t){const e=We(t);return e===t?e:(jt(e,"iterate",ui),Xt(t)?e:e.map(Pt))}function ws(t){return jt(t=We(t),"iterate",ui),t}const Kf={__proto__:null,[Symbol.iterator](){return bo(this,Symbol.iterator,Pt)},concat(...t){return wr(this).concat(...t.map(e=>ke(e)?wr(e):e))},entries(){return bo(this,"entries",t=>(t[1]=Pt(t[1]),t))},every(t,e){return mn(this,"every",t,e,void 0,arguments)},filter(t,e){return mn(this,"filter",t,e,n=>n.map(Pt),arguments)},find(t,e){return mn(this,"find",t,e,Pt,arguments)},findIndex(t,e){return mn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return mn(this,"findLast",t,e,Pt,arguments)},findLastIndex(t,e){return mn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return mn(this,"forEach",t,e,void 0,arguments)},includes(...t){return wo(this,"includes",t)},indexOf(...t){return wo(this,"indexOf",t)},join(t){return wr(this).join(t)},lastIndexOf(...t){return wo(this,"lastIndexOf",t)},map(t,e){return mn(this,"map",t,e,void 0,arguments)},pop(){return Wr(this,"pop")},push(...t){return Wr(this,"push",t)},reduce(t,...e){return fl(this,"reduce",t,e)},reduceRight(t,...e){return fl(this,"reduceRight",t,e)},shift(){return Wr(this,"shift")},some(t,e){return mn(this,"some",t,e,void 0,arguments)},splice(...t){return Wr(this,"splice",t)},toReversed(){return wr(this).toReversed()},toSorted(t){return wr(this).toSorted(t)},toSpliced(...t){return wr(this).toSpliced(...t)},unshift(...t){return Wr(this,"unshift",t)},values(){return bo(this,"values",Pt)}};function bo(t,e,n){const r=ws(t),s=r[e]();return r!==t&&!Xt(t)&&(s._next=s.next,s.next=()=>{const a=s._next();return a.value&&(a.value=n(a.value)),a}),s}const qf=Array.prototype;function mn(t,e,n,r,s,a){const l=ws(t),c=l!==t&&!Xt(t),f=l[e];if(f!==qf[e]){const v=f.apply(t,a);return c?Pt(v):v}let y=n;l!==t&&(c?y=function(v,O){return n.call(this,Pt(v),O,t)}:n.length>2&&(y=function(v,O){return n.call(this,v,O,t)}));const p=f.call(l,y,r);return c&&s?s(p):p}function fl(t,e,n,r){const s=ws(t);let a=n;return s!==t&&(Xt(t)?n.length>3&&(a=function(l,c,f){return n.call(this,l,c,f,t)}):a=function(l,c,f){return n.call(this,l,Pt(c),f,t)}),s[e](a,...r)}function wo(t,e,n){const r=We(t);jt(r,"iterate",ui);const s=r[e](...n);return(s===-1||s===!1)&&_a(n[0])?(n[0]=We(n[0]),r[e](...n)):s}function Wr(t,e,n=[]){qn(),fa();const r=We(t)[e].apply(t,n);return ha(),Vn(),r}const Vf=sa("__proto__,__v_isRef,__isVue"),Pu=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(dn));function Hf(t){dn(t)||(t=String(t));const e=We(this);return jt(e,"has",t),e.hasOwnProperty(t)}class Au{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const s=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return a;if(n==="__v_raw")return r===(s?a?ih:Du:a?Iu:Ru).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const l=ke(e);if(!s){let f;if(l&&(f=Kf[n]))return f;if(n==="hasOwnProperty")return Hf}const c=Reflect.get(e,n,At(e)?e:r);return(dn(n)?Pu.has(n):Vf(n))||(s||jt(e,"get",n),a)?c:At(c)?l&&la(n)?c:c.value:st(c)?s?$u(c):ma(c):c}}class ju extends Au{constructor(e=!1){super(!1,e)}set(e,n,r,s){let a=e[n];if(!this._isShallow){const f=cr(a);if(!Xt(r)&&!cr(r)&&(a=We(a),r=We(r)),!ke(e)&&At(a)&&!At(r))return f?!1:(a.value=r,!0)}const l=ke(e)&&la(n)?Number(n)<e.length:Ge(e,n),c=Reflect.set(e,n,r,At(e)?e:s);return e===We(s)&&(l?Nn(r,a)&&bn(e,"set",n,r):bn(e,"add",n,r)),c}deleteProperty(e,n){const r=Ge(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&bn(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!dn(n)||!Pu.has(n))&&jt(e,"has",n),r}ownKeys(e){return jt(e,"iterate",ke(e)?"length":ur),Reflect.ownKeys(e)}}class zf extends Au{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Wf=new ju,Jf=new zf,Gf=new ju(!0);const ga=t=>t,ks=t=>Reflect.getPrototypeOf(t);function Vi(t,e,n=!1,r=!1){t=t.__v_raw;const s=We(t),a=We(e);n||(Nn(e,a)&&jt(s,"get",e),jt(s,"get",a));const{has:l}=ks(s),c=r?ga:n?ba:Pt;if(l.call(s,e))return c(t.get(e));if(l.call(s,a))return c(t.get(a));t!==s&&t.get(e)}function Hi(t,e=!1){const n=this.__v_raw,r=We(n),s=We(t);return e||(Nn(t,s)&&jt(r,"has",t),jt(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function zi(t,e=!1){return t=t.__v_raw,!e&&jt(We(t),"iterate",ur),Reflect.get(t,"size",t)}function hl(t,e=!1){!e&&!Xt(t)&&!cr(t)&&(t=We(t));const n=We(this);return ks(n).has.call(n,t)||(n.add(t),bn(n,"add",t,t)),this}function dl(t,e,n=!1){!n&&!Xt(e)&&!cr(e)&&(e=We(e));const r=We(this),{has:s,get:a}=ks(r);let l=s.call(r,t);l||(t=We(t),l=s.call(r,t));const c=a.call(r,t);return r.set(t,e),l?Nn(e,c)&&bn(r,"set",t,e):bn(r,"add",t,e),this}function pl(t){const e=We(this),{has:n,get:r}=ks(e);let s=n.call(e,t);s||(t=We(t),s=n.call(e,t)),r&&r.call(e,t);const a=e.delete(t);return s&&bn(e,"delete",t,void 0),a}function gl(){const t=We(this),e=t.size!==0,n=t.clear();return e&&bn(t,"clear",void 0,void 0),n}function Wi(t,e){return function(r,s){const a=this,l=a.__v_raw,c=We(l),f=e?ga:t?ba:Pt;return!t&&jt(c,"iterate",ur),l.forEach((y,p)=>r.call(s,f(y),f(p),a))}}function Ji(t,e,n){return function(...r){const s=this.__v_raw,a=We(s),l=Tr(a),c=t==="entries"||t===Symbol.iterator&&l,f=t==="keys"&&l,y=s[t](...r),p=n?ga:e?ba:Pt;return!e&&jt(a,"iterate",f?Uo:ur),{next(){const{value:v,done:O}=y.next();return O?{value:v,done:O}:{value:c?[p(v[0]),p(v[1])]:p(v),done:O}},[Symbol.iterator](){return this}}}}function Tn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Qf(){const t={get(a){return Vi(this,a)},get size(){return zi(this)},has:Hi,add:hl,set:dl,delete:pl,clear:gl,forEach:Wi(!1,!1)},e={get(a){return Vi(this,a,!1,!0)},get size(){return zi(this)},has:Hi,add(a){return hl.call(this,a,!0)},set(a,l){return dl.call(this,a,l,!0)},delete:pl,clear:gl,forEach:Wi(!1,!0)},n={get(a){return Vi(this,a,!0)},get size(){return zi(this,!0)},has(a){return Hi.call(this,a,!0)},add:Tn("add"),set:Tn("set"),delete:Tn("delete"),clear:Tn("clear"),forEach:Wi(!0,!1)},r={get(a){return Vi(this,a,!0,!0)},get size(){return zi(this,!0)},has(a){return Hi.call(this,a,!0)},add:Tn("add"),set:Tn("set"),delete:Tn("delete"),clear:Tn("clear"),forEach:Wi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{t[a]=Ji(a,!1,!1),n[a]=Ji(a,!0,!1),e[a]=Ji(a,!1,!0),r[a]=Ji(a,!0,!0)}),[t,n,e,r]}const[Yf,Xf,Zf,eh]=Qf();function ya(t,e){const n=e?t?eh:Zf:t?Xf:Yf;return(r,s,a)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Ge(n,s)&&s in r?n:r,s,a)}const th={get:ya(!1,!1)},nh={get:ya(!1,!0)},rh={get:ya(!0,!1)};const Ru=new WeakMap,Iu=new WeakMap,Du=new WeakMap,ih=new WeakMap;function sh(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function oh(t){return t.__v_skip||!Object.isExtensible(t)?0:sh(Cf(t))}function ma(t){return cr(t)?t:va(t,!1,Wf,th,Ru)}function ah(t){return va(t,!1,Gf,nh,Iu)}function $u(t){return va(t,!0,Jf,rh,Du)}function va(t,e,n,r,s){if(!st(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const a=s.get(t);if(a)return a;const l=oh(t);if(l===0)return t;const c=new Proxy(t,l===2?r:n);return s.set(t,c),c}function Pr(t){return cr(t)?Pr(t.__v_raw):!!(t&&t.__v_isReactive)}function cr(t){return!!(t&&t.__v_isReadonly)}function Xt(t){return!!(t&&t.__v_isShallow)}function _a(t){return t?!!t.__v_raw:!1}function We(t){const e=t&&t.__v_raw;return e?We(e):t}function lh(t){return!Ge(t,"__v_skip")&&Object.isExtensible(t)&&gu(t,"__v_skip",!0),t}const Pt=t=>st(t)?ma(t):t,ba=t=>st(t)?$u(t):t;function At(t){return t?t.__v_isRef===!0:!1}function Yt(t){return uh(t,!1)}function uh(t,e){return At(t)?t:new ch(t,e)}class ch{constructor(e,n){this.dep=new pa,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:We(e),this._value=n?e:Pt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Xt(e)||cr(e);e=r?e:We(e),Nn(e,n)&&(this._rawValue=e,this._value=r?e:Pt(e),this.dep.trigger())}}function fh(t){return At(t)?t.value:t}const hh={get:(t,e,n)=>e==="__v_raw"?t:fh(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return At(s)&&!At(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function Lu(t){return Pr(t)?t:new Proxy(t,hh)}class dh{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new pa(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=li-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&lt!==this)return xu(this),!0}get value(){const e=this.dep.track();return Ou(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function ph(t,e,n=!1){let r,s;return Ae(t)?r=t:(r=t.get,s=t.set),new dh(r,s,n)}const Gi={},os=new WeakMap;let rr;function gh(t,e=!1,n=rr){if(n){let r=os.get(n);r||os.set(n,r=[]),r.push(t)}}function yh(t,e,n=it){const{immediate:r,deep:s,once:a,scheduler:l,augmentJob:c,call:f}=n,y=de=>s?de:Xt(de)||s===!1||s===0?_n(de,1):_n(de);let p,v,O,q,te=!1,X=!1;if(At(t)?(v=()=>t.value,te=Xt(t)):Pr(t)?(v=()=>y(t),te=!0):ke(t)?(X=!0,te=t.some(de=>Pr(de)||Xt(de)),v=()=>t.map(de=>{if(At(de))return de.value;if(Pr(de))return y(de);if(Ae(de))return f?f(de,2):de()})):Ae(t)?e?v=f?()=>f(t,2):t:v=()=>{if(O){qn();try{O()}finally{Vn()}}const de=rr;rr=p;try{return f?f(t,3,[q]):t(q)}finally{rr=de}}:v=hn,e&&s){const de=v,Se=s===!0?1/0:s;v=()=>_n(de(),Se)}const ge=Uf(),ve=()=>{p.stop(),ge&&aa(ge.effects,p)};if(a&&e){const de=e;e=(...Se)=>{de(...Se),ve()}}let Ce=X?new Array(t.length).fill(Gi):Gi;const Te=de=>{if(!(!(p.flags&1)||!p.dirty&&!de))if(e){const Se=p.run();if(s||te||(X?Se.some((Ue,_e)=>Nn(Ue,Ce[_e])):Nn(Se,Ce))){O&&O();const Ue=rr;rr=p;try{const _e=[Se,Ce===Gi?void 0:X&&Ce[0]===Gi?[]:Ce,q];f?f(e,3,_e):e(..._e),Ce=Se}finally{rr=Ue}}}else p.run()};return c&&c(Te),p=new wu(v),p.scheduler=l?()=>l(Te,!1):Te,q=de=>gh(de,!1,p),O=p.onStop=()=>{const de=os.get(p);if(de){if(f)f(de,4);else for(const Se of de)Se();os.delete(p)}},e?r?Te(!0):Ce=p.run():l?l(Te.bind(null,!0),!0):p.run(),ve.pause=p.pause.bind(p),ve.resume=p.resume.bind(p),ve.stop=ve,ve}function _n(t,e=1/0,n){if(e<=0||!st(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,At(t))_n(t.value,e,n);else if(ke(t))for(let r=0;r<t.length;r++)_n(t[r],e,n);else if(ms(t)||Tr(t))t.forEach(r=>{_n(r,e,n)});else if(pu(t)){for(const r in t)_n(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&_n(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function mi(t,e,n,r){try{return r?t(...r):t()}catch(s){xs(s,e,n)}}function on(t,e,n,r){if(Ae(t)){const s=mi(t,e,n,r);return s&&hu(s)&&s.catch(a=>{xs(a,e,n)}),s}if(ke(t)){const s=[];for(let a=0;a<t.length;a++)s.push(on(t[a],e,n,r));return s}}function xs(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:l}=e&&e.appContext.config||it;if(e){let c=e.parent;const f=e.proxy,y=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const p=c.ec;if(p){for(let v=0;v<p.length;v++)if(p[v](t,f,y)===!1)return}c=c.parent}if(a){qn(),mi(a,null,10,[t,f,y]),Vn();return}}mh(t,n,s,r,l)}function mh(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}let ci=!1,No=!1;const Lt=[];let cn=0;const Ar=[];let In=null,Sr=0;const Mu=Promise.resolve();let wa=null;function vh(t){const e=wa||Mu;return t?e.then(this?t.bind(this):t):e}function _h(t){let e=ci?cn+1:0,n=Lt.length;for(;e<n;){const r=e+n>>>1,s=Lt[r],a=fi(s);a<t||a===t&&s.flags&2?e=r+1:n=r}return e}function ka(t){if(!(t.flags&1)){const e=fi(t),n=Lt[Lt.length-1];!n||!(t.flags&2)&&e>=fi(n)?Lt.push(t):Lt.splice(_h(e),0,t),t.flags|=1,Fu()}}function Fu(){!ci&&!No&&(No=!0,wa=Mu.then(Nu))}function bh(t){ke(t)?Ar.push(...t):In&&t.id===-1?In.splice(Sr+1,0,t):t.flags&1||(Ar.push(t),t.flags|=1),Fu()}function yl(t,e,n=ci?cn+1:0){for(;n<Lt.length;n++){const r=Lt[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Lt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Uu(t){if(Ar.length){const e=[...new Set(Ar)].sort((n,r)=>fi(n)-fi(r));if(Ar.length=0,In){In.push(...e);return}for(In=e,Sr=0;Sr<In.length;Sr++){const n=In[Sr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}In=null,Sr=0}}const fi=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Nu(t){No=!1,ci=!0;try{for(cn=0;cn<Lt.length;cn++){const e=Lt[cn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),mi(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;cn<Lt.length;cn++){const e=Lt[cn];e&&(e.flags&=-2)}cn=0,Lt.length=0,Uu(),ci=!1,wa=null,(Lt.length||Ar.length)&&Nu()}}let Kt=null,Bu=null;function as(t){const e=Kt;return Kt=t,Bu=t&&t.type.__scopeId||null,e}function Ku(t,e=Kt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&Ol(-1);const a=as(e);let l;try{l=t(...s)}finally{as(a),r._d&&Ol(1)}return l};return r._n=!0,r._c=!0,r._d=!0,r}function $t(t,e){if(Kt===null)return t;const n=As(Kt),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[a,l,c,f=it]=e[s];a&&(Ae(a)&&(a={mounted:a,updated:a}),a.deep&&_n(l),r.push({dir:a,instance:n,value:l,oldValue:void 0,arg:c,modifiers:f}))}return t}function Xn(t,e,n,r){const s=t.dirs,a=e&&e.dirs;for(let l=0;l<s.length;l++){const c=s[l];a&&(c.oldValue=a[l].value);let f=c.dir[r];f&&(qn(),on(f,n,8,[t.el,c,t,e]),Vn())}}const wh=Symbol("_vte"),qu=t=>t.__isTeleport,Dn=Symbol("_leaveCb"),Qi=Symbol("_enterCb");function kh(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Os(()=>{t.isMounted=!0}),Yu(()=>{t.isUnmounting=!0}),t}const Qt=[Function,Array],Vu={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Qt,onEnter:Qt,onAfterEnter:Qt,onEnterCancelled:Qt,onBeforeLeave:Qt,onLeave:Qt,onAfterLeave:Qt,onLeaveCancelled:Qt,onBeforeAppear:Qt,onAppear:Qt,onAfterAppear:Qt,onAppearCancelled:Qt},Hu=t=>{const e=t.subTree;return e.component?Hu(e.component):e},xh={name:"BaseTransition",props:Vu,setup(t,{slots:e}){const n=wd(),r=kh();return()=>{const s=e.default&&Ju(e.default(),!0);if(!s||!s.length)return;const a=zu(s),l=We(t),{mode:c}=l;if(r.isLeaving)return ko(a);const f=ml(a);if(!f)return ko(a);let y=Bo(f,l,r,n,O=>y=O);f.type!==Bt&&hi(f,y);const p=n.subTree,v=p&&ml(p);if(v&&v.type!==Bt&&!sr(f,v)&&Hu(n).type!==Bt){const O=Bo(v,l,r,n);if(hi(v,O),c==="out-in"&&f.type!==Bt)return r.isLeaving=!0,O.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete O.afterLeave},ko(a);c==="in-out"&&f.type!==Bt&&(O.delayLeave=(q,te,X)=>{const ge=Wu(r,v);ge[String(v.key)]=v,q[Dn]=()=>{te(),q[Dn]=void 0,delete y.delayedLeave},y.delayedLeave=X})}return a}}};function zu(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Bt){e=n;break}}return e}const Eh=xh;function Wu(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Bo(t,e,n,r,s){const{appear:a,mode:l,persisted:c=!1,onBeforeEnter:f,onEnter:y,onAfterEnter:p,onEnterCancelled:v,onBeforeLeave:O,onLeave:q,onAfterLeave:te,onLeaveCancelled:X,onBeforeAppear:ge,onAppear:ve,onAfterAppear:Ce,onAppearCancelled:Te}=e,de=String(t.key),Se=Wu(n,t),Ue=(x,N)=>{x&&on(x,r,9,N)},_e=(x,N)=>{const ee=N[1];Ue(x,N),ke(x)?x.every(K=>K.length<=1)&&ee():x.length<=1&&ee()},I={mode:l,persisted:c,beforeEnter(x){let N=f;if(!n.isMounted)if(a)N=ge||f;else return;x[Dn]&&x[Dn](!0);const ee=Se[de];ee&&sr(t,ee)&&ee.el[Dn]&&ee.el[Dn](),Ue(N,[x])},enter(x){let N=y,ee=p,K=v;if(!n.isMounted)if(a)N=ve||y,ee=Ce||p,K=Te||v;else return;let le=!1;const we=x[Qi]=Ye=>{le||(le=!0,Ye?Ue(K,[x]):Ue(ee,[x]),I.delayedLeave&&I.delayedLeave(),x[Qi]=void 0)};N?_e(N,[x,we]):we()},leave(x,N){const ee=String(t.key);if(x[Qi]&&x[Qi](!0),n.isUnmounting)return N();Ue(O,[x]);let K=!1;const le=x[Dn]=we=>{K||(K=!0,N(),we?Ue(X,[x]):Ue(te,[x]),x[Dn]=void 0,Se[ee]===t&&delete Se[ee])};Se[ee]=t,q?_e(q,[x,le]):le()},clone(x){const N=Bo(x,e,n,r,s);return s&&s(N),N}};return I}function ko(t){if(Es(t))return t=Bn(t),t.children=null,t}function ml(t){if(!Es(t))return qu(t.type)&&t.children?zu(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Ae(n.default))return n.default()}}function hi(t,e){t.shapeFlag&6&&t.component?(t.transition=e,hi(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ju(t,e=!1,n){let r=[],s=0;for(let a=0;a<t.length;a++){let l=t[a];const c=n==null?l.key:String(n)+String(l.key!=null?l.key:a);l.type===Mt?(l.patchFlag&128&&s++,r=r.concat(Ju(l.children,e,c))):(e||l.type!==Bt)&&r.push(c!=null?Bn(l,{key:c}):l)}if(s>1)for(let a=0;a<r.length;a++)r[a].patchFlag=-2;return r}function Gu(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Ko(t,e,n,r,s=!1){if(ke(t)){t.forEach((te,X)=>Ko(te,e&&(ke(e)?e[X]:e),n,r,s));return}if(ni(r)&&!s)return;const a=r.shapeFlag&4?As(r.component):r.el,l=s?null:a,{i:c,r:f}=t,y=e&&e.r,p=c.refs===it?c.refs={}:c.refs,v=c.setupState,O=We(v),q=v===it?()=>!1:te=>Ge(O,te);if(y!=null&&y!==f&&(_t(y)?(p[y]=null,q(y)&&(v[y]=null)):At(y)&&(y.value=null)),Ae(f))mi(f,c,12,[l,p]);else{const te=_t(f),X=At(f);if(te||X){const ge=()=>{if(t.f){const ve=te?q(f)?v[f]:p[f]:f.value;s?ke(ve)&&aa(ve,a):ke(ve)?ve.includes(a)||ve.push(a):te?(p[f]=[a],q(f)&&(v[f]=p[f])):(f.value=[a],t.k&&(p[t.k]=f.value))}else te?(p[f]=l,q(f)&&(v[f]=l)):X&&(f.value=l,t.k&&(p[t.k]=l))};l?(ge.id=-1,Ht(ge,n)):ge()}}}const ni=t=>!!t.type.__asyncLoader,Es=t=>t.type.__isKeepAlive;function Sh(t,e){Qu(t,"a",e)}function Oh(t,e){Qu(t,"da",e)}function Qu(t,e,n=St){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Ss(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Es(s.parent.vnode)&&Ch(r,e,n,s),s=s.parent}}function Ch(t,e,n,r){const s=Ss(e,t,r,!0);Xu(()=>{aa(r[e],s)},n)}function Ss(t,e,n=St,r=!1){if(n){const s=n[t]||(n[t]=[]),a=e.__weh||(e.__weh=(...l)=>{qn();const c=vi(n),f=on(e,n,t,l);return c(),Vn(),f});return r?s.unshift(a):s.push(a),a}}const wn=t=>(e,n=St)=>{(!Ps||t==="sp")&&Ss(t,(...r)=>e(...r),n)},Th=wn("bm"),Os=wn("m"),Ph=wn("bu"),Ah=wn("u"),Yu=wn("bum"),Xu=wn("um"),jh=wn("sp"),Rh=wn("rtg"),Ih=wn("rtc");function Dh(t,e=St){Ss("ec",t,e)}const $h="components";function Xr(t,e){return Mh($h,t,!0,e)||t}const Lh=Symbol.for("v-ndc");function Mh(t,e,n=!0,r=!1){const s=Kt||St;if(s){const a=s.type;{const c=Od(a,!1);if(c&&(c===e||c===Zt(e)||c===_s(Zt(e))))return a}const l=vl(s[t]||a[t],e)||vl(s.appContext[t],e);return!l&&r?a:l}}function vl(t,e){return t&&(t[e]||t[Zt(e)]||t[_s(Zt(e))])}function ls(t,e,n,r){let s;const a=n,l=ke(t);if(l||_t(t)){const c=l&&Pr(t);let f=!1;c&&(f=!Xt(t),t=ws(t)),s=new Array(t.length);for(let y=0,p=t.length;y<p;y++)s[y]=e(f?Pt(t[y]):t[y],y,void 0,a)}else if(typeof t=="number"){s=new Array(t);for(let c=0;c<t;c++)s[c]=e(c+1,c,void 0,a)}else if(st(t))if(t[Symbol.iterator])s=Array.from(t,(c,f)=>e(c,f,void 0,a));else{const c=Object.keys(t);s=new Array(c.length);for(let f=0,y=c.length;f<y;f++){const p=c[f];s[f]=e(t[p],p,f,a)}}else s=[];return s}const qo=t=>t?vc(t)?As(t):qo(t.parent):null,ri=Et(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>qo(t.parent),$root:t=>qo(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>xa(t),$forceUpdate:t=>t.f||(t.f=()=>{ka(t.update)}),$nextTick:t=>t.n||(t.n=vh.bind(t.proxy)),$watch:t=>sd.bind(t)}),xo=(t,e)=>t!==it&&!t.__isScriptSetup&&Ge(t,e),Fh={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:a,accessCache:l,type:c,appContext:f}=t;let y;if(e[0]!=="$"){const q=l[e];if(q!==void 0)switch(q){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return a[e]}else{if(xo(r,e))return l[e]=1,r[e];if(s!==it&&Ge(s,e))return l[e]=2,s[e];if((y=t.propsOptions[0])&&Ge(y,e))return l[e]=3,a[e];if(n!==it&&Ge(n,e))return l[e]=4,n[e];Vo&&(l[e]=0)}}const p=ri[e];let v,O;if(p)return e==="$attrs"&&jt(t.attrs,"get",""),p(t);if((v=c.__cssModules)&&(v=v[e]))return v;if(n!==it&&Ge(n,e))return l[e]=4,n[e];if(O=f.config.globalProperties,Ge(O,e))return O[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:a}=t;return xo(s,e)?(s[e]=n,!0):r!==it&&Ge(r,e)?(r[e]=n,!0):Ge(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(a[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:a}},l){let c;return!!n[l]||t!==it&&Ge(t,l)||xo(e,l)||(c=a[0])&&Ge(c,l)||Ge(r,l)||Ge(ri,l)||Ge(s.config.globalProperties,l)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ge(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function _l(t){return ke(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Vo=!0;function Uh(t){const e=xa(t),n=t.proxy,r=t.ctx;Vo=!1,e.beforeCreate&&bl(e.beforeCreate,t,"bc");const{data:s,computed:a,methods:l,watch:c,provide:f,inject:y,created:p,beforeMount:v,mounted:O,beforeUpdate:q,updated:te,activated:X,deactivated:ge,beforeDestroy:ve,beforeUnmount:Ce,destroyed:Te,unmounted:de,render:Se,renderTracked:Ue,renderTriggered:_e,errorCaptured:I,serverPrefetch:x,expose:N,inheritAttrs:ee,components:K,directives:le,filters:we}=e;if(y&&Nh(y,r,null),l)for(const ie in l){const be=l[ie];Ae(be)&&(r[ie]=be.bind(n))}if(s){const ie=s.call(n,n);st(ie)&&(t.data=ma(ie))}if(Vo=!0,a)for(const ie in a){const be=a[ie],ye=Ae(be)?be.bind(n,n):Ae(be.get)?be.get.bind(n,n):hn,ot=!Ae(be)&&Ae(be.set)?be.set.bind(n):hn,et=Td({get:ye,set:ot});Object.defineProperty(r,ie,{enumerable:!0,configurable:!0,get:()=>et.value,set:fe=>et.value=fe})}if(c)for(const ie in c)Zu(c[ie],r,n,ie);if(f){const ie=Ae(f)?f.call(n):f;Reflect.ownKeys(ie).forEach(be=>{zh(be,ie[be])})}p&&bl(p,t,"c");function Oe(ie,be){ke(be)?be.forEach(ye=>ie(ye.bind(n))):be&&ie(be.bind(n))}if(Oe(Th,v),Oe(Os,O),Oe(Ph,q),Oe(Ah,te),Oe(Sh,X),Oe(Oh,ge),Oe(Dh,I),Oe(Ih,Ue),Oe(Rh,_e),Oe(Yu,Ce),Oe(Xu,de),Oe(jh,x),ke(N))if(N.length){const ie=t.exposed||(t.exposed={});N.forEach(be=>{Object.defineProperty(ie,be,{get:()=>n[be],set:ye=>n[be]=ye})})}else t.exposed||(t.exposed={});Se&&t.render===hn&&(t.render=Se),ee!=null&&(t.inheritAttrs=ee),K&&(t.components=K),le&&(t.directives=le),x&&Gu(t)}function Nh(t,e,n=hn){ke(t)&&(t=Ho(t));for(const r in t){const s=t[r];let a;st(s)?"default"in s?a=ns(s.from||r,s.default,!0):a=ns(s.from||r):a=ns(s),At(a)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):e[r]=a}}function bl(t,e,n){on(ke(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Zu(t,e,n,r){let s=r.includes(".")?dc(n,r):()=>n[r];if(_t(t)){const a=e[t];Ae(a)&&So(s,a)}else if(Ae(t))So(s,t.bind(n));else if(st(t))if(ke(t))t.forEach(a=>Zu(a,e,n,r));else{const a=Ae(t.handler)?t.handler.bind(n):e[t.handler];Ae(a)&&So(s,a,t)}}function xa(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:a,config:{optionMergeStrategies:l}}=t.appContext,c=a.get(e);let f;return c?f=c:!s.length&&!n&&!r?f=e:(f={},s.length&&s.forEach(y=>us(f,y,l,!0)),us(f,e,l)),st(e)&&a.set(e,f),f}function us(t,e,n,r=!1){const{mixins:s,extends:a}=e;a&&us(t,a,n,!0),s&&s.forEach(l=>us(t,l,n,!0));for(const l in e)if(!(r&&l==="expose")){const c=Bh[l]||n&&n[l];t[l]=c?c(t[l],e[l]):e[l]}return t}const Bh={data:wl,props:kl,emits:kl,methods:Zr,computed:Zr,beforeCreate:Dt,created:Dt,beforeMount:Dt,mounted:Dt,beforeUpdate:Dt,updated:Dt,beforeDestroy:Dt,beforeUnmount:Dt,destroyed:Dt,unmounted:Dt,activated:Dt,deactivated:Dt,errorCaptured:Dt,serverPrefetch:Dt,components:Zr,directives:Zr,watch:qh,provide:wl,inject:Kh};function wl(t,e){return e?t?function(){return Et(Ae(t)?t.call(this,this):t,Ae(e)?e.call(this,this):e)}:e:t}function Kh(t,e){return Zr(Ho(t),Ho(e))}function Ho(t){if(ke(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Dt(t,e){return t?[...new Set([].concat(t,e))]:e}function Zr(t,e){return t?Et(Object.create(null),t,e):e}function kl(t,e){return t?ke(t)&&ke(e)?[...new Set([...t,...e])]:Et(Object.create(null),_l(t),_l(e??{})):e}function qh(t,e){if(!t)return e;if(!e)return t;const n=Et(Object.create(null),t);for(const r in e)n[r]=Dt(t[r],e[r]);return n}function ec(){return{app:null,config:{isNativeTag:Sf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Vh=0;function Hh(t,e){return function(r,s=null){Ae(r)||(r=Et({},r)),s!=null&&!st(s)&&(s=null);const a=ec(),l=new WeakSet,c=[];let f=!1;const y=a.app={_uid:Vh++,_component:r,_props:s,_container:null,_context:a,_instance:null,version:Ad,get config(){return a.config},set config(p){},use(p,...v){return l.has(p)||(p&&Ae(p.install)?(l.add(p),p.install(y,...v)):Ae(p)&&(l.add(p),p(y,...v))),y},mixin(p){return a.mixins.includes(p)||a.mixins.push(p),y},component(p,v){return v?(a.components[p]=v,y):a.components[p]},directive(p,v){return v?(a.directives[p]=v,y):a.directives[p]},mount(p,v,O){if(!f){const q=y._ceVNode||ut(r,s);return q.appContext=a,O===!0?O="svg":O===!1&&(O=void 0),v&&e?e(q,p):t(q,p,O),f=!0,y._container=p,p.__vue_app__=y,As(q.component)}},onUnmount(p){c.push(p)},unmount(){f&&(on(c,y._instance,16),t(null,y._container),delete y._container.__vue_app__)},provide(p,v){return a.provides[p]=v,y},runWithContext(p){const v=jr;jr=y;try{return p()}finally{jr=v}}};return y}}let jr=null;function zh(t,e){if(St){let n=St.provides;const r=St.parent&&St.parent.provides;r===n&&(n=St.provides=Object.create(r)),n[t]=e}}function ns(t,e,n=!1){const r=St||Kt;if(r||jr){const s=jr?jr._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Ae(e)?e.call(r&&r.proxy):e}}const tc={},nc=()=>Object.create(tc),rc=t=>Object.getPrototypeOf(t)===tc;function Wh(t,e,n,r=!1){const s={},a=nc();t.propsDefaults=Object.create(null),ic(t,e,s,a);for(const l in t.propsOptions[0])l in s||(s[l]=void 0);n?t.props=r?s:ah(s):t.type.props?t.props=s:t.props=a,t.attrs=a}function Jh(t,e,n,r){const{props:s,attrs:a,vnode:{patchFlag:l}}=t,c=We(s),[f]=t.propsOptions;let y=!1;if((r||l>0)&&!(l&16)){if(l&8){const p=t.vnode.dynamicProps;for(let v=0;v<p.length;v++){let O=p[v];if(Cs(t.emitsOptions,O))continue;const q=e[O];if(f)if(Ge(a,O))q!==a[O]&&(a[O]=q,y=!0);else{const te=Zt(O);s[te]=zo(f,c,te,q,t,!1)}else q!==a[O]&&(a[O]=q,y=!0)}}}else{ic(t,e,s,a)&&(y=!0);let p;for(const v in c)(!e||!Ge(e,v)&&((p=Kn(v))===v||!Ge(e,p)))&&(f?n&&(n[v]!==void 0||n[p]!==void 0)&&(s[v]=zo(f,c,v,void 0,t,!0)):delete s[v]);if(a!==c)for(const v in a)(!e||!Ge(e,v))&&(delete a[v],y=!0)}y&&bn(t.attrs,"set","")}function ic(t,e,n,r){const[s,a]=t.propsOptions;let l=!1,c;if(e)for(let f in e){if(ti(f))continue;const y=e[f];let p;s&&Ge(s,p=Zt(f))?!a||!a.includes(p)?n[p]=y:(c||(c={}))[p]=y:Cs(t.emitsOptions,f)||(!(f in r)||y!==r[f])&&(r[f]=y,l=!0)}if(a){const f=We(n),y=c||it;for(let p=0;p<a.length;p++){const v=a[p];n[v]=zo(s,f,v,y[v],t,!Ge(y,v))}}return l}function zo(t,e,n,r,s,a){const l=t[n];if(l!=null){const c=Ge(l,"default");if(c&&r===void 0){const f=l.default;if(l.type!==Function&&!l.skipFactory&&Ae(f)){const{propsDefaults:y}=s;if(n in y)r=y[n];else{const p=vi(s);r=y[n]=f.call(null,e),p()}}else r=f;s.ce&&s.ce._setProp(n,r)}l[0]&&(a&&!c?r=!1:l[1]&&(r===""||r===Kn(n))&&(r=!0))}return r}const Gh=new WeakMap;function sc(t,e,n=!1){const r=n?Gh:e.propsCache,s=r.get(t);if(s)return s;const a=t.props,l={},c=[];let f=!1;if(!Ae(t)){const p=v=>{f=!0;const[O,q]=sc(v,e,!0);Et(l,O),q&&c.push(...q)};!n&&e.mixins.length&&e.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}if(!a&&!f)return st(t)&&r.set(t,Cr),Cr;if(ke(a))for(let p=0;p<a.length;p++){const v=Zt(a[p]);xl(v)&&(l[v]=it)}else if(a)for(const p in a){const v=Zt(p);if(xl(v)){const O=a[p],q=l[v]=ke(O)||Ae(O)?{type:O}:Et({},O),te=q.type;let X=!1,ge=!0;if(ke(te))for(let ve=0;ve<te.length;++ve){const Ce=te[ve],Te=Ae(Ce)&&Ce.name;if(Te==="Boolean"){X=!0;break}else Te==="String"&&(ge=!1)}else X=Ae(te)&&te.name==="Boolean";q[0]=X,q[1]=ge,(X||Ge(q,"default"))&&c.push(v)}}const y=[l,c];return st(t)&&r.set(t,y),y}function xl(t){return t[0]!=="$"&&!ti(t)}const oc=t=>t[0]==="_"||t==="$stable",Ea=t=>ke(t)?t.map(fn):[fn(t)],Qh=(t,e,n)=>{if(e._n)return e;const r=Ku((...s)=>Ea(e(...s)),n);return r._c=!1,r},ac=(t,e,n)=>{const r=t._ctx;for(const s in t){if(oc(s))continue;const a=t[s];if(Ae(a))e[s]=Qh(s,a,r);else if(a!=null){const l=Ea(a);e[s]=()=>l}}},lc=(t,e)=>{const n=Ea(e);t.slots.default=()=>n},uc=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},Yh=(t,e,n)=>{const r=t.slots=nc();if(t.vnode.shapeFlag&32){const s=e._;s?(uc(r,e,n),n&&gu(r,"_",s,!0)):ac(e,r)}else e&&lc(t,e)},Xh=(t,e,n)=>{const{vnode:r,slots:s}=t;let a=!0,l=it;if(r.shapeFlag&32){const c=e._;c?n&&c===1?a=!1:uc(s,e,n):(a=!e.$stable,ac(e,s)),l=e}else e&&(lc(t,e),l={default:1});if(a)for(const c in s)!oc(c)&&l[c]==null&&delete s[c]},Ht=hd;function Zh(t){return ed(t)}function ed(t,e){const n=yu();n.__VUE__=!0;const{insert:r,remove:s,patchProp:a,createElement:l,createText:c,createComment:f,setText:y,setElementText:p,parentNode:v,nextSibling:O,setScopeId:q=hn,insertStaticContent:te}=t,X=(_,k,D,F=null,V=null,H=null,ne=void 0,G=null,W=!!k.dynamicChildren)=>{if(_===k)return;_&&!sr(_,k)&&(F=tt(_),fe(_,V,H,!0),_=null),k.patchFlag===-2&&(W=!1,k.dynamicChildren=null);const{type:B,ref:ce,shapeFlag:se}=k;switch(B){case Ts:ge(_,k,D,F);break;case Bt:ve(_,k,D,F);break;case rs:_==null&&Ce(k,D,F,ne);break;case Mt:K(_,k,D,F,V,H,ne,G,W);break;default:se&1?Se(_,k,D,F,V,H,ne,G,W):se&6?le(_,k,D,F,V,H,ne,G,W):(se&64||se&128)&&B.process(_,k,D,F,V,H,ne,G,W,Me)}ce!=null&&V&&Ko(ce,_&&_.ref,H,k||_,!k)},ge=(_,k,D,F)=>{if(_==null)r(k.el=c(k.children),D,F);else{const V=k.el=_.el;k.children!==_.children&&y(V,k.children)}},ve=(_,k,D,F)=>{_==null?r(k.el=f(k.children||""),D,F):k.el=_.el},Ce=(_,k,D,F)=>{[_.el,_.anchor]=te(_.children,k,D,F,_.el,_.anchor)},Te=({el:_,anchor:k},D,F)=>{let V;for(;_&&_!==k;)V=O(_),r(_,D,F),_=V;r(k,D,F)},de=({el:_,anchor:k})=>{let D;for(;_&&_!==k;)D=O(_),s(_),_=D;s(k)},Se=(_,k,D,F,V,H,ne,G,W)=>{k.type==="svg"?ne="svg":k.type==="math"&&(ne="mathml"),_==null?Ue(k,D,F,V,H,ne,G,W):x(_,k,V,H,ne,G,W)},Ue=(_,k,D,F,V,H,ne,G)=>{let W,B;const{props:ce,shapeFlag:se,transition:Z,dirs:me}=_;if(W=_.el=l(_.type,H,ce&&ce.is,ce),se&8?p(W,_.children):se&16&&I(_.children,W,null,F,V,Eo(_,H),ne,G),me&&Xn(_,null,F,"created"),_e(W,_,_.scopeId,ne,F),ce){for(const Ie in ce)Ie!=="value"&&!ti(Ie)&&a(W,Ie,null,ce[Ie],H,F);"value"in ce&&a(W,"value",null,ce.value,H),(B=ce.onVnodeBeforeMount)&&un(B,F,_)}me&&Xn(_,null,F,"beforeMount");const Ee=td(V,Z);Ee&&Z.beforeEnter(W),r(W,k,D),((B=ce&&ce.onVnodeMounted)||Ee||me)&&Ht(()=>{B&&un(B,F,_),Ee&&Z.enter(W),me&&Xn(_,null,F,"mounted")},V)},_e=(_,k,D,F,V)=>{if(D&&q(_,D),F)for(let H=0;H<F.length;H++)q(_,F[H]);if(V){let H=V.subTree;if(k===H||gc(H.type)&&(H.ssContent===k||H.ssFallback===k)){const ne=V.vnode;_e(_,ne,ne.scopeId,ne.slotScopeIds,V.parent)}}},I=(_,k,D,F,V,H,ne,G,W=0)=>{for(let B=W;B<_.length;B++){const ce=_[B]=G?$n(_[B]):fn(_[B]);X(null,ce,k,D,F,V,H,ne,G)}},x=(_,k,D,F,V,H,ne)=>{const G=k.el=_.el;let{patchFlag:W,dynamicChildren:B,dirs:ce}=k;W|=_.patchFlag&16;const se=_.props||it,Z=k.props||it;let me;if(D&&Zn(D,!1),(me=Z.onVnodeBeforeUpdate)&&un(me,D,k,_),ce&&Xn(k,_,D,"beforeUpdate"),D&&Zn(D,!0),(se.innerHTML&&Z.innerHTML==null||se.textContent&&Z.textContent==null)&&p(G,""),B?N(_.dynamicChildren,B,G,D,F,Eo(k,V),H):ne||be(_,k,G,null,D,F,Eo(k,V),H,!1),W>0){if(W&16)ee(G,se,Z,D,V);else if(W&2&&se.class!==Z.class&&a(G,"class",null,Z.class,V),W&4&&a(G,"style",se.style,Z.style,V),W&8){const Ee=k.dynamicProps;for(let Ie=0;Ie<Ee.length;Ie++){const je=Ee[Ie],nt=se[je],qe=Z[je];(qe!==nt||je==="value")&&a(G,je,nt,qe,V,D)}}W&1&&_.children!==k.children&&p(G,k.children)}else!ne&&B==null&&ee(G,se,Z,D,V);((me=Z.onVnodeUpdated)||ce)&&Ht(()=>{me&&un(me,D,k,_),ce&&Xn(k,_,D,"updated")},F)},N=(_,k,D,F,V,H,ne)=>{for(let G=0;G<k.length;G++){const W=_[G],B=k[G],ce=W.el&&(W.type===Mt||!sr(W,B)||W.shapeFlag&70)?v(W.el):D;X(W,B,ce,null,F,V,H,ne,!0)}},ee=(_,k,D,F,V)=>{if(k!==D){if(k!==it)for(const H in k)!ti(H)&&!(H in D)&&a(_,H,k[H],null,V,F);for(const H in D){if(ti(H))continue;const ne=D[H],G=k[H];ne!==G&&H!=="value"&&a(_,H,G,ne,V,F)}"value"in D&&a(_,"value",k.value,D.value,V)}},K=(_,k,D,F,V,H,ne,G,W)=>{const B=k.el=_?_.el:c(""),ce=k.anchor=_?_.anchor:c("");let{patchFlag:se,dynamicChildren:Z,slotScopeIds:me}=k;me&&(G=G?G.concat(me):me),_==null?(r(B,D,F),r(ce,D,F),I(k.children||[],D,ce,V,H,ne,G,W)):se>0&&se&64&&Z&&_.dynamicChildren?(N(_.dynamicChildren,Z,D,V,H,ne,G),(k.key!=null||V&&k===V.subTree)&&cc(_,k,!0)):be(_,k,D,ce,V,H,ne,G,W)},le=(_,k,D,F,V,H,ne,G,W)=>{k.slotScopeIds=G,_==null?k.shapeFlag&512?V.ctx.activate(k,D,F,ne,W):we(k,D,F,V,H,ne,W):Ye(_,k,W)},we=(_,k,D,F,V,H,ne)=>{const G=_.component=bd(_,F,V);if(Es(_)&&(G.ctx.renderer=Me),kd(G,!1,ne),G.asyncDep){if(V&&V.registerDep(G,Oe,ne),!_.el){const W=G.subTree=ut(Bt);ve(null,W,k,D)}}else Oe(G,_,k,D,V,H,ne)},Ye=(_,k,D)=>{const F=k.component=_.component;if(cd(_,k,D))if(F.asyncDep&&!F.asyncResolved){ie(F,k,D);return}else F.next=k,F.update();else k.el=_.el,F.vnode=k},Oe=(_,k,D,F,V,H,ne)=>{const G=()=>{if(_.isMounted){let{next:se,bu:Z,u:me,parent:Ee,vnode:Ie}=_;{const pt=fc(_);if(pt){se&&(se.el=Ie.el,ie(_,se,ne)),pt.asyncDep.then(()=>{_.isUnmounted||G()});return}}let je=se,nt;Zn(_,!1),se?(se.el=Ie.el,ie(_,se,ne)):se=Ie,Z&&ts(Z),(nt=se.props&&se.props.onVnodeBeforeUpdate)&&un(nt,Ee,se,Ie),Zn(_,!0);const qe=Oo(_),Ze=_.subTree;_.subTree=qe,X(Ze,qe,v(Ze.el),tt(Ze),_,V,H),se.el=qe.el,je===null&&fd(_,qe.el),me&&Ht(me,V),(nt=se.props&&se.props.onVnodeUpdated)&&Ht(()=>un(nt,Ee,se,Ie),V)}else{let se;const{el:Z,props:me}=k,{bm:Ee,m:Ie,parent:je,root:nt,type:qe}=_,Ze=ni(k);if(Zn(_,!1),Ee&&ts(Ee),!Ze&&(se=me&&me.onVnodeBeforeMount)&&un(se,je,k),Zn(_,!0),Z&&xe){const pt=()=>{_.subTree=Oo(_),xe(Z,_.subTree,_,V,null)};Ze&&qe.__asyncHydrate?qe.__asyncHydrate(Z,_,pt):pt()}else{nt.ce&&nt.ce._injectChildStyle(qe);const pt=_.subTree=Oo(_);X(null,pt,D,F,_,V,H),k.el=pt.el}if(Ie&&Ht(Ie,V),!Ze&&(se=me&&me.onVnodeMounted)){const pt=k;Ht(()=>un(se,je,pt),V)}(k.shapeFlag&256||je&&ni(je.vnode)&&je.vnode.shapeFlag&256)&&_.a&&Ht(_.a,V),_.isMounted=!0,k=D=F=null}};_.scope.on();const W=_.effect=new wu(G);_.scope.off();const B=_.update=W.run.bind(W),ce=_.job=W.runIfDirty.bind(W);ce.i=_,ce.id=_.uid,W.scheduler=()=>ka(ce),Zn(_,!0),B()},ie=(_,k,D)=>{k.component=_;const F=_.vnode.props;_.vnode=k,_.next=null,Jh(_,k.props,F,D),Xh(_,k.children,D),qn(),yl(_),Vn()},be=(_,k,D,F,V,H,ne,G,W=!1)=>{const B=_&&_.children,ce=_?_.shapeFlag:0,se=k.children,{patchFlag:Z,shapeFlag:me}=k;if(Z>0){if(Z&128){ot(B,se,D,F,V,H,ne,G,W);return}else if(Z&256){ye(B,se,D,F,V,H,ne,G,W);return}}me&8?(ce&16&&Je(B,V,H),se!==B&&p(D,se)):ce&16?me&16?ot(B,se,D,F,V,H,ne,G,W):Je(B,V,H,!0):(ce&8&&p(D,""),me&16&&I(se,D,F,V,H,ne,G,W))},ye=(_,k,D,F,V,H,ne,G,W)=>{_=_||Cr,k=k||Cr;const B=_.length,ce=k.length,se=Math.min(B,ce);let Z;for(Z=0;Z<se;Z++){const me=k[Z]=W?$n(k[Z]):fn(k[Z]);X(_[Z],me,D,null,V,H,ne,G,W)}B>ce?Je(_,V,H,!0,!1,se):I(k,D,F,V,H,ne,G,W,se)},ot=(_,k,D,F,V,H,ne,G,W)=>{let B=0;const ce=k.length;let se=_.length-1,Z=ce-1;for(;B<=se&&B<=Z;){const me=_[B],Ee=k[B]=W?$n(k[B]):fn(k[B]);if(sr(me,Ee))X(me,Ee,D,null,V,H,ne,G,W);else break;B++}for(;B<=se&&B<=Z;){const me=_[se],Ee=k[Z]=W?$n(k[Z]):fn(k[Z]);if(sr(me,Ee))X(me,Ee,D,null,V,H,ne,G,W);else break;se--,Z--}if(B>se){if(B<=Z){const me=Z+1,Ee=me<ce?k[me].el:F;for(;B<=Z;)X(null,k[B]=W?$n(k[B]):fn(k[B]),D,Ee,V,H,ne,G,W),B++}}else if(B>Z)for(;B<=se;)fe(_[B],V,H,!0),B++;else{const me=B,Ee=B,Ie=new Map;for(B=Ee;B<=Z;B++){const dt=k[B]=W?$n(k[B]):fn(k[B]);dt.key!=null&&Ie.set(dt.key,B)}let je,nt=0;const qe=Z-Ee+1;let Ze=!1,pt=0;const rt=new Array(qe);for(B=0;B<qe;B++)rt[B]=0;for(B=me;B<=se;B++){const dt=_[B];if(nt>=qe){fe(dt,V,H,!0);continue}let bt;if(dt.key!=null)bt=Ie.get(dt.key);else for(je=Ee;je<=Z;je++)if(rt[je-Ee]===0&&sr(dt,k[je])){bt=je;break}bt===void 0?fe(dt,V,H,!0):(rt[bt-Ee]=B+1,bt>=pt?pt=bt:Ze=!0,X(dt,k[bt],D,null,V,H,ne,G,W),nt++)}const pe=Ze?nd(rt):Cr;for(je=pe.length-1,B=qe-1;B>=0;B--){const dt=Ee+B,bt=k[dt],Hn=dt+1<ce?k[dt+1].el:F;rt[B]===0?X(null,bt,D,Hn,V,H,ne,G,W):Ze&&(je<0||B!==pe[je]?et(bt,D,Hn,2):je--)}}},et=(_,k,D,F,V=null)=>{const{el:H,type:ne,transition:G,children:W,shapeFlag:B}=_;if(B&6){et(_.component.subTree,k,D,F);return}if(B&128){_.suspense.move(k,D,F);return}if(B&64){ne.move(_,k,D,Me);return}if(ne===Mt){r(H,k,D);for(let se=0;se<W.length;se++)et(W[se],k,D,F);r(_.anchor,k,D);return}if(ne===rs){Te(_,k,D);return}if(F!==2&&B&1&&G)if(F===0)G.beforeEnter(H),r(H,k,D),Ht(()=>G.enter(H),V);else{const{leave:se,delayLeave:Z,afterLeave:me}=G,Ee=()=>r(H,k,D),Ie=()=>{se(H,()=>{Ee(),me&&me()})};Z?Z(H,Ee,Ie):Ie()}else r(H,k,D)},fe=(_,k,D,F=!1,V=!1)=>{const{type:H,props:ne,ref:G,children:W,dynamicChildren:B,shapeFlag:ce,patchFlag:se,dirs:Z,cacheIndex:me}=_;if(se===-2&&(V=!1),G!=null&&Ko(G,null,D,_,!0),me!=null&&(k.renderCache[me]=void 0),ce&256){k.ctx.deactivate(_);return}const Ee=ce&1&&Z,Ie=!ni(_);let je;if(Ie&&(je=ne&&ne.onVnodeBeforeUnmount)&&un(je,k,_),ce&6)Xe(_.component,D,F);else{if(ce&128){_.suspense.unmount(D,F);return}Ee&&Xn(_,null,k,"beforeUnmount"),ce&64?_.type.remove(_,k,D,Me,F):B&&!B.hasOnce&&(H!==Mt||se>0&&se&64)?Je(B,k,D,!1,!0):(H===Mt&&se&384||!V&&ce&16)&&Je(W,k,D),F&&Ke(_)}(Ie&&(je=ne&&ne.onVnodeUnmounted)||Ee)&&Ht(()=>{je&&un(je,k,_),Ee&&Xn(_,null,k,"unmounted")},D)},Ke=_=>{const{type:k,el:D,anchor:F,transition:V}=_;if(k===Mt){gt(D,F);return}if(k===rs){de(_);return}const H=()=>{s(D),V&&!V.persisted&&V.afterLeave&&V.afterLeave()};if(_.shapeFlag&1&&V&&!V.persisted){const{leave:ne,delayLeave:G}=V,W=()=>ne(D,H);G?G(_.el,H,W):W()}else H()},gt=(_,k)=>{let D;for(;_!==k;)D=O(_),s(_),_=D;s(k)},Xe=(_,k,D)=>{const{bum:F,scope:V,job:H,subTree:ne,um:G,m:W,a:B}=_;El(W),El(B),F&&ts(F),V.stop(),H&&(H.flags|=8,fe(ne,_,k,D)),G&&Ht(G,k),Ht(()=>{_.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},Je=(_,k,D,F=!1,V=!1,H=0)=>{for(let ne=H;ne<_.length;ne++)fe(_[ne],k,D,F,V)},tt=_=>{if(_.shapeFlag&6)return tt(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const k=O(_.anchor||_.el),D=k&&k[wh];return D?O(D):k};let ft=!1;const z=(_,k,D)=>{_==null?k._vnode&&fe(k._vnode,null,null,!0):X(k._vnode||null,_,k,null,null,null,D),k._vnode=_,ft||(ft=!0,yl(),Uu(),ft=!1)},Me={p:X,um:fe,m:et,r:Ke,mt:we,mc:I,pc:be,pbc:N,n:tt,o:t};let ze,xe;return{render:z,hydrate:ze,createApp:Hh(z,ze)}}function Eo({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Zn({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function td(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function cc(t,e,n=!1){const r=t.children,s=e.children;if(ke(r)&&ke(s))for(let a=0;a<r.length;a++){const l=r[a];let c=s[a];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[a]=$n(s[a]),c.el=l.el),!n&&c.patchFlag!==-2&&cc(l,c)),c.type===Ts&&(c.el=l.el)}}function nd(t){const e=t.slice(),n=[0];let r,s,a,l,c;const f=t.length;for(r=0;r<f;r++){const y=t[r];if(y!==0){if(s=n[n.length-1],t[s]<y){e[r]=s,n.push(r);continue}for(a=0,l=n.length-1;a<l;)c=a+l>>1,t[n[c]]<y?a=c+1:l=c;y<t[n[a]]&&(a>0&&(e[r]=n[a-1]),n[a]=r)}}for(a=n.length,l=n[a-1];a-- >0;)n[a]=l,l=e[l];return n}function fc(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:fc(e)}function El(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const rd=Symbol.for("v-scx"),id=()=>ns(rd);function So(t,e,n){return hc(t,e,n)}function hc(t,e,n=it){const{immediate:r,deep:s,flush:a,once:l}=n,c=Et({},n);let f;if(Ps)if(a==="sync"){const O=id();f=O.__watcherHandles||(O.__watcherHandles=[])}else if(!e||r)c.once=!0;else{const O=()=>{};return O.stop=hn,O.resume=hn,O.pause=hn,O}const y=St;c.call=(O,q,te)=>on(O,y,q,te);let p=!1;a==="post"?c.scheduler=O=>{Ht(O,y&&y.suspense)}:a!=="sync"&&(p=!0,c.scheduler=(O,q)=>{q?O():ka(O)}),c.augmentJob=O=>{e&&(O.flags|=4),p&&(O.flags|=2,y&&(O.id=y.uid,O.i=y))};const v=yh(t,e,c);return f&&f.push(v),v}function sd(t,e,n){const r=this.proxy,s=_t(t)?t.includes(".")?dc(r,t):()=>r[t]:t.bind(r,r);let a;Ae(e)?a=e:(a=e.handler,n=e);const l=vi(this),c=hc(s,a.bind(r),n);return l(),c}function dc(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const od=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Zt(e)}Modifiers`]||t[`${Kn(e)}Modifiers`];function ad(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||it;let s=n;const a=e.startsWith("update:"),l=a&&od(r,e.slice(7));l&&(l.trim&&(s=n.map(p=>_t(p)?p.trim():p)),l.number&&(s=n.map(Lo)));let c,f=r[c=mo(e)]||r[c=mo(Zt(e))];!f&&a&&(f=r[c=mo(Kn(e))]),f&&on(f,t,6,s);const y=r[c+"Once"];if(y){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,on(y,t,6,s)}}function pc(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const a=t.emits;let l={},c=!1;if(!Ae(t)){const f=y=>{const p=pc(y,e,!0);p&&(c=!0,Et(l,p))};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}return!a&&!c?(st(t)&&r.set(t,null),null):(ke(a)?a.forEach(f=>l[f]=null):Et(l,a),st(t)&&r.set(t,l),l)}function Cs(t,e){return!t||!ys(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ge(t,e[0].toLowerCase()+e.slice(1))||Ge(t,Kn(e))||Ge(t,e))}function Oo(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[a],slots:l,attrs:c,emit:f,render:y,renderCache:p,props:v,data:O,setupState:q,ctx:te,inheritAttrs:X}=t,ge=as(t);let ve,Ce;try{if(n.shapeFlag&4){const de=s||r,Se=de;ve=fn(y.call(Se,de,p,v,q,O,te)),Ce=c}else{const de=e;ve=fn(de.length>1?de(v,{attrs:c,slots:l,emit:f}):de(v,null)),Ce=e.props?c:ld(c)}}catch(de){ii.length=0,xs(de,t,1),ve=ut(Bt)}let Te=ve;if(Ce&&X!==!1){const de=Object.keys(Ce),{shapeFlag:Se}=Te;de.length&&Se&7&&(a&&de.some(oa)&&(Ce=ud(Ce,a)),Te=Bn(Te,Ce,!1,!0))}return n.dirs&&(Te=Bn(Te,null,!1,!0),Te.dirs=Te.dirs?Te.dirs.concat(n.dirs):n.dirs),n.transition&&hi(Te,n.transition),ve=Te,as(ge),ve}const ld=t=>{let e;for(const n in t)(n==="class"||n==="style"||ys(n))&&((e||(e={}))[n]=t[n]);return e},ud=(t,e)=>{const n={};for(const r in t)(!oa(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function cd(t,e,n){const{props:r,children:s,component:a}=t,{props:l,children:c,patchFlag:f}=e,y=a.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?Sl(r,l,y):!!l;if(f&8){const p=e.dynamicProps;for(let v=0;v<p.length;v++){const O=p[v];if(l[O]!==r[O]&&!Cs(y,O))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:r===l?!1:r?l?Sl(r,l,y):!0:!!l;return!1}function Sl(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const a=r[s];if(e[a]!==t[a]&&!Cs(n,a))return!0}return!1}function fd({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const gc=t=>t.__isSuspense;function hd(t,e){e&&e.pendingBranch?ke(t)?e.effects.push(...t):e.effects.push(t):bh(t)}const Mt=Symbol.for("v-fgt"),Ts=Symbol.for("v-txt"),Bt=Symbol.for("v-cmt"),rs=Symbol.for("v-stc"),ii=[];let Jt=null;function Ne(t=!1){ii.push(Jt=t?null:[])}function dd(){ii.pop(),Jt=ii[ii.length-1]||null}let di=1;function Ol(t){di+=t,t<0&&Jt&&(Jt.hasOnce=!0)}function yc(t){return t.dynamicChildren=di>0?Jt||Cr:null,dd(),di>0&&Jt&&Jt.push(t),t}function Qe(t,e,n,r,s,a){return yc(re(t,e,n,r,s,a,!0))}function lr(t,e,n,r,s){return yc(ut(t,e,n,r,s,!0))}function cs(t){return t?t.__v_isVNode===!0:!1}function sr(t,e){return t.type===e.type&&t.key===e.key}const mc=({key:t})=>t??null,is=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?_t(t)||At(t)||Ae(t)?{i:Kt,r:t,k:e,f:!!n}:t:null);function re(t,e=null,n=null,r=0,s=null,a=t===Mt?0:1,l=!1,c=!1){const f={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&mc(e),ref:e&&is(e),scopeId:Bu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Kt};return c?(Sa(f,n),a&128&&t.normalize(f)):n&&(f.shapeFlag|=_t(n)?8:16),di>0&&!l&&Jt&&(f.patchFlag>0||a&6)&&f.patchFlag!==32&&Jt.push(f),f}const ut=pd;function pd(t,e=null,n=null,r=0,s=null,a=!1){if((!t||t===Lh)&&(t=Bt),cs(t)){const c=Bn(t,e,!0);return n&&Sa(c,n),di>0&&!a&&Jt&&(c.shapeFlag&6?Jt[Jt.indexOf(t)]=c:Jt.push(c)),c.patchFlag=-2,c}if(Cd(t)&&(t=t.__vccOpts),e){e=gd(e);let{class:c,style:f}=e;c&&!_t(c)&&(e.class=ca(c)),st(f)&&(_a(f)&&!ke(f)&&(f=Et({},f)),e.style=ua(f))}const l=_t(t)?1:gc(t)?128:qu(t)?64:st(t)?4:Ae(t)?2:0;return re(t,e,n,r,s,l,a,!0)}function gd(t){return t?_a(t)||rc(t)?Et({},t):t:null}function Bn(t,e,n=!1,r=!1){const{props:s,ref:a,patchFlag:l,children:c,transition:f}=t,y=e?md(s||{},e):s,p={__v_isVNode:!0,__v_skip:!0,type:t.type,props:y,key:y&&mc(y),ref:e&&e.ref?n&&a?ke(a)?a.concat(is(e)):[a,is(e)]:is(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Mt?l===-1?16:l|16:l,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:f,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Bn(t.ssContent),ssFallback:t.ssFallback&&Bn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return f&&r&&hi(p,f.clone(p)),p}function rn(t=" ",e=0){return ut(Ts,null,t,e)}function yd(t,e){const n=ut(rs,null,t);return n.staticCount=e,n}function vt(t="",e=!1){return e?(Ne(),lr(Bt,null,t)):ut(Bt,null,t)}function fn(t){return t==null||typeof t=="boolean"?ut(Bt):ke(t)?ut(Mt,null,t.slice()):cs(t)?$n(t):ut(Ts,null,String(t))}function $n(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Bn(t)}function Sa(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ke(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Sa(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!rc(e)?e._ctx=Kt:s===3&&Kt&&(Kt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ae(e)?(e={default:e,_ctx:Kt},n=32):(e=String(e),r&64?(n=16,e=[rn(e)]):n=8);t.children=e,t.shapeFlag|=n}function md(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=ca([e.class,r.class]));else if(s==="style")e.style=ua([e.style,r.style]);else if(ys(s)){const a=e[s],l=r[s];l&&a!==l&&!(ke(a)&&a.includes(l))&&(e[s]=a?[].concat(a,l):l)}else s!==""&&(e[s]=r[s])}return e}function un(t,e,n,r=null){on(t,e,7,[n,r])}const vd=ec();let _d=0;function bd(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||vd,a={uid:_d++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ff(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:sc(r,s),emitsOptions:pc(r,s),emit:null,emitted:null,propsDefaults:it,inheritAttrs:r.inheritAttrs,ctx:it,data:it,props:it,attrs:it,slots:it,refs:it,setupState:it,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=ad.bind(null,a),t.ce&&t.ce(a),a}let St=null;const wd=()=>St||Kt;let fs,Wo;{const t=yu(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),a=>{s.length>1?s.forEach(l=>l(a)):s[0](a)}};fs=e("__VUE_INSTANCE_SETTERS__",n=>St=n),Wo=e("__VUE_SSR_SETTERS__",n=>Ps=n)}const vi=t=>{const e=St;return fs(t),t.scope.on(),()=>{t.scope.off(),fs(e)}},Cl=()=>{St&&St.scope.off(),fs(null)};function vc(t){return t.vnode.shapeFlag&4}let Ps=!1;function kd(t,e=!1,n=!1){e&&Wo(e);const{props:r,children:s}=t.vnode,a=vc(t);Wh(t,r,a,e),Yh(t,s,n);const l=a?xd(t,e):void 0;return e&&Wo(!1),l}function xd(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Fh);const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?Sd(t):null,a=vi(t);qn();const l=mi(r,t,0,[t.props,s]);if(Vn(),a(),hu(l)){if(ni(t)||Gu(t),l.then(Cl,Cl),e)return l.then(c=>{Tl(t,c,e)}).catch(c=>{xs(c,t,0)});t.asyncDep=l}else Tl(t,l,e)}else _c(t,e)}function Tl(t,e,n){Ae(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:st(e)&&(t.setupState=Lu(e)),_c(t,n)}let Pl;function _c(t,e,n){const r=t.type;if(!t.render){if(!e&&Pl&&!r.render){const s=r.template||xa(t).template;if(s){const{isCustomElement:a,compilerOptions:l}=t.appContext.config,{delimiters:c,compilerOptions:f}=r,y=Et(Et({isCustomElement:a,delimiters:c},l),f);r.render=Pl(s,y)}}t.render=r.render||hn}{const s=vi(t);qn();try{Uh(t)}finally{Vn(),s()}}}const Ed={get(t,e){return jt(t,"get",""),t[e]}};function Sd(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Ed),slots:t.slots,emit:t.emit,expose:e}}function As(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Lu(lh(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ri)return ri[n](t)},has(e,n){return n in e||n in ri}})):t.proxy}function Od(t,e=!0){return Ae(t)?t.displayName||t.name:t.name||e&&t.__name}function Cd(t){return Ae(t)&&"__vccOpts"in t}const Td=(t,e)=>ph(t,e,Ps);function Pd(t,e,n){const r=arguments.length;return r===2?st(e)&&!ke(e)?cs(e)?ut(t,null,[e]):ut(t,e):ut(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&cs(n)&&(n=[n]),ut(t,e,n))}const Ad="3.5.10";/**
* @vue/runtime-dom v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Jo;const Al=typeof window<"u"&&window.trustedTypes;if(Al)try{Jo=Al.createPolicy("vue",{createHTML:t=>t})}catch{}const bc=Jo?t=>Jo.createHTML(t):t=>t,jd="http://www.w3.org/2000/svg",Rd="http://www.w3.org/1998/Math/MathML",vn=typeof document<"u"?document:null,jl=vn&&vn.createElement("template"),Id={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?vn.createElementNS(jd,t):e==="mathml"?vn.createElementNS(Rd,t):n?vn.createElement(t,{is:n}):vn.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>vn.createTextNode(t),createComment:t=>vn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>vn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,a){const l=n?n.previousSibling:e.lastChild;if(s&&(s===a||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===a||!(s=s.nextSibling)););else{jl.innerHTML=bc(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const c=jl.content;if(r==="svg"||r==="mathml"){const f=c.firstChild;for(;f.firstChild;)c.appendChild(f.firstChild);c.removeChild(f)}e.insertBefore(c,n)}return[l?l.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Pn="transition",Jr="animation",pi=Symbol("_vtc"),wc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Dd=Et({},Vu,wc),$d=t=>(t.displayName="Transition",t.props=Dd,t),Ld=$d((t,{slots:e})=>Pd(Eh,Md(t),e)),er=(t,e=[])=>{ke(t)?t.forEach(n=>n(...e)):t&&t(...e)},Rl=t=>t?ke(t)?t.some(e=>e.length>1):t.length>1:!1;function Md(t){const e={};for(const K in t)K in wc||(e[K]=t[K]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:a=`${n}-enter-from`,enterActiveClass:l=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:f=a,appearActiveClass:y=l,appearToClass:p=c,leaveFromClass:v=`${n}-leave-from`,leaveActiveClass:O=`${n}-leave-active`,leaveToClass:q=`${n}-leave-to`}=t,te=Fd(s),X=te&&te[0],ge=te&&te[1],{onBeforeEnter:ve,onEnter:Ce,onEnterCancelled:Te,onLeave:de,onLeaveCancelled:Se,onBeforeAppear:Ue=ve,onAppear:_e=Ce,onAppearCancelled:I=Te}=e,x=(K,le,we)=>{tr(K,le?p:c),tr(K,le?y:l),we&&we()},N=(K,le)=>{K._isLeaving=!1,tr(K,v),tr(K,q),tr(K,O),le&&le()},ee=K=>(le,we)=>{const Ye=K?_e:Ce,Oe=()=>x(le,K,we);er(Ye,[le,Oe]),Il(()=>{tr(le,K?f:a),An(le,K?p:c),Rl(Ye)||Dl(le,r,X,Oe)})};return Et(e,{onBeforeEnter(K){er(ve,[K]),An(K,a),An(K,l)},onBeforeAppear(K){er(Ue,[K]),An(K,f),An(K,y)},onEnter:ee(!1),onAppear:ee(!0),onLeave(K,le){K._isLeaving=!0;const we=()=>N(K,le);An(K,v),An(K,O),Bd(),Il(()=>{K._isLeaving&&(tr(K,v),An(K,q),Rl(de)||Dl(K,r,ge,we))}),er(de,[K,we])},onEnterCancelled(K){x(K,!1),er(Te,[K])},onAppearCancelled(K){x(K,!0),er(I,[K])},onLeaveCancelled(K){N(K),er(Se,[K])}})}function Fd(t){if(t==null)return null;if(st(t))return[Co(t.enter),Co(t.leave)];{const e=Co(t);return[e,e]}}function Co(t){return Af(t)}function An(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[pi]||(t[pi]=new Set)).add(e)}function tr(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[pi];n&&(n.delete(e),n.size||(t[pi]=void 0))}function Il(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Ud=0;function Dl(t,e,n,r){const s=t._endId=++Ud,a=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(a,n);const{type:l,timeout:c,propCount:f}=Nd(t,e);if(!l)return r();const y=l+"end";let p=0;const v=()=>{t.removeEventListener(y,O),a()},O=q=>{q.target===t&&++p>=f&&v()};setTimeout(()=>{p<f&&v()},c+1),t.addEventListener(y,O)}function Nd(t,e){const n=window.getComputedStyle(t),r=te=>(n[te]||"").split(", "),s=r(`${Pn}Delay`),a=r(`${Pn}Duration`),l=$l(s,a),c=r(`${Jr}Delay`),f=r(`${Jr}Duration`),y=$l(c,f);let p=null,v=0,O=0;e===Pn?l>0&&(p=Pn,v=l,O=a.length):e===Jr?y>0&&(p=Jr,v=y,O=f.length):(v=Math.max(l,y),p=v>0?l>y?Pn:Jr:null,O=p?p===Pn?a.length:f.length:0);const q=p===Pn&&/\b(transform|all)(,|$)/.test(r(`${Pn}Property`).toString());return{type:p,timeout:v,propCount:O,hasTransform:q}}function $l(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Ll(n)+Ll(t[r])))}function Ll(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Bd(){return document.body.offsetHeight}function Kd(t,e,n){const r=t[pi];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const hs=Symbol("_vod"),kc=Symbol("_vsh"),qd={beforeMount(t,{value:e},{transition:n}){t[hs]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Gr(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Gr(t,!0),r.enter(t)):r.leave(t,()=>{Gr(t,!1)}):Gr(t,e))},beforeUnmount(t,{value:e}){Gr(t,e)}};function Gr(t,e){t.style.display=e?t[hs]:"none",t[kc]=!e}const Vd=Symbol(""),Hd=/(^|;)\s*display\s*:/;function zd(t,e,n){const r=t.style,s=_t(n);let a=!1;if(n&&!s){if(e)if(_t(e))for(const l of e.split(";")){const c=l.slice(0,l.indexOf(":")).trim();n[c]==null&&ss(r,c,"")}else for(const l in e)n[l]==null&&ss(r,l,"");for(const l in n)l==="display"&&(a=!0),ss(r,l,n[l])}else if(s){if(e!==n){const l=r[Vd];l&&(n+=";"+l),r.cssText=n,a=Hd.test(n)}}else e&&t.removeAttribute("style");hs in t&&(t[hs]=a?r.display:"",t[kc]&&(r.display="none"))}const Ml=/\s*!important$/;function ss(t,e,n){if(ke(n))n.forEach(r=>ss(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Wd(t,e);Ml.test(n)?t.setProperty(Kn(r),n.replace(Ml,""),"important"):t[r]=n}}const Fl=["Webkit","Moz","ms"],To={};function Wd(t,e){const n=To[e];if(n)return n;let r=Zt(e);if(r!=="filter"&&r in t)return To[e]=r;r=_s(r);for(let s=0;s<Fl.length;s++){const a=Fl[s]+r;if(a in t)return To[e]=a}return e}const Ul="http://www.w3.org/1999/xlink";function Nl(t,e,n,r,s,a=Lf(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Ul,e.slice(6,e.length)):t.setAttributeNS(Ul,e,n):n==null||a&&!mu(n)?t.removeAttribute(e):t.setAttribute(e,a?"":dn(n)?String(n):n)}function Bl(t,e,n,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?bc(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const l=s==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=mu(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}function or(t,e,n,r){t.addEventListener(e,n,r)}function Jd(t,e,n,r){t.removeEventListener(e,n,r)}const Kl=Symbol("_vei");function Gd(t,e,n,r,s=null){const a=t[Kl]||(t[Kl]={}),l=a[e];if(r&&l)l.value=r;else{const[c,f]=Qd(e);if(r){const y=a[e]=Zd(r,s);or(t,c,y,f)}else l&&(Jd(t,c,l,f),a[e]=void 0)}}const ql=/(?:Once|Passive|Capture)$/;function Qd(t){let e;if(ql.test(t)){e={};let r;for(;r=t.match(ql);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Kn(t.slice(2)),e]}let Po=0;const Yd=Promise.resolve(),Xd=()=>Po||(Yd.then(()=>Po=0),Po=Date.now());function Zd(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;on(ep(r,n.value),e,5,[r])};return n.value=t,n.attached=Xd(),n}function ep(t,e){if(ke(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Vl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,tp=(t,e,n,r,s,a)=>{const l=s==="svg";e==="class"?Kd(t,r,l):e==="style"?zd(t,n,r):ys(e)?oa(e)||Gd(t,e,n,r,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):np(t,e,r,l))?(Bl(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Nl(t,e,r,l,a,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!_t(r))?Bl(t,Zt(e),r):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Nl(t,e,r,l))};function np(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Vl(e)&&Ae(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Vl(e)&&_t(n)?!1:e in t}const ds=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ke(e)?n=>ts(e,n):e};function rp(t){t.target.composing=!0}function Hl(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Rr=Symbol("_assign"),Vt={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[Rr]=ds(s);const a=r||s.props&&s.props.type==="number";or(t,e?"change":"input",l=>{if(l.target.composing)return;let c=t.value;n&&(c=c.trim()),a&&(c=Lo(c)),t[Rr](c)}),n&&or(t,"change",()=>{t.value=t.value.trim()}),e||(or(t,"compositionstart",rp),or(t,"compositionend",Hl),or(t,"change",Hl))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:a}},l){if(t[Rr]=ds(l),t.composing)return;const c=(a||t.type==="number")&&!/^0\d/.test(t.value)?Lo(t.value):t.value,f=e??"";c!==f&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===f)||(t.value=f))}},ip={deep:!0,created(t,e,n){t[Rr]=ds(n),or(t,"change",()=>{const r=t._modelValue,s=sp(t),a=t.checked,l=t[Rr];if(ke(r)){const c=vu(r,s),f=c!==-1;if(a&&!f)l(r.concat(s));else if(!a&&f){const y=[...r];y.splice(c,1),l(y)}}else if(ms(r)){const c=new Set(r);a?c.add(s):c.delete(s),l(c)}else l(xc(t,a))})},mounted:zl,beforeUpdate(t,e,n){t[Rr]=ds(n),zl(t,e,n)}};function zl(t,{value:e},n){t._modelValue=e;let r;ke(e)?r=vu(e,n.props.value)>-1:ms(e)?r=e.has(n.props.value):r=bs(e,xc(t,!0)),t.checked!==r&&(t.checked=r)}function sp(t){return"_value"in t?t._value:t.value}function xc(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const op=["ctrl","shift","alt","meta"],ap={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>op.some(n=>t[`${n}Key`]&&!e.includes(n))},Ao=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...a)=>{for(let l=0;l<e.length;l++){const c=ap[e[l]];if(c&&c(s,e))return}return t(s,...a)})},lp={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},up=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const a=Kn(s.key);if(e.some(l=>l===a||lp[l]===a))return t(s)})},cp=Et({patchProp:tp},Id);let Wl;function fp(){return Wl||(Wl=Zh(cp))}const hp=(...t)=>{const e=fp().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=pp(r);if(!s)return;const a=e._component;!Ae(a)&&!a.render&&!a.template&&(a.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const l=n(s,!1,dp(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},e};function dp(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function pp(t){return _t(t)?document.querySelector(t):t}var Ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ec(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function gp(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Sc={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,r){t.exports=r()})(Ft,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s=!r.document&&!!r.postMessage,a=r.IS_PAPA_WORKER||!1,l={},c=0,f={parse:function(I,x){var N=(x=x||{}).dynamicTyping||!1;if(_e(N)&&(x.dynamicTypingFunction=N,N={}),x.dynamicTyping=N,x.transform=!!_e(x.transform)&&x.transform,x.worker&&f.WORKERS_SUPPORTED){var ee=function(){if(!f.WORKERS_SUPPORTED)return!1;var le=(Ye=r.URL||r.webkitURL||null,Oe=n.toString(),f.BLOB_URL||(f.BLOB_URL=Ye.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Oe,")();"],{type:"text/javascript"})))),we=new r.Worker(le),Ye,Oe;return we.onmessage=Ce,we.id=c++,l[we.id]=we}();return ee.userStep=x.step,ee.userChunk=x.chunk,ee.userComplete=x.complete,ee.userError=x.error,x.step=_e(x.step),x.chunk=_e(x.chunk),x.complete=_e(x.complete),x.error=_e(x.error),delete x.worker,void ee.postMessage({input:I,config:x,workerId:ee.id})}var K=null;return f.NODE_STREAM_INPUT,typeof I=="string"?(I=function(le){return le.charCodeAt(0)===65279?le.slice(1):le}(I),K=x.download?new v(x):new q(x)):I.readable===!0&&_e(I.read)&&_e(I.on)?K=new te(x):(r.File&&I instanceof File||I instanceof Object)&&(K=new O(x)),K.stream(I)},unparse:function(I,x){var N=!1,ee=!0,K=",",le=`\r
`,we='"',Ye=we+we,Oe=!1,ie=null,be=!1;(function(){if(typeof x=="object"){if(typeof x.delimiter!="string"||f.BAD_DELIMITERS.filter(function(fe){return x.delimiter.indexOf(fe)!==-1}).length||(K=x.delimiter),(typeof x.quotes=="boolean"||typeof x.quotes=="function"||Array.isArray(x.quotes))&&(N=x.quotes),typeof x.skipEmptyLines!="boolean"&&typeof x.skipEmptyLines!="string"||(Oe=x.skipEmptyLines),typeof x.newline=="string"&&(le=x.newline),typeof x.quoteChar=="string"&&(we=x.quoteChar),typeof x.header=="boolean"&&(ee=x.header),Array.isArray(x.columns)){if(x.columns.length===0)throw new Error("Option columns is empty");ie=x.columns}x.escapeChar!==void 0&&(Ye=x.escapeChar+we),(typeof x.escapeFormulae=="boolean"||x.escapeFormulae instanceof RegExp)&&(be=x.escapeFormulae instanceof RegExp?x.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var ye=new RegExp(ge(we),"g");if(typeof I=="string"&&(I=JSON.parse(I)),Array.isArray(I)){if(!I.length||Array.isArray(I[0]))return ot(null,I,Oe);if(typeof I[0]=="object")return ot(ie||Object.keys(I[0]),I,Oe)}else if(typeof I=="object")return typeof I.data=="string"&&(I.data=JSON.parse(I.data)),Array.isArray(I.data)&&(I.fields||(I.fields=I.meta&&I.meta.fields||ie),I.fields||(I.fields=Array.isArray(I.data[0])?I.fields:typeof I.data[0]=="object"?Object.keys(I.data[0]):[]),Array.isArray(I.data[0])||typeof I.data[0]=="object"||(I.data=[I.data])),ot(I.fields||[],I.data||[],Oe);throw new Error("Unable to serialize unrecognized input");function ot(fe,Ke,gt){var Xe="";typeof fe=="string"&&(fe=JSON.parse(fe)),typeof Ke=="string"&&(Ke=JSON.parse(Ke));var Je=Array.isArray(fe)&&0<fe.length,tt=!Array.isArray(Ke[0]);if(Je&&ee){for(var ft=0;ft<fe.length;ft++)0<ft&&(Xe+=K),Xe+=et(fe[ft],ft);0<Ke.length&&(Xe+=le)}for(var z=0;z<Ke.length;z++){var Me=Je?fe.length:Ke[z].length,ze=!1,xe=Je?Object.keys(Ke[z]).length===0:Ke[z].length===0;if(gt&&!Je&&(ze=gt==="greedy"?Ke[z].join("").trim()==="":Ke[z].length===1&&Ke[z][0].length===0),gt==="greedy"&&Je){for(var _=[],k=0;k<Me;k++){var D=tt?fe[k]:k;_.push(Ke[z][D])}ze=_.join("").trim()===""}if(!ze){for(var F=0;F<Me;F++){0<F&&!xe&&(Xe+=K);var V=Je&&tt?fe[F]:F;Xe+=et(Ke[z][V],F)}z<Ke.length-1&&(!gt||0<Me&&!xe)&&(Xe+=le)}}return Xe}function et(fe,Ke){if(fe==null)return"";if(fe.constructor===Date)return JSON.stringify(fe).slice(1,25);var gt=!1;be&&typeof fe=="string"&&be.test(fe)&&(fe="'"+fe,gt=!0);var Xe=fe.toString().replace(ye,Ye);return(gt=gt||N===!0||typeof N=="function"&&N(fe,Ke)||Array.isArray(N)&&N[Ke]||function(Je,tt){for(var ft=0;ft<tt.length;ft++)if(-1<Je.indexOf(tt[ft]))return!0;return!1}(Xe,f.BAD_DELIMITERS)||-1<Xe.indexOf(K)||Xe.charAt(0)===" "||Xe.charAt(Xe.length-1)===" ")?we+Xe+we:Xe}}};if(f.RECORD_SEP="",f.UNIT_SEP="",f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!s&&!!r.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=ve,f.ParserHandle=X,f.NetworkStreamer=v,f.FileStreamer=O,f.StringStreamer=q,f.ReadableStreamStreamer=te,r.jQuery){var y=r.jQuery;y.fn.parse=function(I){var x=I.config||{},N=[];return this.each(function(le){if(!(y(this).prop("tagName").toUpperCase()==="INPUT"&&y(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var we=0;we<this.files.length;we++)N.push({file:this.files[we],inputElem:this,instanceConfig:y.extend({},x)})}),ee(),this;function ee(){if(N.length!==0){var le,we,Ye,Oe,ie=N[0];if(_e(I.before)){var be=I.before(ie.file,ie.inputElem);if(typeof be=="object"){if(be.action==="abort")return le="AbortError",we=ie.file,Ye=ie.inputElem,Oe=be.reason,void(_e(I.error)&&I.error({name:le},we,Ye,Oe));if(be.action==="skip")return void K();typeof be.config=="object"&&(ie.instanceConfig=y.extend(ie.instanceConfig,be.config))}else if(be==="skip")return void K()}var ye=ie.instanceConfig.complete;ie.instanceConfig.complete=function(ot){_e(ye)&&ye(ot,ie.file,ie.inputElem),K()},f.parse(ie.file,ie.instanceConfig)}else _e(I.complete)&&I.complete()}function K(){N.splice(0,1),ee()}}}function p(I){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(x){var N=Se(x);N.chunkSize=parseInt(N.chunkSize),x.step||x.chunk||(N.chunkSize=null),this._handle=new X(N),(this._handle.streamer=this)._config=N}).call(this,I),this.parseChunk=function(x,N){if(this.isFirstChunk&&_e(this._config.beforeFirstChunk)){var ee=this._config.beforeFirstChunk(x);ee!==void 0&&(x=ee)}this.isFirstChunk=!1,this._halted=!1;var K=this._partialLine+x;this._partialLine="";var le=this._handle.parse(K,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var we=le.meta.cursor;this._finished||(this._partialLine=K.substring(we-this._baseIndex),this._baseIndex=we),le&&le.data&&(this._rowCount+=le.data.length);var Ye=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(a)r.postMessage({results:le,workerId:f.WORKER_ID,finished:Ye});else if(_e(this._config.chunk)&&!N){if(this._config.chunk(le,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);le=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(le.data),this._completeResults.errors=this._completeResults.errors.concat(le.errors),this._completeResults.meta=le.meta),this._completed||!Ye||!_e(this._config.complete)||le&&le.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Ye||le&&le.meta.paused||this._nextChunk(),le}this._halted=!0},this._sendError=function(x){_e(this._config.error)?this._config.error(x):a&&this._config.error&&r.postMessage({workerId:f.WORKER_ID,error:x,finished:!1})}}function v(I){var x;(I=I||{}).chunkSize||(I.chunkSize=f.RemoteChunkSize),p.call(this,I),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(N){this._input=N,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(x=new XMLHttpRequest,this._config.withCredentials&&(x.withCredentials=this._config.withCredentials),s||(x.onload=Ue(this._chunkLoaded,this),x.onerror=Ue(this._chunkError,this)),x.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var N=this._config.downloadRequestHeaders;for(var ee in N)x.setRequestHeader(ee,N[ee])}if(this._config.chunkSize){var K=this._start+this._config.chunkSize-1;x.setRequestHeader("Range","bytes="+this._start+"-"+K)}try{x.send(this._config.downloadRequestBody)}catch(le){this._chunkError(le.message)}s&&x.status===0&&this._chunkError()}},this._chunkLoaded=function(){x.readyState===4&&(x.status<200||400<=x.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:x.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(N){var ee=N.getResponseHeader("Content-Range");return ee===null?-1:parseInt(ee.substring(ee.lastIndexOf("/")+1))}(x),this.parseChunk(x.responseText)))},this._chunkError=function(N){var ee=x.statusText||N;this._sendError(new Error(ee))}}function O(I){var x,N;(I=I||{}).chunkSize||(I.chunkSize=f.LocalChunkSize),p.call(this,I);var ee=typeof FileReader<"u";this.stream=function(K){this._input=K,N=K.slice||K.webkitSlice||K.mozSlice,ee?((x=new FileReader).onload=Ue(this._chunkLoaded,this),x.onerror=Ue(this._chunkError,this)):x=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var K=this._input;if(this._config.chunkSize){var le=Math.min(this._start+this._config.chunkSize,this._input.size);K=N.call(K,this._start,le)}var we=x.readAsText(K,this._config.encoding);ee||this._chunkLoaded({target:{result:we}})},this._chunkLoaded=function(K){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(K.target.result)},this._chunkError=function(){this._sendError(x.error)}}function q(I){var x;p.call(this,I=I||{}),this.stream=function(N){return x=N,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var N,ee=this._config.chunkSize;return ee?(N=x.substring(0,ee),x=x.substring(ee)):(N=x,x=""),this._finished=!x,this.parseChunk(N)}}}function te(I){p.call(this,I=I||{});var x=[],N=!0,ee=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(K){this._input=K,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){ee&&x.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),x.length?this.parseChunk(x.shift()):N=!0},this._streamData=Ue(function(K){try{x.push(typeof K=="string"?K:K.toString(this._config.encoding)),N&&(N=!1,this._checkIsFinished(),this.parseChunk(x.shift()))}catch(le){this._streamError(le)}},this),this._streamError=Ue(function(K){this._streamCleanUp(),this._sendError(K)},this),this._streamEnd=Ue(function(){this._streamCleanUp(),ee=!0,this._streamData("")},this),this._streamCleanUp=Ue(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function X(I){var x,N,ee,K=Math.pow(2,53),le=-K,we=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Ye=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Oe=this,ie=0,be=0,ye=!1,ot=!1,et=[],fe={data:[],errors:[],meta:{}};if(_e(I.step)){var Ke=I.step;I.step=function(z){if(fe=z,Je())Xe();else{if(Xe(),fe.data.length===0)return;ie+=z.data.length,I.preview&&ie>I.preview?N.abort():(fe.data=fe.data[0],Ke(fe,Oe))}}}function gt(z){return I.skipEmptyLines==="greedy"?z.join("").trim()==="":z.length===1&&z[0].length===0}function Xe(){return fe&&ee&&(ft("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),ee=!1),I.skipEmptyLines&&(fe.data=fe.data.filter(function(z){return!gt(z)})),Je()&&function(){if(!fe)return;function z(ze,xe){_e(I.transformHeader)&&(ze=I.transformHeader(ze,xe)),et.push(ze)}if(Array.isArray(fe.data[0])){for(var Me=0;Je()&&Me<fe.data.length;Me++)fe.data[Me].forEach(z);fe.data.splice(0,1)}else fe.data.forEach(z)}(),function(){if(!fe||!I.header&&!I.dynamicTyping&&!I.transform)return fe;function z(ze,xe){var _,k=I.header?{}:[];for(_=0;_<ze.length;_++){var D=_,F=ze[_];I.header&&(D=_>=et.length?"__parsed_extra":et[_]),I.transform&&(F=I.transform(F,D)),F=tt(D,F),D==="__parsed_extra"?(k[D]=k[D]||[],k[D].push(F)):k[D]=F}return I.header&&(_>et.length?ft("FieldMismatch","TooManyFields","Too many fields: expected "+et.length+" fields but parsed "+_,be+xe):_<et.length&&ft("FieldMismatch","TooFewFields","Too few fields: expected "+et.length+" fields but parsed "+_,be+xe)),k}var Me=1;return!fe.data.length||Array.isArray(fe.data[0])?(fe.data=fe.data.map(z),Me=fe.data.length):fe.data=z(fe.data,0),I.header&&fe.meta&&(fe.meta.fields=et),be+=Me,fe}()}function Je(){return I.header&&et.length===0}function tt(z,Me){return ze=z,I.dynamicTypingFunction&&I.dynamicTyping[ze]===void 0&&(I.dynamicTyping[ze]=I.dynamicTypingFunction(ze)),(I.dynamicTyping[ze]||I.dynamicTyping)===!0?Me==="true"||Me==="TRUE"||Me!=="false"&&Me!=="FALSE"&&(function(xe){if(we.test(xe)){var _=parseFloat(xe);if(le<_&&_<K)return!0}return!1}(Me)?parseFloat(Me):Ye.test(Me)?new Date(Me):Me===""?null:Me):Me;var ze}function ft(z,Me,ze,xe){var _={type:z,code:Me,message:ze};xe!==void 0&&(_.row=xe),fe.errors.push(_)}this.parse=function(z,Me,ze){var xe=I.quoteChar||'"';if(I.newline||(I.newline=function(D,F){D=D.substring(0,1048576);var V=new RegExp(ge(F)+"([^]*?)"+ge(F),"gm"),H=(D=D.replace(V,"")).split("\r"),ne=D.split(`
`),G=1<ne.length&&ne[0].length<H[0].length;if(H.length===1||G)return`
`;for(var W=0,B=0;B<H.length;B++)H[B][0]===`
`&&W++;return W>=H.length/2?`\r
`:"\r"}(z,xe)),ee=!1,I.delimiter)_e(I.delimiter)&&(I.delimiter=I.delimiter(z),fe.meta.delimiter=I.delimiter);else{var _=function(D,F,V,H,ne){var G,W,B,ce;ne=ne||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var se=0;se<ne.length;se++){var Z=ne[se],me=0,Ee=0,Ie=0;B=void 0;for(var je=new ve({comments:H,delimiter:Z,newline:F,preview:10}).parse(D),nt=0;nt<je.data.length;nt++)if(V&&gt(je.data[nt]))Ie++;else{var qe=je.data[nt].length;Ee+=qe,B!==void 0?0<qe&&(me+=Math.abs(qe-B),B=qe):B=qe}0<je.data.length&&(Ee/=je.data.length-Ie),(W===void 0||me<=W)&&(ce===void 0||ce<Ee)&&1.99<Ee&&(W=me,G=Z,ce=Ee)}return{successful:!!(I.delimiter=G),bestDelimiter:G}}(z,I.newline,I.skipEmptyLines,I.comments,I.delimitersToGuess);_.successful?I.delimiter=_.bestDelimiter:(ee=!0,I.delimiter=f.DefaultDelimiter),fe.meta.delimiter=I.delimiter}var k=Se(I);return I.preview&&I.header&&k.preview++,x=z,N=new ve(k),fe=N.parse(x,Me,ze),Xe(),ye?{meta:{paused:!0}}:fe||{meta:{paused:!1}}},this.paused=function(){return ye},this.pause=function(){ye=!0,N.abort(),x=_e(I.chunk)?"":x.substring(N.getCharIndex())},this.resume=function(){Oe.streamer._halted?(ye=!1,Oe.streamer.parseChunk(x,!0)):setTimeout(Oe.resume,3)},this.aborted=function(){return ot},this.abort=function(){ot=!0,N.abort(),fe.meta.aborted=!0,_e(I.complete)&&I.complete(fe),x=""}}function ge(I){return I.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ve(I){var x,N=(I=I||{}).delimiter,ee=I.newline,K=I.comments,le=I.step,we=I.preview,Ye=I.fastMode,Oe=x=I.quoteChar===void 0||I.quoteChar===null?'"':I.quoteChar;if(I.escapeChar!==void 0&&(Oe=I.escapeChar),(typeof N!="string"||-1<f.BAD_DELIMITERS.indexOf(N))&&(N=","),K===N)throw new Error("Comment character same as delimiter");K===!0?K="#":(typeof K!="string"||-1<f.BAD_DELIMITERS.indexOf(K))&&(K=!1),ee!==`
`&&ee!=="\r"&&ee!==`\r
`&&(ee=`
`);var ie=0,be=!1;this.parse=function(ye,ot,et){if(typeof ye!="string")throw new Error("Input must be a string");var fe=ye.length,Ke=N.length,gt=ee.length,Xe=K.length,Je=_e(le),tt=[],ft=[],z=[],Me=ie=0;if(!ye)return Ze();if(I.header&&!ot){var ze=ye.split(ee)[0].split(N),xe=[],_={},k=!1;for(var D in ze){var F=ze[D];_e(I.transformHeader)&&(F=I.transformHeader(F,D));var V=F,H=_[F]||0;for(0<H&&(k=!0,V=F+"_"+H),_[F]=H+1;xe.includes(V);)V=V+"_"+H;xe.push(V)}if(k){var ne=ye.split(ee);ne[0]=xe.join(N),ye=ne.join(ee)}}if(Ye||Ye!==!1&&ye.indexOf(x)===-1){for(var G=ye.split(ee),W=0;W<G.length;W++){if(z=G[W],ie+=z.length,W!==G.length-1)ie+=ee.length;else if(et)return Ze();if(!K||z.substring(0,Xe)!==K){if(Je){if(tt=[],Ie(z.split(N)),pt(),be)return Ze()}else Ie(z.split(N));if(we&&we<=W)return tt=tt.slice(0,we),Ze(!0)}}return Ze()}for(var B=ye.indexOf(N,ie),ce=ye.indexOf(ee,ie),se=new RegExp(ge(Oe)+ge(x),"g"),Z=ye.indexOf(x,ie);;)if(ye[ie]!==x)if(K&&z.length===0&&ye.substring(ie,ie+Xe)===K){if(ce===-1)return Ze();ie=ce+gt,ce=ye.indexOf(ee,ie),B=ye.indexOf(N,ie)}else if(B!==-1&&(B<ce||ce===-1))z.push(ye.substring(ie,B)),ie=B+Ke,B=ye.indexOf(N,ie);else{if(ce===-1)break;if(z.push(ye.substring(ie,ce)),qe(ce+gt),Je&&(pt(),be))return Ze();if(we&&tt.length>=we)return Ze(!0)}else for(Z=ie,ie++;;){if((Z=ye.indexOf(x,Z+1))===-1)return et||ft.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:tt.length,index:ie}),nt();if(Z===fe-1)return nt(ye.substring(ie,Z).replace(se,x));if(x!==Oe||ye[Z+1]!==Oe){if(x===Oe||Z===0||ye[Z-1]!==Oe){B!==-1&&B<Z+1&&(B=ye.indexOf(N,Z+1)),ce!==-1&&ce<Z+1&&(ce=ye.indexOf(ee,Z+1));var me=je(ce===-1?B:Math.min(B,ce));if(ye.substr(Z+1+me,Ke)===N){z.push(ye.substring(ie,Z).replace(se,x)),ye[ie=Z+1+me+Ke]!==x&&(Z=ye.indexOf(x,ie)),B=ye.indexOf(N,ie),ce=ye.indexOf(ee,ie);break}var Ee=je(ce);if(ye.substring(Z+1+Ee,Z+1+Ee+gt)===ee){if(z.push(ye.substring(ie,Z).replace(se,x)),qe(Z+1+Ee+gt),B=ye.indexOf(N,ie),Z=ye.indexOf(x,ie),Je&&(pt(),be))return Ze();if(we&&tt.length>=we)return Ze(!0);break}ft.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:tt.length,index:ie}),Z++}}else Z++}return nt();function Ie(rt){tt.push(rt),Me=ie}function je(rt){var pe=0;if(rt!==-1){var dt=ye.substring(Z+1,rt);dt&&dt.trim()===""&&(pe=dt.length)}return pe}function nt(rt){return et||(rt===void 0&&(rt=ye.substring(ie)),z.push(rt),ie=fe,Ie(z),Je&&pt()),Ze()}function qe(rt){ie=rt,Ie(z),z=[],ce=ye.indexOf(ee,ie)}function Ze(rt){return{data:tt,errors:ft,meta:{delimiter:N,linebreak:ee,aborted:be,truncated:!!rt,cursor:Me+(ot||0)}}}function pt(){le(Ze()),tt=[],ft=[]}},this.abort=function(){be=!0},this.getCharIndex=function(){return ie}}function Ce(I){var x=I.data,N=l[x.workerId],ee=!1;if(x.error)N.userError(x.error,x.file);else if(x.results&&x.results.data){var K={abort:function(){ee=!0,Te(x.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:de,resume:de};if(_e(N.userStep)){for(var le=0;le<x.results.data.length&&(N.userStep({data:x.results.data[le],errors:x.results.errors,meta:x.results.meta},K),!ee);le++);delete x.results}else _e(N.userChunk)&&(N.userChunk(x.results,K,x.file),delete x.results)}x.finished&&!ee&&Te(x.workerId,x.results)}function Te(I,x){var N=l[I];_e(N.userComplete)&&N.userComplete(x),N.terminate(),delete l[I]}function de(){throw new Error("Not implemented.")}function Se(I){if(typeof I!="object"||I===null)return I;var x=Array.isArray(I)?[]:{};for(var N in I)x[N]=Se(I[N]);return x}function Ue(I,x){return function(){I.apply(x,arguments)}}function _e(I){return typeof I=="function"}return a&&(r.onmessage=function(I){var x=I.data;if(f.WORKER_ID===void 0&&x&&(f.WORKER_ID=x.workerId),typeof x.input=="string")r.postMessage({workerId:f.WORKER_ID,results:f.parse(x.input,x.config),finished:!0});else if(r.File&&x.input instanceof File||x.input instanceof Object){var N=f.parse(x.input,x.config);N&&r.postMessage({workerId:f.WORKER_ID,results:N,finished:!0})}}),(v.prototype=Object.create(p.prototype)).constructor=v,(O.prototype=Object.create(p.prototype)).constructor=O,(q.prototype=Object.create(q.prototype)).constructor=q,(te.prototype=Object.create(p.prototype)).constructor=te,f})})(Sc);var yp=Sc.exports;const Jl=Ec(yp);var Oc={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ft,function(){var n=function(i,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(u[d]=h[d])})(i,o)},r=function(){return(r=Object.assign||function(i){for(var o,u=1,h=arguments.length;u<h;u++)for(var d in o=arguments[u])Object.prototype.hasOwnProperty.call(o,d)&&(i[d]=o[d]);return i}).apply(this,arguments)};function s(i,o,u){for(var h,d=0,g=o.length;d<g;d++)!h&&d in o||((h=h||Array.prototype.slice.call(o,0,d))[d]=o[d]);return i.concat(h||Array.prototype.slice.call(o))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ft,l=Object.keys,c=Array.isArray;function f(i,o){return typeof o!="object"||l(o).forEach(function(u){i[u]=o[u]}),i}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var y=Object.getPrototypeOf,p={}.hasOwnProperty;function v(i,o){return p.call(i,o)}function O(i,o){typeof o=="function"&&(o=o(y(i))),(typeof Reflect>"u"?l:Reflect.ownKeys)(o).forEach(function(u){te(i,u,o[u])})}var q=Object.defineProperty;function te(i,o,u,h){q(i,o,f(u&&v(u,"get")&&typeof u.get=="function"?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},h))}function X(i){return{from:function(o){return i.prototype=Object.create(o.prototype),te(i.prototype,"constructor",i),{extend:O.bind(null,i.prototype)}}}}var ge=Object.getOwnPropertyDescriptor,ve=[].slice;function Ce(i,o,u){return ve.call(i,o,u)}function Te(i,o){return o(i)}function de(i){if(!i)throw new Error("Assertion Failed")}function Se(i){a.setImmediate?setImmediate(i):setTimeout(i,0)}function Ue(i,o){if(typeof o=="string"&&v(i,o))return i[o];if(!o)return i;if(typeof o!="string"){for(var u=[],h=0,d=o.length;h<d;++h){var g=Ue(i,o[h]);u.push(g)}return u}var m=o.indexOf(".");if(m!==-1){var b=i[o.substr(0,m)];return b==null?void 0:Ue(b,o.substr(m+1))}}function _e(i,o,u){if(i&&o!==void 0&&!("isFrozen"in Object&&Object.isFrozen(i)))if(typeof o!="string"&&"length"in o){de(typeof u!="string"&&"length"in u);for(var h=0,d=o.length;h<d;++h)_e(i,o[h],u[h])}else{var g,m,b=o.indexOf(".");b!==-1?(g=o.substr(0,b),(m=o.substr(b+1))===""?u===void 0?c(i)&&!isNaN(parseInt(g))?i.splice(g,1):delete i[g]:i[g]=u:_e(b=!(b=i[g])||!v(i,g)?i[g]={}:b,m,u)):u===void 0?c(i)&&!isNaN(parseInt(o))?i.splice(o,1):delete i[o]:i[o]=u}}function I(i){var o,u={};for(o in i)v(i,o)&&(u[o]=i[o]);return u}var x=[].concat;function N(i){return x.apply([],i)}var gn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(N([8,16,32,64].map(function(i){return["Int","Uint","Float"].map(function(o){return o+i+"Array"})}))).filter(function(i){return a[i]}),ee=new Set(gn.map(function(i){return a[i]})),K=null;function le(i){return K=new WeakMap,i=function o(u){if(!u||typeof u!="object")return u;var h=K.get(u);if(h)return h;if(c(u)){h=[],K.set(u,h);for(var d=0,g=u.length;d<g;++d)h.push(o(u[d]))}else if(ee.has(u.constructor))h=u;else{var m,b=y(u);for(m in h=b===Object.prototype?{}:Object.create(b),K.set(u,h),u)v(u,m)&&(h[m]=o(u[m]))}return h}(i),K=null,i}var we={}.toString;function Ye(i){return we.call(i).slice(8,-1)}var Oe=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ie=typeof Oe=="symbol"?function(i){var o;return i!=null&&(o=i[Oe])&&o.apply(i)}:function(){return null};function be(i,o){return o=i.indexOf(o),0<=o&&i.splice(o,1),0<=o}var ye={};function ot(i){var o,u,h,d;if(arguments.length===1){if(c(i))return i.slice();if(this===ye&&typeof i=="string")return[i];if(d=ie(i)){for(u=[];!(h=d.next()).done;)u.push(h.value);return u}if(i==null)return[i];if(typeof(o=i.length)!="number")return[i];for(u=new Array(o);o--;)u[o]=i[o];return u}for(o=arguments.length,u=new Array(o);o--;)u[o]=arguments[o];return u}var et=typeof Symbol<"u"?function(i){return i[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Z=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Gt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Z),fe={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ke(i,o){this.name=i,this.message=o}function gt(i,o){return i+". Errors: "+Object.keys(o).map(function(u){return o[u].toString()}).filter(function(u,h,d){return d.indexOf(u)===h}).join(`
`)}function Xe(i,o,u,h){this.failures=o,this.failedKeys=h,this.successCount=u,this.message=gt(i,o)}function Je(i,o){this.name="BulkError",this.failures=Object.keys(o).map(function(u){return o[u]}),this.failuresByPos=o,this.message=gt(i,this.failures)}X(Ke).from(Error).extend({toString:function(){return this.name+": "+this.message}}),X(Xe).from(Ke),X(Je).from(Ke);var tt=Gt.reduce(function(i,o){return i[o]=o+"Error",i},{}),ft=Ke,z=Gt.reduce(function(i,o){var u=o+"Error";function h(d,g){this.name=u,d?typeof d=="string"?(this.message="".concat(d).concat(g?`
 `+g:""),this.inner=g||null):typeof d=="object"&&(this.message="".concat(d.name," ").concat(d.message),this.inner=d):(this.message=fe[o]||u,this.inner=null)}return X(h).from(ft),i[o]=h,i},{});z.Syntax=SyntaxError,z.Type=TypeError,z.Range=RangeError;var Me=Z.reduce(function(i,o){return i[o+"Error"]=z[o],i},{}),ze=Gt.reduce(function(i,o){return["Syntax","Type","Range"].indexOf(o)===-1&&(i[o+"Error"]=z[o]),i},{});function xe(){}function _(i){return i}function k(i,o){return i==null||i===_?o:function(u){return o(i(u))}}function D(i,o){return function(){i.apply(this,arguments),o.apply(this,arguments)}}function F(i,o){return i===xe?o:function(){var u=i.apply(this,arguments);u!==void 0&&(arguments[0]=u);var h=this.onsuccess,d=this.onerror;this.onsuccess=null,this.onerror=null;var g=o.apply(this,arguments);return h&&(this.onsuccess=this.onsuccess?D(h,this.onsuccess):h),d&&(this.onerror=this.onerror?D(d,this.onerror):d),g!==void 0?g:u}}function V(i,o){return i===xe?o:function(){i.apply(this,arguments);var u=this.onsuccess,h=this.onerror;this.onsuccess=this.onerror=null,o.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?D(u,this.onsuccess):u),h&&(this.onerror=this.onerror?D(h,this.onerror):h)}}function H(i,o){return i===xe?o:function(u){var h=i.apply(this,arguments);f(u,h);var d=this.onsuccess,g=this.onerror;return this.onsuccess=null,this.onerror=null,u=o.apply(this,arguments),d&&(this.onsuccess=this.onsuccess?D(d,this.onsuccess):d),g&&(this.onerror=this.onerror?D(g,this.onerror):g),h===void 0?u===void 0?void 0:u:f(h,u)}}function ne(i,o){return i===xe?o:function(){return o.apply(this,arguments)!==!1&&i.apply(this,arguments)}}function G(i,o){return i===xe?o:function(){var u=i.apply(this,arguments);if(u&&typeof u.then=="function"){for(var h=this,d=arguments.length,g=new Array(d);d--;)g[d]=arguments[d];return u.then(function(){return o.apply(h,g)})}return o.apply(this,arguments)}}ze.ModifyError=Xe,ze.DexieError=Ke,ze.BulkError=Je;var W=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function B(i){W=i}var ce={},se=100,gn=typeof Promise>"u"?[]:function(){var i=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[i,y(i),i];var o=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[o,y(o),i]}(),Z=gn[0],Gt=gn[1],gn=gn[2],Gt=Gt&&Gt.then,me=Z&&Z.constructor,Ee=!!gn,Ie=function(i,o){dt.push([i,o]),nt&&(queueMicrotask(ef),nt=!1)},je=!0,nt=!0,qe=[],Ze=[],pt=_,rt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:xe,pgp:!1,env:{},finalize:xe},pe=rt,dt=[],bt=0,Hn=[];function he(i){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var o=this._PSD=pe;if(typeof i!="function"){if(i!==ce)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Us(this,this._value))}this._state=null,this._value=null,++o.ref,function u(h,d){try{d(function(g){if(h._state===null){if(g===h)throw new TypeError("A promise cannot be resolved with itself.");var m=h._lib&&pr();g&&typeof g.then=="function"?u(h,function(b,C){g instanceof he?g._then(b,C):g.then(b,C)}):(h._state=!0,h._value=g,Ra(h)),m&&gr()}},Us.bind(null,h))}catch(g){Us(h,g)}}(this,i)}var Fs={get:function(){var i=pe,o=Ei;function u(h,d){var g=this,m=!i.global&&(i!==pe||o!==Ei),b=m&&!xn(),C=new he(function(E,A){Ns(g,new ja(Da(h,i,m,b),Da(d,i,m,b),E,A,i))});return this._consoleTask&&(C._consoleTask=this._consoleTask),C}return u.prototype=ce,u},set:function(i){te(this,"then",i&&i.prototype===ce?Fs:{get:function(){return i},set:Fs.set})}};function ja(i,o,u,h,d){this.onFulfilled=typeof i=="function"?i:null,this.onRejected=typeof o=="function"?o:null,this.resolve=u,this.reject=h,this.psd=d}function Us(i,o){var u,h;Ze.push(o),i._state===null&&(u=i._lib&&pr(),o=pt(o),i._state=!1,i._value=o,h=i,qe.some(function(d){return d._value===h._value})||qe.push(h),Ra(i),u&&gr())}function Ra(i){var o=i._listeners;i._listeners=[];for(var u=0,h=o.length;u<h;++u)Ns(i,o[u]);var d=i._PSD;--d.ref||d.finalize(),bt===0&&(++bt,Ie(function(){--bt==0&&Bs()},[]))}function Ns(i,o){if(i._state!==null){var u=i._state?o.onFulfilled:o.onRejected;if(u===null)return(i._state?o.resolve:o.reject)(i._value);++o.psd.ref,++bt,Ie(Zc,[u,i,o])}else i._listeners.push(o)}function Zc(i,o,u){try{var h,d=o._value;!o._state&&Ze.length&&(Ze=[]),h=W&&o._consoleTask?o._consoleTask.run(function(){return i(d)}):i(d),o._state||Ze.indexOf(d)!==-1||function(g){for(var m=qe.length;m;)if(qe[--m]._value===g._value)return qe.splice(m,1)}(o),u.resolve(h)}catch(g){u.reject(g)}finally{--bt==0&&Bs(),--u.psd.ref||u.psd.finalize()}}function ef(){zn(rt,function(){pr()&&gr()})}function pr(){var i=je;return nt=je=!1,i}function gr(){var i,o,u;do for(;0<dt.length;)for(i=dt,dt=[],u=i.length,o=0;o<u;++o){var h=i[o];h[0].apply(null,h[1])}while(0<dt.length);nt=je=!0}function Bs(){var i=qe;qe=[],i.forEach(function(h){h._PSD.onunhandled.call(null,h._value,h)});for(var o=Hn.slice(0),u=o.length;u;)o[--u]()}function wi(i){return new he(ce,!1,i)}function ht(i,o){var u=pe;return function(){var h=pr(),d=pe;try{return En(u,!0),i.apply(this,arguments)}catch(g){o&&o(g)}finally{En(d,!1),h&&gr()}}}O(he.prototype,{then:Fs,_then:function(i,o){Ns(this,new ja(null,null,i,o,pe))},catch:function(i){if(arguments.length===1)return this.then(null,i);var o=i,u=arguments[1];return typeof o=="function"?this.then(null,function(h){return(h instanceof o?u:wi)(h)}):this.then(null,function(h){return(h&&h.name===o?u:wi)(h)})},finally:function(i){return this.then(function(o){return he.resolve(i()).then(function(){return o})},function(o){return he.resolve(i()).then(function(){return wi(o)})})},timeout:function(i,o){var u=this;return i<1/0?new he(function(h,d){var g=setTimeout(function(){return d(new z.Timeout(o))},i);u.then(h,d).finally(clearTimeout.bind(null,g))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&te(he.prototype,Symbol.toStringTag,"Dexie.Promise"),rt.env=Ia(),O(he,{all:function(){var i=ot.apply(null,arguments).map(Si);return new he(function(o,u){i.length===0&&o([]);var h=i.length;i.forEach(function(d,g){return he.resolve(d).then(function(m){i[g]=m,--h||o(i)},u)})})},resolve:function(i){return i instanceof he?i:i&&typeof i.then=="function"?new he(function(o,u){i.then(o,u)}):new he(ce,!0,i)},reject:wi,race:function(){var i=ot.apply(null,arguments).map(Si);return new he(function(o,u){i.map(function(h){return he.resolve(h).then(o,u)})})},PSD:{get:function(){return pe},set:function(i){return pe=i}},totalEchoes:{get:function(){return Ei}},newPSD:kn,usePSD:zn,scheduler:{get:function(){return Ie},set:function(i){Ie=i}},rejectionMapper:{get:function(){return pt},set:function(i){pt=i}},follow:function(i,o){return new he(function(u,h){return kn(function(d,g){var m=pe;m.unhandleds=[],m.onunhandled=g,m.finalize=D(function(){var b,C=this;b=function(){C.unhandleds.length===0?d():g(C.unhandleds[0])},Hn.push(function E(){b(),Hn.splice(Hn.indexOf(E),1)}),++bt,Ie(function(){--bt==0&&Bs()},[])},m.finalize),i()},o,u,h)})}}),me&&(me.allSettled&&te(he,"allSettled",function(){var i=ot.apply(null,arguments).map(Si);return new he(function(o){i.length===0&&o([]);var u=i.length,h=new Array(u);i.forEach(function(d,g){return he.resolve(d).then(function(m){return h[g]={status:"fulfilled",value:m}},function(m){return h[g]={status:"rejected",reason:m}}).then(function(){return--u||o(h)})})})}),me.any&&typeof AggregateError<"u"&&te(he,"any",function(){var i=ot.apply(null,arguments).map(Si);return new he(function(o,u){i.length===0&&u(new AggregateError([]));var h=i.length,d=new Array(h);i.forEach(function(g,m){return he.resolve(g).then(function(b){return o(b)},function(b){d[m]=b,--h||u(new AggregateError(d))})})})}));var wt={awaits:0,echoes:0,id:0},tf=0,ki=[],xi=0,Ei=0,nf=0;function kn(i,o,u,h){var d=pe,g=Object.create(d);return g.parent=d,g.ref=0,g.global=!1,g.id=++nf,rt.env,g.env=Ee?{Promise:he,PromiseProp:{value:he,configurable:!0,writable:!0},all:he.all,race:he.race,allSettled:he.allSettled,any:he.any,resolve:he.resolve,reject:he.reject}:{},o&&f(g,o),++d.ref,g.finalize=function(){--this.parent.ref||this.parent.finalize()},h=zn(g,i,u,h),g.ref===0&&g.finalize(),h}function yr(){return wt.id||(wt.id=++tf),++wt.awaits,wt.echoes+=se,wt.id}function xn(){return!!wt.awaits&&(--wt.awaits==0&&(wt.id=0),wt.echoes=wt.awaits*se,!0)}function Si(i){return wt.echoes&&i&&i.constructor===me?(yr(),i.then(function(o){return xn(),o},function(o){return xn(),yt(o)})):i}function rf(){var i=ki[ki.length-1];ki.pop(),En(i,!1)}function En(i,o){var u,h=pe;(o?!wt.echoes||xi++&&i===pe:!xi||--xi&&i===pe)||queueMicrotask(o?(function(d){++Ei,wt.echoes&&--wt.echoes!=0||(wt.echoes=wt.awaits=wt.id=0),ki.push(pe),En(d,!0)}).bind(null,i):rf),i!==pe&&(pe=i,h===rt&&(rt.env=Ia()),Ee&&(u=rt.env.Promise,o=i.env,(h.global||i.global)&&(Object.defineProperty(a,"Promise",o.PromiseProp),u.all=o.all,u.race=o.race,u.resolve=o.resolve,u.reject=o.reject,o.allSettled&&(u.allSettled=o.allSettled),o.any&&(u.any=o.any))))}function Ia(){var i=a.Promise;return Ee?{Promise:i,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:i.all,race:i.race,allSettled:i.allSettled,any:i.any,resolve:i.resolve,reject:i.reject}:{}}function zn(i,o,u,h,d){var g=pe;try{return En(i,!0),o(u,h,d)}finally{En(g,!1)}}function Da(i,o,u,h){return typeof i!="function"?i:function(){var d=pe;u&&yr(),En(o,!0);try{return i.apply(this,arguments)}finally{En(d,!1),h&&queueMicrotask(xn)}}}function Ks(i){Promise===me&&wt.echoes===0?xi===0?i():enqueueNativeMicroTask(i):setTimeout(i,0)}(""+Gt).indexOf("[native code]")===-1&&(yr=xn=xe);var yt=he.reject,Wn="￿",pn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",$a="String expected.",mr=[],Oi="__dbnames",qs="readonly",Vs="readwrite";function Jn(i,o){return i?o?function(){return i.apply(this,arguments)&&o.apply(this,arguments)}:i:o}var La={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ci(i){return typeof i!="string"||/\./.test(i)?function(o){return o}:function(o){return o[i]===void 0&&i in o&&delete(o=le(o))[i],o}}function Ma(){throw z.Type()}function Ve(i,o){try{var u=Fa(i),h=Fa(o);if(u!==h)return u==="Array"?1:h==="Array"?-1:u==="binary"?1:h==="binary"?-1:u==="string"?1:h==="string"?-1:u==="Date"?1:h!=="Date"?NaN:-1;switch(u){case"number":case"Date":case"string":return o<i?1:i<o?-1:0;case"binary":return function(d,g){for(var m=d.length,b=g.length,C=m<b?m:b,E=0;E<C;++E)if(d[E]!==g[E])return d[E]<g[E]?-1:1;return m===b?0:m<b?-1:1}(Ua(i),Ua(o));case"Array":return function(d,g){for(var m=d.length,b=g.length,C=m<b?m:b,E=0;E<C;++E){var A=Ve(d[E],g[E]);if(A!==0)return A}return m===b?0:m<b?-1:1}(i,o)}}catch{}return NaN}function Fa(i){var o=typeof i;return o!="object"?o:ArrayBuffer.isView(i)?"binary":(i=Ye(i),i==="ArrayBuffer"?"binary":i)}function Ua(i){return i instanceof Uint8Array?i:ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i)}var Na=(ct.prototype._trans=function(i,o,u){var h=this._tx||pe.trans,d=this.name,g=W&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(i==="readonly"?"read":"write"," ").concat(this.name));function m(E,A,w){if(!w.schema[d])throw new z.NotFound("Table "+d+" not part of transaction");return o(w.idbtrans,w)}var b=pr();try{var C=h&&h.db._novip===this.db._novip?h===pe.trans?h._promise(i,m,u):kn(function(){return h._promise(i,m,u)},{trans:h,transless:pe.transless||pe}):function E(A,w,j,S){if(A.idbdb&&(A._state.openComplete||pe.letThrough||A._vip)){var P=A._createTransaction(w,j,A._dbSchema);try{P.create(),A._state.PR1398_maxLoop=3}catch(R){return R.name===tt.InvalidState&&A.isOpen()&&0<--A._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),A.close({disableAutoOpen:!1}),A.open().then(function(){return E(A,w,j,S)})):yt(R)}return P._promise(w,function(R,T){return kn(function(){return pe.trans=P,S(R,T,P)})}).then(function(R){if(w==="readwrite")try{P.idbtrans.commit()}catch{}return w==="readonly"?R:P._completion.then(function(){return R})})}if(A._state.openComplete)return yt(new z.DatabaseClosed(A._state.dbOpenError));if(!A._state.isBeingOpened){if(!A._state.autoOpen)return yt(new z.DatabaseClosed);A.open().catch(xe)}return A._state.dbReadyPromise.then(function(){return E(A,w,j,S)})}(this.db,i,[this.name],m);return g&&(C._consoleTask=g,C=C.catch(function(E){return console.trace(E),yt(E)})),C}finally{b&&gr()}},ct.prototype.get=function(i,o){var u=this;return i&&i.constructor===Object?this.where(i).first(o):i==null?yt(new z.Type("Invalid argument to Table.get()")):this._trans("readonly",function(h){return u.core.get({trans:h,key:i}).then(function(d){return u.hook.reading.fire(d)})}).then(o)},ct.prototype.where=function(i){if(typeof i=="string")return new this.db.WhereClause(this,i);if(c(i))return new this.db.WhereClause(this,"[".concat(i.join("+"),"]"));var o=l(i);if(o.length===1)return this.where(o[0]).equals(i[o[0]]);var u=this.schema.indexes.concat(this.schema.primKey).filter(function(C){if(C.compound&&o.every(function(A){return 0<=C.keyPath.indexOf(A)})){for(var E=0;E<o.length;++E)if(o.indexOf(C.keyPath[E])===-1)return!1;return!0}return!1}).sort(function(C,E){return C.keyPath.length-E.keyPath.length})[0];if(u&&this.db._maxKey!==Wn){var m=u.keyPath.slice(0,o.length);return this.where(m).equals(m.map(function(E){return i[E]}))}!u&&W&&console.warn("The query ".concat(JSON.stringify(i)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(o.join("+"),"]"));var h=this.schema.idxByName,d=this.db._deps.indexedDB;function g(C,E){return d.cmp(C,E)===0}var b=o.reduce(function(j,E){var A=j[0],w=j[1],j=h[E],S=i[E];return[A||j,A||!j?Jn(w,j&&j.multi?function(P){return P=Ue(P,E),c(P)&&P.some(function(R){return g(S,R)})}:function(P){return g(S,Ue(P,E))}):w]},[null,null]),m=b[0],b=b[1];return m?this.where(m.name).equals(i[m.keyPath]).filter(b):u?this.filter(b):this.where(o).equals("")},ct.prototype.filter=function(i){return this.toCollection().and(i)},ct.prototype.count=function(i){return this.toCollection().count(i)},ct.prototype.offset=function(i){return this.toCollection().offset(i)},ct.prototype.limit=function(i){return this.toCollection().limit(i)},ct.prototype.each=function(i){return this.toCollection().each(i)},ct.prototype.toArray=function(i){return this.toCollection().toArray(i)},ct.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ct.prototype.orderBy=function(i){return new this.db.Collection(new this.db.WhereClause(this,c(i)?"[".concat(i.join("+"),"]"):i))},ct.prototype.reverse=function(){return this.toCollection().reverse()},ct.prototype.mapToClass=function(i){var o,u=this.db,h=this.name;function d(){return o!==null&&o.apply(this,arguments)||this}(this.schema.mappedClass=i).prototype instanceof Ma&&(function(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function A(){this.constructor=C}n(C,E),C.prototype=E===null?Object.create(E):(A.prototype=E.prototype,new A)}(d,o=i),Object.defineProperty(d.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),d.prototype.table=function(){return h},i=d);for(var g=new Set,m=i.prototype;m;m=y(m))Object.getOwnPropertyNames(m).forEach(function(C){return g.add(C)});function b(C){if(!C)return C;var E,A=Object.create(i.prototype);for(E in C)if(!g.has(E))try{A[E]=C[E]}catch{}return A}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=b,this.hook("reading",b),i},ct.prototype.defineClass=function(){return this.mapToClass(function(i){f(this,i)})},ct.prototype.add=function(i,o){var u=this,h=this.schema.primKey,d=h.auto,g=h.keyPath,m=i;return g&&d&&(m=Ci(g)(i)),this._trans("readwrite",function(b){return u.core.mutate({trans:b,type:"add",keys:o!=null?[o]:null,values:[m]})}).then(function(b){return b.numFailures?he.reject(b.failures[0]):b.lastResult}).then(function(b){if(g)try{_e(i,g,b)}catch{}return b})},ct.prototype.update=function(i,o){return typeof i!="object"||c(i)?this.where(":id").equals(i).modify(o):(i=Ue(i,this.schema.primKey.keyPath),i===void 0?yt(new z.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(i).modify(o))},ct.prototype.put=function(i,o){var u=this,h=this.schema.primKey,d=h.auto,g=h.keyPath,m=i;return g&&d&&(m=Ci(g)(i)),this._trans("readwrite",function(b){return u.core.mutate({trans:b,type:"put",values:[m],keys:o!=null?[o]:null})}).then(function(b){return b.numFailures?he.reject(b.failures[0]):b.lastResult}).then(function(b){if(g)try{_e(i,g,b)}catch{}return b})},ct.prototype.delete=function(i){var o=this;return this._trans("readwrite",function(u){return o.core.mutate({trans:u,type:"delete",keys:[i]})}).then(function(u){return u.numFailures?he.reject(u.failures[0]):void 0})},ct.prototype.clear=function(){var i=this;return this._trans("readwrite",function(o){return i.core.mutate({trans:o,type:"deleteRange",range:La})}).then(function(o){return o.numFailures?he.reject(o.failures[0]):void 0})},ct.prototype.bulkGet=function(i){var o=this;return this._trans("readonly",function(u){return o.core.getMany({keys:i,trans:u}).then(function(h){return h.map(function(d){return o.hook.reading.fire(d)})})})},ct.prototype.bulkAdd=function(i,o,u){var h=this,d=Array.isArray(o)?o:void 0,g=(u=u||(d?void 0:o))?u.allKeys:void 0;return this._trans("readwrite",function(m){var E=h.schema.primKey,b=E.auto,E=E.keyPath;if(E&&d)throw new z.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(d&&d.length!==i.length)throw new z.InvalidArgument("Arguments objects and keys must have the same length");var C=i.length,E=E&&b?i.map(Ci(E)):i;return h.core.mutate({trans:m,type:"add",keys:d,values:E,wantResults:g}).then(function(P){var w=P.numFailures,j=P.results,S=P.lastResult,P=P.failures;if(w===0)return g?j:S;throw new Je("".concat(h.name,".bulkAdd(): ").concat(w," of ").concat(C," operations failed"),P)})})},ct.prototype.bulkPut=function(i,o,u){var h=this,d=Array.isArray(o)?o:void 0,g=(u=u||(d?void 0:o))?u.allKeys:void 0;return this._trans("readwrite",function(m){var E=h.schema.primKey,b=E.auto,E=E.keyPath;if(E&&d)throw new z.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(d&&d.length!==i.length)throw new z.InvalidArgument("Arguments objects and keys must have the same length");var C=i.length,E=E&&b?i.map(Ci(E)):i;return h.core.mutate({trans:m,type:"put",keys:d,values:E,wantResults:g}).then(function(P){var w=P.numFailures,j=P.results,S=P.lastResult,P=P.failures;if(w===0)return g?j:S;throw new Je("".concat(h.name,".bulkPut(): ").concat(w," of ").concat(C," operations failed"),P)})})},ct.prototype.bulkUpdate=function(i){var o=this,u=this.core,h=i.map(function(m){return m.key}),d=i.map(function(m){return m.changes}),g=[];return this._trans("readwrite",function(m){return u.getMany({trans:m,keys:h,cache:"clone"}).then(function(b){var C=[],E=[];i.forEach(function(w,j){var S=w.key,P=w.changes,R=b[j];if(R){for(var T=0,$=Object.keys(P);T<$.length;T++){var L=$[T],M=P[L];if(L===o.schema.primKey.keyPath){if(Ve(M,S)!==0)throw new z.Constraint("Cannot update primary key in bulkUpdate()")}else _e(R,L,M)}g.push(j),C.push(S),E.push(R)}});var A=C.length;return u.mutate({trans:m,type:"put",keys:C,values:E,updates:{keys:h,changeSpecs:d}}).then(function(w){var j=w.numFailures,S=w.failures;if(j===0)return A;for(var P=0,R=Object.keys(S);P<R.length;P++){var T,$=R[P],L=g[Number($)];L!=null&&(T=S[$],delete S[$],S[L]=T)}throw new Je("".concat(o.name,".bulkUpdate(): ").concat(j," of ").concat(A," operations failed"),S)})})})},ct.prototype.bulkDelete=function(i){var o=this,u=i.length;return this._trans("readwrite",function(h){return o.core.mutate({trans:h,type:"delete",keys:i})}).then(function(m){var d=m.numFailures,g=m.lastResult,m=m.failures;if(d===0)return g;throw new Je("".concat(o.name,".bulkDelete(): ").concat(d," of ").concat(u," operations failed"),m)})},ct);function ct(){}function Fr(i){function o(m,b){if(b){for(var C=arguments.length,E=new Array(C-1);--C;)E[C-1]=arguments[C];return u[m].subscribe.apply(null,E),i}if(typeof m=="string")return u[m]}var u={};o.addEventType=g;for(var h=1,d=arguments.length;h<d;++h)g(arguments[h]);return o;function g(m,b,C){if(typeof m!="object"){var E;b=b||ne;var A={subscribers:[],fire:C=C||xe,subscribe:function(w){A.subscribers.indexOf(w)===-1&&(A.subscribers.push(w),A.fire=b(A.fire,w))},unsubscribe:function(w){A.subscribers=A.subscribers.filter(function(j){return j!==w}),A.fire=A.subscribers.reduce(b,C)}};return u[m]=o[m]=A}l(E=m).forEach(function(w){var j=E[w];if(c(j))g(w,E[w][0],E[w][1]);else{if(j!=="asap")throw new z.InvalidArgument("Invalid event config");var S=g(w,_,function(){for(var P=arguments.length,R=new Array(P);P--;)R[P]=arguments[P];S.subscribers.forEach(function(T){Se(function(){T.apply(null,R)})})})}})}}function Ur(i,o){return X(o).from({prototype:i}),o}function vr(i,o){return!(i.filter||i.algorithm||i.or)&&(o?i.justLimit:!i.replayFilter)}function Hs(i,o){i.filter=Jn(i.filter,o)}function zs(i,o,u){var h=i.replayFilter;i.replayFilter=h?function(){return Jn(h(),o())}:o,i.justLimit=u&&!h}function Ti(i,o){if(i.isPrimKey)return o.primaryKey;var u=o.getIndexByKeyPath(i.index);if(!u)throw new z.Schema("KeyPath "+i.index+" on object store "+o.name+" is not indexed");return u}function Ba(i,o,u){var h=Ti(i,o.schema);return o.openCursor({trans:u,values:!i.keysOnly,reverse:i.dir==="prev",unique:!!i.unique,query:{index:h,range:i.range}})}function Pi(i,o,u,h){var d=i.replayFilter?Jn(i.filter,i.replayFilter()):i.filter;if(i.or){var g={},m=function(b,C,E){var A,w;d&&!d(C,E,function(j){return C.stop(j)},function(j){return C.fail(j)})||((w=""+(A=C.primaryKey))=="[object ArrayBuffer]"&&(w=""+new Uint8Array(A)),v(g,w)||(g[w]=!0,o(b,C,E)))};return Promise.all([i.or._iterate(m,u),Ka(Ba(i,h,u),i.algorithm,m,!i.keysOnly&&i.valueMapper)])}return Ka(Ba(i,h,u),Jn(i.algorithm,d),o,!i.keysOnly&&i.valueMapper)}function Ka(i,o,u,h){var d=ht(h?function(g,m,b){return u(h(g),m,b)}:u);return i.then(function(g){if(g)return g.start(function(){var m=function(){return g.continue()};o&&!o(g,function(b){return m=b},function(b){g.stop(b),m=xe},function(b){g.fail(b),m=xe})||d(g.value,g,function(b){return m=b}),m()})})}var gn=Symbol(),Nr=(qa.prototype.execute=function(i){if(this.add!==void 0){var o=this.add;if(c(o))return s(s([],c(i)?i:[],!0),o).sort();if(typeof o=="number")return(Number(i)||0)+o;if(typeof o=="bigint")try{return BigInt(i)+o}catch{return BigInt(0)+o}throw new TypeError("Invalid term ".concat(o))}if(this.remove!==void 0){var u=this.remove;if(c(u))return c(i)?i.filter(function(h){return!u.includes(h)}).sort():[];if(typeof u=="number")return Number(i)-u;if(typeof u=="bigint")try{return BigInt(i)-u}catch{return BigInt(0)-u}throw new TypeError("Invalid subtrahend ".concat(u))}return o=(o=this.replacePrefix)===null||o===void 0?void 0:o[0],o&&typeof i=="string"&&i.startsWith(o)?this.replacePrefix[1]+i.substring(o.length):i},qa);function qa(i){Object.assign(this,i)}var sf=(He.prototype._read=function(i,o){var u=this._ctx;return u.error?u.table._trans(null,yt.bind(null,u.error)):u.table._trans("readonly",i).then(o)},He.prototype._write=function(i){var o=this._ctx;return o.error?o.table._trans(null,yt.bind(null,o.error)):o.table._trans("readwrite",i,"locked")},He.prototype._addAlgorithm=function(i){var o=this._ctx;o.algorithm=Jn(o.algorithm,i)},He.prototype._iterate=function(i,o){return Pi(this._ctx,i,o,this._ctx.table.core)},He.prototype.clone=function(i){var o=Object.create(this.constructor.prototype),u=Object.create(this._ctx);return i&&f(u,i),o._ctx=u,o},He.prototype.raw=function(){return this._ctx.valueMapper=null,this},He.prototype.each=function(i){var o=this._ctx;return this._read(function(u){return Pi(o,i,u,o.table.core)})},He.prototype.count=function(i){var o=this;return this._read(function(u){var h=o._ctx,d=h.table.core;if(vr(h,!0))return d.count({trans:u,query:{index:Ti(h,d.schema),range:h.range}}).then(function(m){return Math.min(m,h.limit)});var g=0;return Pi(h,function(){return++g,!1},u,d).then(function(){return g})}).then(i)},He.prototype.sortBy=function(i,o){var u=i.split(".").reverse(),h=u[0],d=u.length-1;function g(C,E){return E?g(C[u[E]],E-1):C[h]}var m=this._ctx.dir==="next"?1:-1;function b(C,E){return C=g(C,d),E=g(E,d),C<E?-m:E<C?m:0}return this.toArray(function(C){return C.sort(b)}).then(o)},He.prototype.toArray=function(i){var o=this;return this._read(function(u){var h=o._ctx;if(h.dir==="next"&&vr(h,!0)&&0<h.limit){var d=h.valueMapper,g=Ti(h,h.table.core.schema);return h.table.core.query({trans:u,limit:h.limit,values:!0,query:{index:g,range:h.range}}).then(function(b){return b=b.result,d?b.map(d):b})}var m=[];return Pi(h,function(b){return m.push(b)},u,h.table.core).then(function(){return m})},i)},He.prototype.offset=function(i){var o=this._ctx;return i<=0||(o.offset+=i,vr(o)?zs(o,function(){var u=i;return function(h,d){return u===0||(u===1?--u:d(function(){h.advance(u),u=0}),!1)}}):zs(o,function(){var u=i;return function(){return--u<0}})),this},He.prototype.limit=function(i){return this._ctx.limit=Math.min(this._ctx.limit,i),zs(this._ctx,function(){var o=i;return function(u,h,d){return--o<=0&&h(d),0<=o}},!0),this},He.prototype.until=function(i,o){return Hs(this._ctx,function(u,h,d){return!i(u.value)||(h(d),o)}),this},He.prototype.first=function(i){return this.limit(1).toArray(function(o){return o[0]}).then(i)},He.prototype.last=function(i){return this.reverse().first(i)},He.prototype.filter=function(i){var o;return Hs(this._ctx,function(u){return i(u.value)}),(o=this._ctx).isMatch=Jn(o.isMatch,i),this},He.prototype.and=function(i){return this.filter(i)},He.prototype.or=function(i){return new this.db.WhereClause(this._ctx.table,i,this)},He.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},He.prototype.desc=function(){return this.reverse()},He.prototype.eachKey=function(i){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(u,h){i(h.key,h)})},He.prototype.eachUniqueKey=function(i){return this._ctx.unique="unique",this.eachKey(i)},He.prototype.eachPrimaryKey=function(i){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(u,h){i(h.primaryKey,h)})},He.prototype.keys=function(i){var o=this._ctx;o.keysOnly=!o.isMatch;var u=[];return this.each(function(h,d){u.push(d.key)}).then(function(){return u}).then(i)},He.prototype.primaryKeys=function(i){var o=this._ctx;if(o.dir==="next"&&vr(o,!0)&&0<o.limit)return this._read(function(h){var d=Ti(o,o.table.core.schema);return o.table.core.query({trans:h,values:!1,limit:o.limit,query:{index:d,range:o.range}})}).then(function(h){return h.result}).then(i);o.keysOnly=!o.isMatch;var u=[];return this.each(function(h,d){u.push(d.primaryKey)}).then(function(){return u}).then(i)},He.prototype.uniqueKeys=function(i){return this._ctx.unique="unique",this.keys(i)},He.prototype.firstKey=function(i){return this.limit(1).keys(function(o){return o[0]}).then(i)},He.prototype.lastKey=function(i){return this.reverse().firstKey(i)},He.prototype.distinct=function(){var i=this._ctx,i=i.index&&i.table.schema.idxByName[i.index];if(!i||!i.multi)return this;var o={};return Hs(this._ctx,function(d){var h=d.primaryKey.toString(),d=v(o,h);return o[h]=!0,!d}),this},He.prototype.modify=function(i){var o=this,u=this._ctx;return this._write(function(h){var d,g,m;m=typeof i=="function"?i:(d=l(i),g=d.length,function(T){for(var $=!1,L=0;L<g;++L){var M=d[L],U=i[M],Q=Ue(T,M);U instanceof Nr?(_e(T,M,U.execute(Q)),$=!0):Q!==U&&(_e(T,M,U),$=!0)}return $});function b(T,M){var L=M.failures,M=M.numFailures;P+=T-M;for(var U=0,Q=l(L);U<Q.length;U++){var ae=Q[U];S.push(L[ae])}}var C=u.table.core,E=C.schema.primaryKey,A=E.outbound,w=E.extractKey,j=o.db._options.modifyChunkSize||200,S=[],P=0,R=[];return o.clone().primaryKeys().then(function(T){function $(M){var U=Math.min(j,T.length-M);return C.getMany({trans:h,keys:T.slice(M,M+U),cache:"immutable"}).then(function(Q){for(var ae=[],Y=[],oe=A?[]:null,ue=[],J=0;J<U;++J){var Pe=Q[J],Re={value:le(Pe),primKey:T[M+J]};m.call(Re,Re.value,Re)!==!1&&(Re.value==null?ue.push(T[M+J]):A||Ve(w(Pe),w(Re.value))===0?(Y.push(Re.value),A&&oe.push(T[M+J])):(ue.push(T[M+J]),ae.push(Re.value)))}return Promise.resolve(0<ae.length&&C.mutate({trans:h,type:"add",values:ae}).then(function(Fe){for(var De in Fe.failures)ue.splice(parseInt(De),1);b(ae.length,Fe)})).then(function(){return(0<Y.length||L&&typeof i=="object")&&C.mutate({trans:h,type:"put",keys:oe,values:Y,criteria:L,changeSpec:typeof i!="function"&&i,isAdditionalChunk:0<M}).then(function(Fe){return b(Y.length,Fe)})}).then(function(){return(0<ue.length||L&&i===Ws)&&C.mutate({trans:h,type:"delete",keys:ue,criteria:L,isAdditionalChunk:0<M}).then(function(Fe){return b(ue.length,Fe)})}).then(function(){return T.length>M+U&&$(M+j)})})}var L=vr(u)&&u.limit===1/0&&(typeof i!="function"||i===Ws)&&{index:u.index,range:u.range};return $(0).then(function(){if(0<S.length)throw new Xe("Error modifying one or more objects",S,P,R);return T.length})})})},He.prototype.delete=function(){var i=this._ctx,o=i.range;return vr(i)&&(i.isPrimKey||o.type===3)?this._write(function(u){var h=i.table.core.schema.primaryKey,d=o;return i.table.core.count({trans:u,query:{index:h,range:d}}).then(function(g){return i.table.core.mutate({trans:u,type:"deleteRange",range:d}).then(function(m){var b=m.failures;if(m.lastResult,m.results,m=m.numFailures,m)throw new Xe("Could not delete some values",Object.keys(b).map(function(C){return b[C]}),g-m);return g-m})})}):this.modify(Ws)},He);function He(){}var Ws=function(i,o){return o.value=null};function of(i,o){return i<o?-1:i===o?0:1}function af(i,o){return o<i?-1:i===o?0:1}function qt(i,o,u){return i=i instanceof Ha?new i.Collection(i):i,i._ctx.error=new(u||TypeError)(o),i}function _r(i){return new i.Collection(i,function(){return Va("")}).limit(0)}function Ai(i,o,u,h){var d,g,m,b,C,E,A,w=u.length;if(!u.every(function(P){return typeof P=="string"}))return qt(i,$a);function j(P){d=P==="next"?function(T){return T.toUpperCase()}:function(T){return T.toLowerCase()},g=P==="next"?function(T){return T.toLowerCase()}:function(T){return T.toUpperCase()},m=P==="next"?of:af;var R=u.map(function(T){return{lower:g(T),upper:d(T)}}).sort(function(T,$){return m(T.lower,$.lower)});b=R.map(function(T){return T.upper}),C=R.map(function(T){return T.lower}),A=(E=P)==="next"?"":h}j("next"),i=new i.Collection(i,function(){return Sn(b[0],C[w-1]+h)}),i._ondirectionchange=function(P){j(P)};var S=0;return i._addAlgorithm(function(P,R,T){var $=P.key;if(typeof $!="string")return!1;var L=g($);if(o(L,C,S))return!0;for(var M=null,U=S;U<w;++U){var Q=function(ae,Y,oe,ue,J,Pe){for(var Re=Math.min(ae.length,ue.length),Fe=-1,De=0;De<Re;++De){var en=Y[De];if(en!==ue[De])return J(ae[De],oe[De])<0?ae.substr(0,De)+oe[De]+oe.substr(De+1):J(ae[De],ue[De])<0?ae.substr(0,De)+ue[De]+oe.substr(De+1):0<=Fe?ae.substr(0,Fe)+Y[Fe]+oe.substr(Fe+1):null;J(ae[De],en)<0&&(Fe=De)}return Re<ue.length&&Pe==="next"?ae+oe.substr(ae.length):Re<ae.length&&Pe==="prev"?ae.substr(0,oe.length):Fe<0?null:ae.substr(0,Fe)+ue[Fe]+oe.substr(Fe+1)}($,L,b[U],C[U],m,E);Q===null&&M===null?S=U+1:(M===null||0<m(M,Q))&&(M=Q)}return R(M!==null?function(){P.continue(M+A)}:T),!1}),i}function Sn(i,o,u,h){return{type:2,lower:i,upper:o,lowerOpen:u,upperOpen:h}}function Va(i){return{type:1,lower:i,upper:i}}var Ha=(Object.defineProperty(kt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),kt.prototype.between=function(i,o,u,h){u=u!==!1,h=h===!0;try{return 0<this._cmp(i,o)||this._cmp(i,o)===0&&(u||h)&&(!u||!h)?_r(this):new this.Collection(this,function(){return Sn(i,o,!u,!h)})}catch{return qt(this,pn)}},kt.prototype.equals=function(i){return i==null?qt(this,pn):new this.Collection(this,function(){return Va(i)})},kt.prototype.above=function(i){return i==null?qt(this,pn):new this.Collection(this,function(){return Sn(i,void 0,!0)})},kt.prototype.aboveOrEqual=function(i){return i==null?qt(this,pn):new this.Collection(this,function(){return Sn(i,void 0,!1)})},kt.prototype.below=function(i){return i==null?qt(this,pn):new this.Collection(this,function(){return Sn(void 0,i,!1,!0)})},kt.prototype.belowOrEqual=function(i){return i==null?qt(this,pn):new this.Collection(this,function(){return Sn(void 0,i)})},kt.prototype.startsWith=function(i){return typeof i!="string"?qt(this,$a):this.between(i,i+Wn,!0,!0)},kt.prototype.startsWithIgnoreCase=function(i){return i===""?this.startsWith(i):Ai(this,function(o,u){return o.indexOf(u[0])===0},[i],Wn)},kt.prototype.equalsIgnoreCase=function(i){return Ai(this,function(o,u){return o===u[0]},[i],"")},kt.prototype.anyOfIgnoreCase=function(){var i=ot.apply(ye,arguments);return i.length===0?_r(this):Ai(this,function(o,u){return u.indexOf(o)!==-1},i,"")},kt.prototype.startsWithAnyOfIgnoreCase=function(){var i=ot.apply(ye,arguments);return i.length===0?_r(this):Ai(this,function(o,u){return u.some(function(h){return o.indexOf(h)===0})},i,Wn)},kt.prototype.anyOf=function(){var i=this,o=ot.apply(ye,arguments),u=this._cmp;try{o.sort(u)}catch{return qt(this,pn)}if(o.length===0)return _r(this);var h=new this.Collection(this,function(){return Sn(o[0],o[o.length-1])});h._ondirectionchange=function(g){u=g==="next"?i._ascending:i._descending,o.sort(u)};var d=0;return h._addAlgorithm(function(g,m,b){for(var C=g.key;0<u(C,o[d]);)if(++d===o.length)return m(b),!1;return u(C,o[d])===0||(m(function(){g.continue(o[d])}),!1)}),h},kt.prototype.notEqual=function(i){return this.inAnyRange([[-1/0,i],[i,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},kt.prototype.noneOf=function(){var i=ot.apply(ye,arguments);if(i.length===0)return new this.Collection(this);try{i.sort(this._ascending)}catch{return qt(this,pn)}var o=i.reduce(function(u,h){return u?u.concat([[u[u.length-1][1],h]]):[[-1/0,h]]},null);return o.push([i[i.length-1],this.db._maxKey]),this.inAnyRange(o,{includeLowers:!1,includeUppers:!1})},kt.prototype.inAnyRange=function($,o){var u=this,h=this._cmp,d=this._ascending,g=this._descending,m=this._min,b=this._max;if($.length===0)return _r(this);if(!$.every(function(L){return L[0]!==void 0&&L[1]!==void 0&&d(L[0],L[1])<=0}))return qt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",z.InvalidArgument);var C=!o||o.includeLowers!==!1,E=o&&o.includeUppers===!0,A,w=d;function j(L,M){return w(L[0],M[0])}try{(A=$.reduce(function(L,M){for(var U=0,Q=L.length;U<Q;++U){var ae=L[U];if(h(M[0],ae[1])<0&&0<h(M[1],ae[0])){ae[0]=m(ae[0],M[0]),ae[1]=b(ae[1],M[1]);break}}return U===Q&&L.push(M),L},[])).sort(j)}catch{return qt(this,pn)}var S=0,P=E?function(L){return 0<d(L,A[S][1])}:function(L){return 0<=d(L,A[S][1])},R=C?function(L){return 0<g(L,A[S][0])}:function(L){return 0<=g(L,A[S][0])},T=P,$=new this.Collection(this,function(){return Sn(A[0][0],A[A.length-1][1],!C,!E)});return $._ondirectionchange=function(L){w=L==="next"?(T=P,d):(T=R,g),A.sort(j)},$._addAlgorithm(function(L,M,U){for(var Q,ae=L.key;T(ae);)if(++S===A.length)return M(U),!1;return!P(Q=ae)&&!R(Q)||(u._cmp(ae,A[S][1])===0||u._cmp(ae,A[S][0])===0||M(function(){w===d?L.continue(A[S][0]):L.continue(A[S][1])}),!1)}),$},kt.prototype.startsWithAnyOf=function(){var i=ot.apply(ye,arguments);return i.every(function(o){return typeof o=="string"})?i.length===0?_r(this):this.inAnyRange(i.map(function(o){return[o,o+Wn]})):qt(this,"startsWithAnyOf() only works with strings")},kt);function kt(){}function an(i){return ht(function(o){return Br(o),i(o.target.error),!1})}function Br(i){i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault()}var Kr="storagemutated",Js="x-storagemutated-1",On=Fr(null,Kr),lf=(ln.prototype._lock=function(){return de(!pe.global),++this._reculock,this._reculock!==1||pe.global||(pe.lockOwnerFor=this),this},ln.prototype._unlock=function(){if(de(!pe.global),--this._reculock==0)for(pe.global||(pe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var i=this._blockedFuncs.shift();try{zn(i[1],i[0])}catch{}}return this},ln.prototype._locked=function(){return this._reculock&&pe.lockOwnerFor!==this},ln.prototype.create=function(i){var o=this;if(!this.mode)return this;var u=this.db.idbdb,h=this.db._state.dbOpenError;if(de(!this.idbtrans),!i&&!u)switch(h&&h.name){case"DatabaseClosedError":throw new z.DatabaseClosed(h);case"MissingAPIError":throw new z.MissingAPI(h.message,h);default:throw new z.OpenFailed(h)}if(!this.active)throw new z.TransactionInactive;return de(this._completion._state===null),(i=this.idbtrans=i||(this.db.core||u).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=ht(function(d){Br(d),o._reject(i.error)}),i.onabort=ht(function(d){Br(d),o.active&&o._reject(new z.Abort(i.error)),o.active=!1,o.on("abort").fire(d)}),i.oncomplete=ht(function(){o.active=!1,o._resolve(),"mutatedParts"in i&&On.storagemutated.fire(i.mutatedParts)}),this},ln.prototype._promise=function(i,o,u){var h=this;if(i==="readwrite"&&this.mode!=="readwrite")return yt(new z.ReadOnly("Transaction is readonly"));if(!this.active)return yt(new z.TransactionInactive);if(this._locked())return new he(function(g,m){h._blockedFuncs.push([function(){h._promise(i,o,u).then(g,m)},pe])});if(u)return kn(function(){var g=new he(function(m,b){h._lock();var C=o(m,b,h);C&&C.then&&C.then(m,b)});return g.finally(function(){return h._unlock()}),g._lib=!0,g});var d=new he(function(g,m){var b=o(g,m,h);b&&b.then&&b.then(g,m)});return d._lib=!0,d},ln.prototype._root=function(){return this.parent?this.parent._root():this},ln.prototype.waitFor=function(i){var o,u=this._root(),h=he.resolve(i);u._waitingFor?u._waitingFor=u._waitingFor.then(function(){return h}):(u._waitingFor=h,u._waitingQueue=[],o=u.idbtrans.objectStore(u.storeNames[0]),function g(){for(++u._spinCount;u._waitingQueue.length;)u._waitingQueue.shift()();u._waitingFor&&(o.get(-1/0).onsuccess=g)}());var d=u._waitingFor;return new he(function(g,m){h.then(function(b){return u._waitingQueue.push(ht(g.bind(null,b)))},function(b){return u._waitingQueue.push(ht(m.bind(null,b)))}).finally(function(){u._waitingFor===d&&(u._waitingFor=null)})})},ln.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new z.Abort))},ln.prototype.table=function(i){var o=this._memoizedTables||(this._memoizedTables={});if(v(o,i))return o[i];var u=this.schema[i];if(!u)throw new z.NotFound("Table "+i+" not part of transaction");return u=new this.db.Table(i,u,this),u.core=this.db.core.table(i),o[i]=u},ln);function ln(){}function Gs(i,o,u,h,d,g,m){return{name:i,keyPath:o,unique:u,multi:h,auto:d,compound:g,src:(u&&!m?"&":"")+(h?"*":"")+(d?"++":"")+za(o)}}function za(i){return typeof i=="string"?i:i?"["+[].join.call(i,"+")+"]":""}function Qs(i,o,u){return{name:i,primKey:o,indexes:u,mappedClass:null,idxByName:(h=function(d){return[d.name,d]},u.reduce(function(d,g,m){return m=h(g,m),m&&(d[m[0]]=m[1]),d},{}))};var h}var qr=function(i){try{return i.only([[]]),qr=function(){return[[]]},[[]]}catch{return qr=function(){return Wn},Wn}};function Ys(i){return i==null?function(){}:typeof i=="string"?(o=i).split(".").length===1?function(u){return u[o]}:function(u){return Ue(u,o)}:function(u){return Ue(u,i)};var o}function Wa(i){return[].slice.call(i)}var uf=0;function Vr(i){return i==null?":id":typeof i=="string"?i:"[".concat(i.join("+"),"]")}function cf(i,o,C){function h(T){if(T.type===3)return null;if(T.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var S=T.lower,P=T.upper,R=T.lowerOpen,T=T.upperOpen;return S===void 0?P===void 0?null:o.upperBound(P,!!T):P===void 0?o.lowerBound(S,!!R):o.bound(S,P,!!R,!!T)}function d(j){var S,P=j.name;return{name:P,schema:j,mutate:function(R){var T=R.trans,$=R.type,L=R.keys,M=R.values,U=R.range;return new Promise(function(Q,ae){Q=ht(Q);var Y=T.objectStore(P),oe=Y.keyPath==null,ue=$==="put"||$==="add";if(!ue&&$!=="delete"&&$!=="deleteRange")throw new Error("Invalid operation type: "+$);var J,Pe=(L||M||{length:1}).length;if(L&&M&&L.length!==M.length)throw new Error("Given keys array must have same length as given values array.");if(Pe===0)return Q({numFailures:0,failures:{},results:[],lastResult:void 0});function Re(It){++en,Br(It)}var Fe=[],De=[],en=0;if($==="deleteRange"){if(U.type===4)return Q({numFailures:en,failures:De,results:[],lastResult:void 0});U.type===3?Fe.push(J=Y.clear()):Fe.push(J=Y.delete(h(U)))}else{var oe=ue?oe?[M,L]:[M,null]:[L,null],$e=oe[0],Ot=oe[1];if(ue)for(var Ct=0;Ct<Pe;++Ct)Fe.push(J=Ot&&Ot[Ct]!==void 0?Y[$]($e[Ct],Ot[Ct]):Y[$]($e[Ct])),J.onerror=Re;else for(Ct=0;Ct<Pe;++Ct)Fe.push(J=Y[$]($e[Ct])),J.onerror=Re}function qi(It){It=It.target.result,Fe.forEach(function(Yn,yo){return Yn.error!=null&&(De[yo]=Yn.error)}),Q({numFailures:en,failures:De,results:$==="delete"?L:Fe.map(function(Yn){return Yn.result}),lastResult:It})}J.onerror=function(It){Re(It),qi(It)},J.onsuccess=qi})},getMany:function(R){var T=R.trans,$=R.keys;return new Promise(function(L,M){L=ht(L);for(var U,Q=T.objectStore(P),ae=$.length,Y=new Array(ae),oe=0,ue=0,J=function(Fe){Fe=Fe.target,Y[Fe._pos]=Fe.result,++ue===oe&&L(Y)},Pe=an(M),Re=0;Re<ae;++Re)$[Re]!=null&&((U=Q.get($[Re]))._pos=Re,U.onsuccess=J,U.onerror=Pe,++oe);oe===0&&L(Y)})},get:function(R){var T=R.trans,$=R.key;return new Promise(function(L,M){L=ht(L);var U=T.objectStore(P).get($);U.onsuccess=function(Q){return L(Q.target.result)},U.onerror=an(M)})},query:(S=E,function(R){return new Promise(function(T,$){T=ht(T);var L,M,U,oe=R.trans,Q=R.values,ae=R.limit,J=R.query,Y=ae===1/0?void 0:ae,ue=J.index,J=J.range,oe=oe.objectStore(P),ue=ue.isPrimaryKey?oe:oe.index(ue.name),J=h(J);if(ae===0)return T({result:[]});S?((Y=Q?ue.getAll(J,Y):ue.getAllKeys(J,Y)).onsuccess=function(Pe){return T({result:Pe.target.result})},Y.onerror=an($)):(L=0,M=!Q&&"openKeyCursor"in ue?ue.openKeyCursor(J):ue.openCursor(J),U=[],M.onsuccess=function(Pe){var Re=M.result;return Re?(U.push(Q?Re.value:Re.primaryKey),++L===ae?T({result:U}):void Re.continue()):T({result:U})},M.onerror=an($))})}),openCursor:function(R){var T=R.trans,$=R.values,L=R.query,M=R.reverse,U=R.unique;return new Promise(function(Q,ae){Q=ht(Q);var ue=L.index,Y=L.range,oe=T.objectStore(P),oe=ue.isPrimaryKey?oe:oe.index(ue.name),ue=M?U?"prevunique":"prev":U?"nextunique":"next",J=!$&&"openKeyCursor"in oe?oe.openKeyCursor(h(Y),ue):oe.openCursor(h(Y),ue);J.onerror=an(ae),J.onsuccess=ht(function(Pe){var Re,Fe,De,en,$e=J.result;$e?($e.___id=++uf,$e.done=!1,Re=$e.continue.bind($e),Fe=(Fe=$e.continuePrimaryKey)&&Fe.bind($e),De=$e.advance.bind($e),en=function(){throw new Error("Cursor not stopped")},$e.trans=T,$e.stop=$e.continue=$e.continuePrimaryKey=$e.advance=function(){throw new Error("Cursor not started")},$e.fail=ht(ae),$e.next=function(){var Ot=this,Ct=1;return this.start(function(){return Ct--?Ot.continue():Ot.stop()}).then(function(){return Ot})},$e.start=function(Ot){function Ct(){if(J.result)try{Ot()}catch(It){$e.fail(It)}else $e.done=!0,$e.start=function(){throw new Error("Cursor behind last entry")},$e.stop()}var qi=new Promise(function(It,Yn){It=ht(It),J.onerror=an(Yn),$e.fail=Yn,$e.stop=function(yo){$e.stop=$e.continue=$e.continuePrimaryKey=$e.advance=en,It(yo)}});return J.onsuccess=ht(function(It){J.onsuccess=Ct,Ct()}),$e.continue=Re,$e.continuePrimaryKey=Fe,$e.advance=De,Ct(),qi},Q($e)):Q(null)},ae)})},count:function(R){var T=R.query,$=R.trans,L=T.index,M=T.range;return new Promise(function(U,Q){var ae=$.objectStore(P),Y=L.isPrimaryKey?ae:ae.index(L.name),ae=h(M),Y=ae?Y.count(ae):Y.count();Y.onsuccess=ht(function(oe){return U(oe.target.result)}),Y.onerror=an(Q)})}}}var g,m,b,A=(m=C,b=Wa((g=i).objectStoreNames),{schema:{name:g.name,tables:b.map(function(j){return m.objectStore(j)}).map(function(j){var S=j.keyPath,T=j.autoIncrement,P=c(S),R={},T={name:j.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:S==null,compound:P,keyPath:S,autoIncrement:T,unique:!0,extractKey:Ys(S)},indexes:Wa(j.indexNames).map(function($){return j.index($)}).map(function(U){var L=U.name,M=U.unique,Q=U.multiEntry,U=U.keyPath,Q={name:L,compound:c(U),keyPath:U,unique:M,multiEntry:Q,extractKey:Ys(U)};return R[Vr(U)]=Q}),getIndexByKeyPath:function($){return R[Vr($)]}};return R[":id"]=T.primaryKey,S!=null&&(R[Vr(S)]=T.primaryKey),T})},hasGetAll:0<b.length&&"getAll"in m.objectStore(b[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),C=A.schema,E=A.hasGetAll,A=C.tables.map(d),w={};return A.forEach(function(j){return w[j.name]=j}),{stack:"dbcore",transaction:i.transaction.bind(i),table:function(j){if(!w[j])throw new Error("Table '".concat(j,"' not found"));return w[j]},MIN_KEY:-1/0,MAX_KEY:qr(o),schema:C}}function ff(i,o,u,h){var d=u.IDBKeyRange;return u.indexedDB,{dbcore:(h=cf(o,d,h),i.dbcore.reduce(function(g,m){return m=m.create,r(r({},g),m(g))},h))}}function ji(i,h){var u=h.db,h=ff(i._middlewares,u,i._deps,h);i.core=h.dbcore,i.tables.forEach(function(d){var g=d.name;i.core.schema.tables.some(function(m){return m.name===g})&&(d.core=i.core.table(g),i[g]instanceof i.Table&&(i[g].core=d.core))})}function Ri(i,o,u,h){u.forEach(function(d){var g=h[d];o.forEach(function(m){var b=function C(E,A){return ge(E,A)||(E=y(E))&&C(E,A)}(m,d);(!b||"value"in b&&b.value===void 0)&&(m===i.Transaction.prototype||m instanceof i.Transaction?te(m,d,{get:function(){return this.table(d)},set:function(C){q(this,d,{value:C,writable:!0,configurable:!0,enumerable:!0})}}):m[d]=new i.Table(d,g))})})}function Xs(i,o){o.forEach(function(u){for(var h in u)u[h]instanceof i.Table&&delete u[h]})}function hf(i,o){return i._cfg.version-o._cfg.version}function df(i,o,u,h){var d=i._dbSchema;u.objectStoreNames.contains("$meta")&&!d.$meta&&(d.$meta=Qs("$meta",Ga("")[0],[]),i._storeNames.push("$meta"));var g=i._createTransaction("readwrite",i._storeNames,d);g.create(u),g._completion.catch(h);var m=g._reject.bind(g),b=pe.transless||pe;kn(function(){return pe.trans=g,pe.transless=b,o!==0?(ji(i,u),E=o,((C=g).storeNames.includes("$meta")?C.table("$meta").get("version").then(function(A){return A??E}):he.resolve(E)).then(function(A){return j=A,S=g,P=u,R=[],A=(w=i)._versions,T=w._dbSchema=Di(0,w.idbdb,P),(A=A.filter(function($){return $._cfg.version>=j})).length!==0?(A.forEach(function($){R.push(function(){var L=T,M=$._cfg.dbschema;$i(w,L,P),$i(w,M,P),T=w._dbSchema=M;var U=Zs(L,M);U.add.forEach(function(ue){eo(P,ue[0],ue[1].primKey,ue[1].indexes)}),U.change.forEach(function(ue){if(ue.recreate)throw new z.Upgrade("Not yet support for changing primary key");var J=P.objectStore(ue.name);ue.add.forEach(function(Pe){return Ii(J,Pe)}),ue.change.forEach(function(Pe){J.deleteIndex(Pe.name),Ii(J,Pe)}),ue.del.forEach(function(Pe){return J.deleteIndex(Pe)})});var Q=$._cfg.contentUpgrade;if(Q&&$._cfg.version>j){ji(w,P),S._memoizedTables={};var ae=I(M);U.del.forEach(function(ue){ae[ue]=L[ue]}),Xs(w,[w.Transaction.prototype]),Ri(w,[w.Transaction.prototype],l(ae),ae),S.schema=ae;var Y,oe=et(Q);return oe&&yr(),U=he.follow(function(){var ue;(Y=Q(S))&&oe&&(ue=xn.bind(null,null),Y.then(ue,ue))}),Y&&typeof Y.then=="function"?he.resolve(Y):U.then(function(){return Y})}}),R.push(function(L){var M,U,Q=$._cfg.dbschema;M=Q,U=L,[].slice.call(U.db.objectStoreNames).forEach(function(ae){return M[ae]==null&&U.db.deleteObjectStore(ae)}),Xs(w,[w.Transaction.prototype]),Ri(w,[w.Transaction.prototype],w._storeNames,w._dbSchema),S.schema=w._dbSchema}),R.push(function(L){w.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(w.idbdb.version/10)===$._cfg.version?(w.idbdb.deleteObjectStore("$meta"),delete w._dbSchema.$meta,w._storeNames=w._storeNames.filter(function(M){return M!=="$meta"})):L.objectStore("$meta").put($._cfg.version,"version"))})}),function $(){return R.length?he.resolve(R.shift()(S.idbtrans)).then($):he.resolve()}().then(function(){Ja(T,P)})):he.resolve();var w,j,S,P,R,T}).catch(m)):(l(d).forEach(function(A){eo(u,A,d[A].primKey,d[A].indexes)}),ji(i,u),void he.follow(function(){return i.on.populate.fire(g)}).catch(m));var C,E})}function pf(i,o){Ja(i._dbSchema,o),o.db.version%10!=0||o.objectStoreNames.contains("$meta")||o.db.createObjectStore("$meta").add(Math.ceil(o.db.version/10-1),"version");var u=Di(0,i.idbdb,o);$i(i,i._dbSchema,o);for(var h=0,d=Zs(u,i._dbSchema).change;h<d.length;h++){var g=function(m){if(m.change.length||m.recreate)return console.warn("Unable to patch indexes of table ".concat(m.name," because it has changes on the type of index or primary key.")),{value:void 0};var b=o.objectStore(m.name);m.add.forEach(function(C){W&&console.debug("Dexie upgrade patch: Creating missing index ".concat(m.name,".").concat(C.src)),Ii(b,C)})}(d[h]);if(typeof g=="object")return g.value}}function Zs(i,o){var u,h={del:[],add:[],change:[]};for(u in i)o[u]||h.del.push(u);for(u in o){var d=i[u],g=o[u];if(d){var m={name:u,def:g,recreate:!1,del:[],add:[],change:[]};if(""+(d.primKey.keyPath||"")!=""+(g.primKey.keyPath||"")||d.primKey.auto!==g.primKey.auto)m.recreate=!0,h.change.push(m);else{var b=d.idxByName,C=g.idxByName,E=void 0;for(E in b)C[E]||m.del.push(E);for(E in C){var A=b[E],w=C[E];A?A.src!==w.src&&m.change.push(w):m.add.push(w)}(0<m.del.length||0<m.add.length||0<m.change.length)&&h.change.push(m)}}else h.add.push([u,g])}return h}function eo(i,o,u,h){var d=i.db.createObjectStore(o,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});return h.forEach(function(g){return Ii(d,g)}),d}function Ja(i,o){l(i).forEach(function(u){o.db.objectStoreNames.contains(u)||(W&&console.debug("Dexie: Creating missing table",u),eo(o,u,i[u].primKey,i[u].indexes))})}function Ii(i,o){i.createIndex(o.name,o.keyPath,{unique:o.unique,multiEntry:o.multi})}function Di(i,o,u){var h={};return Ce(o.objectStoreNames,0).forEach(function(d){for(var g=u.objectStore(d),m=Gs(za(E=g.keyPath),E||"",!0,!1,!!g.autoIncrement,E&&typeof E!="string",!0),b=[],C=0;C<g.indexNames.length;++C){var A=g.index(g.indexNames[C]),E=A.keyPath,A=Gs(A.name,E,!!A.unique,!!A.multiEntry,!1,E&&typeof E!="string",!1);b.push(A)}h[d]=Qs(d,m,b)}),h}function $i(i,o,u){for(var h=u.db.objectStoreNames,d=0;d<h.length;++d){var g=h[d],m=u.objectStore(g);i._hasGetAll="getAll"in m;for(var b=0;b<m.indexNames.length;++b){var C=m.indexNames[b],E=m.index(C).keyPath,A=typeof E=="string"?E:"["+Ce(E).join("+")+"]";!o[g]||(E=o[g].idxByName[A])&&(E.name=C,delete o[g].idxByName[A],o[g].idxByName[C]=E)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(i._hasGetAll=!1)}function Ga(i){return i.split(",").map(function(o,u){var h=(o=o.trim()).replace(/([&*]|\+\+)/g,""),d=/^\[/.test(h)?h.match(/^\[(.*)\]$/)[1].split("+"):h;return Gs(h,d||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),c(d),u===0)})}var gf=(Li.prototype._parseStoresSpec=function(i,o){l(i).forEach(function(u){if(i[u]!==null){var h=Ga(i[u]),d=h.shift();if(d.unique=!0,d.multi)throw new z.Schema("Primary key cannot be multi-valued");h.forEach(function(g){if(g.auto)throw new z.Schema("Only primary key can be marked as autoIncrement (++)");if(!g.keyPath)throw new z.Schema("Index must have a name and cannot be an empty string")}),o[u]=Qs(u,d,h)}})},Li.prototype.stores=function(u){var o=this.db;this._cfg.storesSource=this._cfg.storesSource?f(this._cfg.storesSource,u):u;var u=o._versions,h={},d={};return u.forEach(function(g){f(h,g._cfg.storesSource),d=g._cfg.dbschema={},g._parseStoresSpec(h,d)}),o._dbSchema=d,Xs(o,[o._allTables,o,o.Transaction.prototype]),Ri(o,[o._allTables,o,o.Transaction.prototype,this._cfg.tables],l(d),d),o._storeNames=l(d),this},Li.prototype.upgrade=function(i){return this._cfg.contentUpgrade=G(this._cfg.contentUpgrade||xe,i),this},Li);function Li(){}function to(i,o){var u=i._dbNamesDB;return u||(u=i._dbNamesDB=new yn(Oi,{addons:[],indexedDB:i,IDBKeyRange:o})).version(1).stores({dbnames:"name"}),u.table("dbnames")}function no(i){return i&&typeof i.databases=="function"}function ro(i){return kn(function(){return pe.letThrough=!0,i()})}function io(i){return!("from"in i)}var Rt=function(i,o){if(!this){var u=new Rt;return i&&"d"in i&&f(u,i),u}f(this,arguments.length?{d:1,from:i,to:1<arguments.length?o:i}:{d:0})};function Hr(i,o,u){var h=Ve(o,u);if(!isNaN(h)){if(0<h)throw RangeError();if(io(i))return f(i,{from:o,to:u,d:1});var d=i.l,h=i.r;if(Ve(u,i.from)<0)return d?Hr(d,o,u):i.l={from:o,to:u,d:1,l:null,r:null},Ya(i);if(0<Ve(o,i.to))return h?Hr(h,o,u):i.r={from:o,to:u,d:1,l:null,r:null},Ya(i);Ve(o,i.from)<0&&(i.from=o,i.l=null,i.d=h?h.d+1:1),0<Ve(u,i.to)&&(i.to=u,i.r=null,i.d=i.l?i.l.d+1:1),u=!i.r,d&&!i.l&&zr(i,d),h&&u&&zr(i,h)}}function zr(i,o){io(o)||function u(h,C){var g=C.from,m=C.to,b=C.l,C=C.r;Hr(h,g,m),b&&u(h,b),C&&u(h,C)}(i,o)}function Qa(i,o){var u=Mi(o),h=u.next();if(h.done)return!1;for(var d=h.value,g=Mi(i),m=g.next(d.from),b=m.value;!h.done&&!m.done;){if(Ve(b.from,d.to)<=0&&0<=Ve(b.to,d.from))return!0;Ve(d.from,b.from)<0?d=(h=u.next(b.from)).value:b=(m=g.next(d.from)).value}return!1}function Mi(i){var o=io(i)?null:{s:0,n:i};return{next:function(u){for(var h=0<arguments.length;o;)switch(o.s){case 0:if(o.s=1,h)for(;o.n.l&&Ve(u,o.n.from)<0;)o={up:o,n:o.n.l,s:1};else for(;o.n.l;)o={up:o,n:o.n.l,s:1};case 1:if(o.s=2,!h||Ve(u,o.n.to)<=0)return{value:o.n,done:!1};case 2:if(o.n.r){o.s=3,o={up:o,n:o.n.r,s:0};continue}case 3:o=o.up}return{done:!0}}}}function Ya(i){var o,u,h=(((o=i.r)===null||o===void 0?void 0:o.d)||0)-(((u=i.l)===null||u===void 0?void 0:u.d)||0),d=1<h?"r":h<-1?"l":"";d&&(o=d=="r"?"l":"r",u=r({},i),h=i[d],i.from=h.from,i.to=h.to,i[d]=h[d],u[d]=h[o],(i[o]=u).d=Xa(u)),i.d=Xa(i)}function Xa(u){var o=u.r,u=u.l;return(o?u?Math.max(o.d,u.d):o.d:u?u.d:0)+1}function Fi(i,o){return l(o).forEach(function(u){i[u]?zr(i[u],o[u]):i[u]=function h(d){var g,m,b={};for(g in d)v(d,g)&&(m=d[g],b[g]=!m||typeof m!="object"||ee.has(m.constructor)?m:h(m));return b}(o[u])}),i}function so(i,o){return i.all||o.all||Object.keys(i).some(function(u){return o[u]&&Qa(o[u],i[u])})}O(Rt.prototype,((Gt={add:function(i){return zr(this,i),this},addKey:function(i){return Hr(this,i,i),this},addKeys:function(i){var o=this;return i.forEach(function(u){return Hr(o,u,u)}),this},hasKey:function(i){var o=Mi(this).next(i).value;return o&&Ve(o.from,i)<=0&&0<=Ve(o.to,i)}})[Oe]=function(){return Mi(this)},Gt));var Gn={},oo={},ao=!1;function Ui(i){Fi(oo,i),ao||(ao=!0,setTimeout(function(){ao=!1,lo(oo,!(oo={}))},0))}function lo(i,o){o===void 0&&(o=!1);var u=new Set;if(i.all)for(var h=0,d=Object.values(Gn);h<d.length;h++)Za(m=d[h],i,u,o);else for(var g in i){var m,b=/^idb\:\/\/(.*)\/(.*)\//.exec(g);b&&(g=b[1],b=b[2],(m=Gn["idb://".concat(g,"/").concat(b)])&&Za(m,i,u,o))}u.forEach(function(C){return C()})}function Za(i,o,u,h){for(var d=[],g=0,m=Object.entries(i.queries.query);g<m.length;g++){for(var b=m[g],C=b[0],E=[],A=0,w=b[1];A<w.length;A++){var j=w[A];so(o,j.obsSet)?j.subscribers.forEach(function(T){return u.add(T)}):h&&E.push(j)}h&&d.push([C,E])}if(h)for(var S=0,P=d;S<P.length;S++){var R=P[S],C=R[0],E=R[1];i.queries.query[C]=E}}function yf(i){var o=i._state,u=i._deps.indexedDB;if(o.isBeingOpened||i.idbdb)return o.dbReadyPromise.then(function(){return o.dbOpenError?yt(o.dbOpenError):i});o.isBeingOpened=!0,o.dbOpenError=null,o.openComplete=!1;var h=o.openCanceller,d=Math.round(10*i.verno),g=!1;function m(){if(o.openCanceller!==h)throw new z.DatabaseClosed("db.open() was cancelled")}function b(){return new he(function(j,S){if(m(),!u)throw new z.MissingAPI;var P=i.name,R=o.autoSchema||!d?u.open(P):u.open(P,d);if(!R)throw new z.MissingAPI;R.onerror=an(S),R.onblocked=ht(i._fireOnBlocked),R.onupgradeneeded=ht(function(T){var $;A=R.transaction,o.autoSchema&&!i._options.allowEmptyDB?(R.onerror=Br,A.abort(),R.result.close(),($=u.deleteDatabase(P)).onsuccess=$.onerror=ht(function(){S(new z.NoSuchDatabase("Database ".concat(P," doesnt exist")))})):(A.onerror=an(S),T=T.oldVersion>Math.pow(2,62)?0:T.oldVersion,w=T<1,i.idbdb=R.result,g&&pf(i,A),df(i,T/10,A,S))},S),R.onsuccess=ht(function(){A=null;var T,$,L,M,U,Q=i.idbdb=R.result,ae=Ce(Q.objectStoreNames);if(0<ae.length)try{var Y=Q.transaction((M=ae).length===1?M[0]:M,"readonly");if(o.autoSchema)$=Q,L=Y,(T=i).verno=$.version/10,L=T._dbSchema=Di(0,$,L),T._storeNames=Ce($.objectStoreNames,0),Ri(T,[T._allTables],l(L),L);else if($i(i,i._dbSchema,Y),((U=Zs(Di(0,(U=i).idbdb,Y),U._dbSchema)).add.length||U.change.some(function(oe){return oe.add.length||oe.change.length}))&&!g)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Q.close(),d=Q.version+1,g=!0,j(b());ji(i,Y)}catch{}mr.push(i),Q.onversionchange=ht(function(oe){o.vcFired=!0,i.on("versionchange").fire(oe)}),Q.onclose=ht(function(oe){i.on("close").fire(oe)}),w&&(U=i._deps,Y=P,Q=U.indexedDB,U=U.IDBKeyRange,no(Q)||Y===Oi||to(Q,U).put({name:Y}).catch(xe)),j()},S)}).catch(function(j){switch(j==null?void 0:j.name){case"UnknownError":if(0<o.PR1398_maxLoop)return o.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),b();break;case"VersionError":if(0<d)return d=0,b()}return he.reject(j)})}var C,E=o.dbReadyResolve,A=null,w=!1;return he.race([h,(typeof navigator>"u"?he.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(j){function S(){return indexedDB.databases().finally(j)}C=setInterval(S,100),S()}).finally(function(){return clearInterval(C)}):Promise.resolve()).then(b)]).then(function(){return m(),o.onReadyBeingFired=[],he.resolve(ro(function(){return i.on.ready.fire(i.vip)})).then(function j(){if(0<o.onReadyBeingFired.length){var S=o.onReadyBeingFired.reduce(G,xe);return o.onReadyBeingFired=[],he.resolve(ro(function(){return S(i.vip)})).then(j)}})}).finally(function(){o.openCanceller===h&&(o.onReadyBeingFired=null,o.isBeingOpened=!1)}).catch(function(j){o.dbOpenError=j;try{A&&A.abort()}catch{}return h===o.openCanceller&&i._close(),yt(j)}).finally(function(){o.openComplete=!0,E()}).then(function(){var j;return w&&(j={},i.tables.forEach(function(S){S.schema.indexes.forEach(function(P){P.name&&(j["idb://".concat(i.name,"/").concat(S.name,"/").concat(P.name)]=new Rt(-1/0,[[[]]]))}),j["idb://".concat(i.name,"/").concat(S.name,"/")]=j["idb://".concat(i.name,"/").concat(S.name,"/:dels")]=new Rt(-1/0,[[[]]])}),On(Kr).fire(j),lo(j,!0)),i})}function uo(i){function o(g){return i.next(g)}var u=d(o),h=d(function(g){return i.throw(g)});function d(g){return function(C){var b=g(C),C=b.value;return b.done?C:C&&typeof C.then=="function"?C.then(u,h):c(C)?Promise.all(C).then(u,h):u(C)}}return d(o)()}function Ni(i,o,u){for(var h=c(i)?i.slice():[i],d=0;d<u;++d)h.push(o);return h}var mf={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(i){return r(r({},i),{table:function(o){var u=i.table(o),h=u.schema,d={},g=[];function m(w,j,S){var P=Vr(w),R=d[P]=d[P]||[],T=w==null?0:typeof w=="string"?1:w.length,$=0<j,$=r(r({},S),{name:$?"".concat(P,"(virtual-from:").concat(S.name,")"):S.name,lowLevelIndex:S,isVirtual:$,keyTail:j,keyLength:T,extractKey:Ys(w),unique:!$&&S.unique});return R.push($),$.isPrimaryKey||g.push($),1<T&&m(T===2?w[0]:w.slice(0,T-1),j+1,S),R.sort(function(L,M){return L.keyTail-M.keyTail}),$}o=m(h.primaryKey.keyPath,0,h.primaryKey),d[":id"]=[o];for(var b=0,C=h.indexes;b<C.length;b++){var E=C[b];m(E.keyPath,0,E)}function A(w){var j,S=w.query.index;return S.isVirtual?r(r({},w),{query:{index:S.lowLevelIndex,range:(j=w.query.range,S=S.keyTail,{type:j.type===1?2:j.type,lower:Ni(j.lower,j.lowerOpen?i.MAX_KEY:i.MIN_KEY,S),lowerOpen:!0,upper:Ni(j.upper,j.upperOpen?i.MIN_KEY:i.MAX_KEY,S),upperOpen:!0})}}):w}return r(r({},u),{schema:r(r({},h),{primaryKey:o,indexes:g,getIndexByKeyPath:function(w){return(w=d[Vr(w)])&&w[0]}}),count:function(w){return u.count(A(w))},query:function(w){return u.query(A(w))},openCursor:function(w){var j=w.query.index,S=j.keyTail,P=j.isVirtual,R=j.keyLength;return P?u.openCursor(A(w)).then(function($){return $&&T($)}):u.openCursor(w);function T($){return Object.create($,{continue:{value:function(L){L!=null?$.continue(Ni(L,w.reverse?i.MAX_KEY:i.MIN_KEY,S)):w.unique?$.continue($.key.slice(0,R).concat(w.reverse?i.MIN_KEY:i.MAX_KEY,S)):$.continue()}},continuePrimaryKey:{value:function(L,M){$.continuePrimaryKey(Ni(L,i.MAX_KEY,S),M)}},primaryKey:{get:function(){return $.primaryKey}},key:{get:function(){var L=$.key;return R===1?L[0]:L.slice(0,R)}},value:{get:function(){return $.value}}})}}})}})}};function co(i,o,u,h){return u=u||{},h=h||"",l(i).forEach(function(d){var g,m,b;v(o,d)?(g=i[d],m=o[d],typeof g=="object"&&typeof m=="object"&&g&&m?(b=Ye(g))!==Ye(m)?u[h+d]=o[d]:b==="Object"?co(g,m,u,h+d+"."):g!==m&&(u[h+d]=o[d]):g!==m&&(u[h+d]=o[d])):u[h+d]=void 0}),l(o).forEach(function(d){v(i,d)||(u[h+d]=o[d])}),u}function fo(i,o){return o.type==="delete"?o.keys:o.keys||o.values.map(i.extractKey)}var vf={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(i){return r(r({},i),{table:function(o){var u=i.table(o),h=u.schema.primaryKey;return r(r({},u),{mutate:function(d){var g=pe.trans,m=g.table(o).hook,b=m.deleting,C=m.creating,E=m.updating;switch(d.type){case"add":if(C.fire===xe)break;return g._promise("readwrite",function(){return A(d)},!0);case"put":if(C.fire===xe&&E.fire===xe)break;return g._promise("readwrite",function(){return A(d)},!0);case"delete":if(b.fire===xe)break;return g._promise("readwrite",function(){return A(d)},!0);case"deleteRange":if(b.fire===xe)break;return g._promise("readwrite",function(){return function w(j,S,P){return u.query({trans:j,values:!1,query:{index:h,range:S},limit:P}).then(function(R){var T=R.result;return A({type:"delete",keys:T,trans:j}).then(function($){return 0<$.numFailures?Promise.reject($.failures[0]):T.length<P?{failures:[],numFailures:0,lastResult:void 0}:w(j,r(r({},S),{lower:T[T.length-1],lowerOpen:!0}),P)})})}(d.trans,d.range,1e4)},!0)}return u.mutate(d);function A(w){var j,S,P,R=pe.trans,T=w.keys||fo(h,w);if(!T)throw new Error("Keys missing");return(w=w.type==="add"||w.type==="put"?r(r({},w),{keys:T}):r({},w)).type!=="delete"&&(w.values=s([],w.values)),w.keys&&(w.keys=s([],w.keys)),j=u,P=T,((S=w).type==="add"?Promise.resolve([]):j.getMany({trans:S.trans,keys:P,cache:"immutable"})).then(function($){var L=T.map(function(M,U){var Q,ae,Y,oe=$[U],ue={onerror:null,onsuccess:null};return w.type==="delete"?b.fire.call(ue,M,oe,R):w.type==="add"||oe===void 0?(Q=C.fire.call(ue,M,w.values[U],R),M==null&&Q!=null&&(w.keys[U]=M=Q,h.outbound||_e(w.values[U],h.keyPath,M))):(Q=co(oe,w.values[U]),(ae=E.fire.call(ue,Q,M,oe,R))&&(Y=w.values[U],Object.keys(ae).forEach(function(J){v(Y,J)?Y[J]=ae[J]:_e(Y,J,ae[J])}))),ue});return u.mutate(w).then(function(M){for(var U=M.failures,Q=M.results,ae=M.numFailures,M=M.lastResult,Y=0;Y<T.length;++Y){var oe=(Q||T)[Y],ue=L[Y];oe==null?ue.onerror&&ue.onerror(U[Y]):ue.onsuccess&&ue.onsuccess(w.type==="put"&&$[Y]?w.values[Y]:oe)}return{failures:U,results:Q,numFailures:ae,lastResult:M}}).catch(function(M){return L.forEach(function(U){return U.onerror&&U.onerror(M)}),Promise.reject(M)})})}}})}})}};function el(i,o,u){try{if(!o||o.keys.length<i.length)return null;for(var h=[],d=0,g=0;d<o.keys.length&&g<i.length;++d)Ve(o.keys[d],i[g])===0&&(h.push(u?le(o.values[d]):o.values[d]),++g);return h.length===i.length?h:null}catch{return null}}var _f={stack:"dbcore",level:-1,create:function(i){return{table:function(o){var u=i.table(o);return r(r({},u),{getMany:function(h){if(!h.cache)return u.getMany(h);var d=el(h.keys,h.trans._cache,h.cache==="clone");return d?he.resolve(d):u.getMany(h).then(function(g){return h.trans._cache={keys:h.keys,values:h.cache==="clone"?le(g):g},g})},mutate:function(h){return h.type!=="add"&&(h.trans._cache=null),u.mutate(h)}})}}}};function tl(i,o){return i.trans.mode==="readonly"&&!!i.subscr&&!i.trans.explicit&&i.trans.db._options.cache!=="disabled"&&!o.schema.primaryKey.outbound}function nl(i,o){switch(i){case"query":return o.values&&!o.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var bf={stack:"dbcore",level:0,name:"Observability",create:function(i){var o=i.schema.name,u=new Rt(i.MIN_KEY,i.MAX_KEY);return r(r({},i),{transaction:function(h,d,g){if(pe.subscr&&d!=="readonly")throw new z.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(pe.querier));return i.transaction(h,d,g)},table:function(h){var d=i.table(h),g=d.schema,m=g.primaryKey,w=g.indexes,b=m.extractKey,C=m.outbound,E=m.autoIncrement&&w.filter(function(S){return S.compound&&S.keyPath.includes(m.keyPath)}),A=r(r({},d),{mutate:function(S){function P(J){return J="idb://".concat(o,"/").concat(h,"/").concat(J),M[J]||(M[J]=new Rt)}var R,T,$,L=S.trans,M=S.mutatedParts||(S.mutatedParts={}),U=P(""),Q=P(":dels"),ae=S.type,ue=S.type==="deleteRange"?[S.range]:S.type==="delete"?[S.keys]:S.values.length<50?[fo(m,S).filter(function(J){return J}),S.values]:[],Y=ue[0],oe=ue[1],ue=S.trans._cache;return c(Y)?(U.addKeys(Y),(ue=ae==="delete"||Y.length===oe.length?el(Y,ue):null)||Q.addKeys(Y),(ue||oe)&&(R=P,T=ue,$=oe,g.indexes.forEach(function(J){var Pe=R(J.name||"");function Re(De){return De!=null?J.extractKey(De):null}function Fe(De){return J.multiEntry&&c(De)?De.forEach(function(en){return Pe.addKey(en)}):Pe.addKey(De)}(T||$).forEach(function(De,Ot){var $e=T&&Re(T[Ot]),Ot=$&&Re($[Ot]);Ve($e,Ot)!==0&&($e!=null&&Fe($e),Ot!=null&&Fe(Ot))})}))):Y?(oe={from:Y.lower,to:Y.upper},Q.add(oe),U.add(oe)):(U.add(u),Q.add(u),g.indexes.forEach(function(J){return P(J.name).add(u)})),d.mutate(S).then(function(J){return!Y||S.type!=="add"&&S.type!=="put"||(U.addKeys(J.results),E&&E.forEach(function(Pe){var Re=S.values.map(function(De){return Pe.extractKey(De)}),Fe=Pe.keyPath.findIndex(function(De){return De===m.keyPath});J.results.forEach(function(De){return Re[Fe]=De}),P(Pe.name).addKeys(Re)})),L.mutatedParts=Fi(L.mutatedParts||{},M),J})}}),w=function(P){var R=P.query,P=R.index,R=R.range;return[P,new Rt((P=R.lower)!==null&&P!==void 0?P:i.MIN_KEY,(R=R.upper)!==null&&R!==void 0?R:i.MAX_KEY)]},j={get:function(S){return[m,new Rt(S.key)]},getMany:function(S){return[m,new Rt().addKeys(S.keys)]},count:w,query:w,openCursor:w};return l(j).forEach(function(S){A[S]=function(P){var R=pe.subscr,T=!!R,$=tl(pe,d)&&nl(S,P)?P.obsSet={}:R;if(T){var L=function(oe){return oe="idb://".concat(o,"/").concat(h,"/").concat(oe),$[oe]||($[oe]=new Rt)},M=L(""),U=L(":dels"),R=j[S](P),T=R[0],R=R[1];if((S==="query"&&T.isPrimaryKey&&!P.values?U:L(T.name||"")).add(R),!T.isPrimaryKey){if(S!=="count"){var Q=S==="query"&&C&&P.values&&d.query(r(r({},P),{values:!1}));return d[S].apply(this,arguments).then(function(oe){if(S==="query"){if(C&&P.values)return Q.then(function(Re){return Re=Re.result,M.addKeys(Re),oe});var ue=P.values?oe.result.map(b):oe.result;(P.values?M:U).addKeys(ue)}else if(S==="openCursor"){var J=oe,Pe=P.values;return J&&Object.create(J,{key:{get:function(){return U.addKey(J.primaryKey),J.key}},primaryKey:{get:function(){var Re=J.primaryKey;return U.addKey(Re),Re}},value:{get:function(){return Pe&&M.addKey(J.primaryKey),J.value}}})}return oe})}U.add(u)}}return d[S].apply(this,arguments)}}),A}})}};function rl(i,o,u){if(u.numFailures===0)return o;if(o.type==="deleteRange")return null;var h=o.keys?o.keys.length:"values"in o&&o.values?o.values.length:1;return u.numFailures===h?null:(o=r({},o),c(o.keys)&&(o.keys=o.keys.filter(function(d,g){return!(g in u.failures)})),"values"in o&&c(o.values)&&(o.values=o.values.filter(function(d,g){return!(g in u.failures)})),o)}function ho(i,o){return u=i,((h=o).lower===void 0||(h.lowerOpen?0<Ve(u,h.lower):0<=Ve(u,h.lower)))&&(i=i,(o=o).upper===void 0||(o.upperOpen?Ve(i,o.upper)<0:Ve(i,o.upper)<=0));var u,h}function il(i,o,j,h,d,g){if(!j||j.length===0)return i;var m=o.query.index,b=m.multiEntry,C=o.query.range,E=h.schema.primaryKey.extractKey,A=m.extractKey,w=(m.lowLevelIndex||m).extractKey,j=j.reduce(function(S,P){var R=S,T=[];if(P.type==="add"||P.type==="put")for(var $=new Rt,L=P.values.length-1;0<=L;--L){var M,U=P.values[L],Q=E(U);$.hasKey(Q)||(M=A(U),(b&&c(M)?M.some(function(ue){return ho(ue,C)}):ho(M,C))&&($.addKey(Q),T.push(U)))}switch(P.type){case"add":R=S.concat(o.values?T:T.map(function(J){return E(J)}));break;case"put":var ae=new Rt().addKeys(P.values.map(function(J){return E(J)})),R=S.filter(function(J){return!ae.hasKey(o.values?E(J):J)}).concat(o.values?T:T.map(function(J){return E(J)}));break;case"delete":var Y=new Rt().addKeys(P.keys);R=S.filter(function(J){return!Y.hasKey(o.values?E(J):J)});break;case"deleteRange":var oe=P.range;R=S.filter(function(J){return!ho(E(J),oe)})}return R},i);return j===i?i:(j.sort(function(S,P){return Ve(w(S),w(P))||Ve(E(S),E(P))}),o.limit&&o.limit<1/0&&(j.length>o.limit?j.length=o.limit:i.length===o.limit&&j.length<o.limit&&(d.dirty=!0)),g?Object.freeze(j):j)}function sl(i,o){return Ve(i.lower,o.lower)===0&&Ve(i.upper,o.upper)===0&&!!i.lowerOpen==!!o.lowerOpen&&!!i.upperOpen==!!o.upperOpen}function wf(i,o){return function(u,h,d,g){if(u===void 0)return h!==void 0?-1:0;if(h===void 0)return 1;if((h=Ve(u,h))===0){if(d&&g)return 0;if(d)return 1;if(g)return-1}return h}(i.lower,o.lower,i.lowerOpen,o.lowerOpen)<=0&&0<=function(u,h,d,g){if(u===void 0)return h!==void 0?1:0;if(h===void 0)return-1;if((h=Ve(u,h))===0){if(d&&g)return 0;if(d)return-1;if(g)return 1}return h}(i.upper,o.upper,i.upperOpen,o.upperOpen)}function kf(i,o,u,h){i.subscribers.add(u),h.addEventListener("abort",function(){var d,g;i.subscribers.delete(u),i.subscribers.size===0&&(d=i,g=o,setTimeout(function(){d.subscribers.size===0&&be(g,d)},3e3))})}var xf={stack:"dbcore",level:0,name:"Cache",create:function(i){var o=i.schema.name;return r(r({},i),{transaction:function(u,h,d){var g,m,b=i.transaction(u,h,d);return h==="readwrite"&&(m=(g=new AbortController).signal,d=function(C){return function(){if(g.abort(),h==="readwrite"){for(var E=new Set,A=0,w=u;A<w.length;A++){var j=w[A],S=Gn["idb://".concat(o,"/").concat(j)];if(S){var P=i.table(j),R=S.optimisticOps.filter(function(Pe){return Pe.trans===b});if(b._explicit&&C&&b.mutatedParts)for(var T=0,$=Object.values(S.queries.query);T<$.length;T++)for(var L=0,M=(ae=$[T]).slice();L<M.length;L++)so((Y=M[L]).obsSet,b.mutatedParts)&&(be(ae,Y),Y.subscribers.forEach(function(Pe){return E.add(Pe)}));else if(0<R.length){S.optimisticOps=S.optimisticOps.filter(function(Pe){return Pe.trans!==b});for(var U=0,Q=Object.values(S.queries.query);U<Q.length;U++)for(var ae,Y,oe,ue=0,J=(ae=Q[U]).slice();ue<J.length;ue++)(Y=J[ue]).res!=null&&b.mutatedParts&&(C&&!Y.dirty?(oe=Object.isFrozen(Y.res),oe=il(Y.res,Y.req,R,P,Y,oe),Y.dirty?(be(ae,Y),Y.subscribers.forEach(function(Pe){return E.add(Pe)})):oe!==Y.res&&(Y.res=oe,Y.promise=he.resolve({result:oe}))):(Y.dirty&&be(ae,Y),Y.subscribers.forEach(function(Pe){return E.add(Pe)})))}}}E.forEach(function(Pe){return Pe()})}}},b.addEventListener("abort",d(!1),{signal:m}),b.addEventListener("error",d(!1),{signal:m}),b.addEventListener("complete",d(!0),{signal:m})),b},table:function(u){var h=i.table(u),d=h.schema.primaryKey;return r(r({},h),{mutate:function(g){var m=pe.trans;if(d.outbound||m.db._options.cache==="disabled"||m.explicit)return h.mutate(g);var b=Gn["idb://".concat(o,"/").concat(u)];return b?(m=h.mutate(g),g.type!=="add"&&g.type!=="put"||!(50<=g.values.length||fo(d,g).some(function(C){return C==null}))?(b.optimisticOps.push(g),g.mutatedParts&&Ui(g.mutatedParts),m.then(function(C){0<C.numFailures&&(be(b.optimisticOps,g),(C=rl(0,g,C))&&b.optimisticOps.push(C),g.mutatedParts&&Ui(g.mutatedParts))}),m.catch(function(){be(b.optimisticOps,g),g.mutatedParts&&Ui(g.mutatedParts)})):m.then(function(C){var E=rl(0,r(r({},g),{values:g.values.map(function(S,w){var j,S=(j=d.keyPath)!==null&&j!==void 0&&j.includes(".")?le(S):r({},S);return _e(S,d.keyPath,C.results[w]),S})}),C);b.optimisticOps.push(E),queueMicrotask(function(){return g.mutatedParts&&Ui(g.mutatedParts)})}),m):h.mutate(g)},query:function(g){if(!tl(pe,h)||!nl("query",g))return h.query(g);var m=((E=pe.trans)===null||E===void 0?void 0:E.db._options.cache)==="immutable",w=pe,b=w.requery,C=w.signal,E=function(P,R,T,$){var L=Gn["idb://".concat(P,"/").concat(R)];if(!L)return[];if(!(R=L.queries[T]))return[null,!1,L,null];var M=R[($.query?$.query.index.name:null)||""];if(!M)return[null,!1,L,null];switch(T){case"query":var U=M.find(function(Q){return Q.req.limit===$.limit&&Q.req.values===$.values&&sl(Q.req.query.range,$.query.range)});return U?[U,!0,L,M]:[M.find(function(Q){return("limit"in Q.req?Q.req.limit:1/0)>=$.limit&&(!$.values||Q.req.values)&&wf(Q.req.query.range,$.query.range)}),!1,L,M];case"count":return U=M.find(function(Q){return sl(Q.req.query.range,$.query.range)}),[U,!!U,L,M]}}(o,u,"query",g),A=E[0],w=E[1],j=E[2],S=E[3];return A&&w?A.obsSet=g.obsSet:(w=h.query(g).then(function(P){var R=P.result;if(A&&(A.res=R),m){for(var T=0,$=R.length;T<$;++T)Object.freeze(R[T]);Object.freeze(R)}else P.result=le(R);return P}).catch(function(P){return S&&A&&be(S,A),Promise.reject(P)}),A={obsSet:g.obsSet,promise:w,subscribers:new Set,type:"query",req:g,dirty:!1},S?S.push(A):(S=[A],(j=j||(Gn["idb://".concat(o,"/").concat(u)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[g.query.index.name||""]=S)),kf(A,S,b,C),A.promise.then(function(P){return{result:il(P.result,g,j==null?void 0:j.optimisticOps,h,A,m)}})}})}})}};function Bi(i,o){return new Proxy(i,{get:function(u,h,d){return h==="db"?o:Reflect.get(u,h,d)}})}var yn=(mt.prototype.version=function(i){if(isNaN(i)||i<.1)throw new z.Type("Given version is not a positive number");if(i=Math.round(10*i)/10,this.idbdb||this._state.isBeingOpened)throw new z.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,i);var o=this._versions,u=o.filter(function(h){return h._cfg.version===i})[0];return u||(u=new this.Version(i),o.push(u),o.sort(hf),u.stores({}),this._state.autoSchema=!1,u)},mt.prototype._whenReady=function(i){var o=this;return this.idbdb&&(this._state.openComplete||pe.letThrough||this._vip)?i():new he(function(u,h){if(o._state.openComplete)return h(new z.DatabaseClosed(o._state.dbOpenError));if(!o._state.isBeingOpened){if(!o._state.autoOpen)return void h(new z.DatabaseClosed);o.open().catch(xe)}o._state.dbReadyPromise.then(u,h)}).then(i)},mt.prototype.use=function(i){var o=i.stack,u=i.create,h=i.level,d=i.name;return d&&this.unuse({stack:o,name:d}),i=this._middlewares[o]||(this._middlewares[o]=[]),i.push({stack:o,create:u,level:h??10,name:d}),i.sort(function(g,m){return g.level-m.level}),this},mt.prototype.unuse=function(i){var o=i.stack,u=i.name,h=i.create;return o&&this._middlewares[o]&&(this._middlewares[o]=this._middlewares[o].filter(function(d){return h?d.create!==h:!!u&&d.name!==u})),this},mt.prototype.open=function(){var i=this;return zn(rt,function(){return yf(i)})},mt.prototype._close=function(){var i=this._state,o=mr.indexOf(this);if(0<=o&&mr.splice(o,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}i.isBeingOpened||(i.dbReadyPromise=new he(function(u){i.dbReadyResolve=u}),i.openCanceller=new he(function(u,h){i.cancelOpen=h}))},mt.prototype.close=function(u){var o=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,u=this._state;o?(u.isBeingOpened&&u.cancelOpen(new z.DatabaseClosed),this._close(),u.autoOpen=!1,u.dbOpenError=new z.DatabaseClosed):(this._close(),u.autoOpen=this._options.autoOpen||u.isBeingOpened,u.openComplete=!1,u.dbOpenError=null)},mt.prototype.delete=function(i){var o=this;i===void 0&&(i={disableAutoOpen:!0});var u=0<arguments.length&&typeof arguments[0]!="object",h=this._state;return new he(function(d,g){function m(){o.close(i);var b=o._deps.indexedDB.deleteDatabase(o.name);b.onsuccess=ht(function(){var C,E,A;C=o._deps,E=o.name,A=C.indexedDB,C=C.IDBKeyRange,no(A)||E===Oi||to(A,C).delete(E).catch(xe),d()}),b.onerror=an(g),b.onblocked=o._fireOnBlocked}if(u)throw new z.InvalidArgument("Invalid closeOptions argument to db.delete()");h.isBeingOpened?h.dbReadyPromise.then(m):m()})},mt.prototype.backendDB=function(){return this.idbdb},mt.prototype.isOpen=function(){return this.idbdb!==null},mt.prototype.hasBeenClosed=function(){var i=this._state.dbOpenError;return i&&i.name==="DatabaseClosed"},mt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},mt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(mt.prototype,"tables",{get:function(){var i=this;return l(this._allTables).map(function(o){return i._allTables[o]})},enumerable:!1,configurable:!0}),mt.prototype.transaction=function(){var i=(function(o,u,h){var d=arguments.length;if(d<2)throw new z.InvalidArgument("Too few arguments");for(var g=new Array(d-1);--d;)g[d-1]=arguments[d];return h=g.pop(),[o,N(g),h]}).apply(this,arguments);return this._transaction.apply(this,i)},mt.prototype._transaction=function(i,o,u){var h=this,d=pe.trans;d&&d.db===this&&i.indexOf("!")===-1||(d=null);var g,m,b=i.indexOf("?")!==-1;i=i.replace("!","").replace("?","");try{if(m=o.map(function(E){if(E=E instanceof h.Table?E.name:E,typeof E!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return E}),i=="r"||i===qs)g=qs;else{if(i!="rw"&&i!=Vs)throw new z.InvalidArgument("Invalid transaction mode: "+i);g=Vs}if(d){if(d.mode===qs&&g===Vs){if(!b)throw new z.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");d=null}d&&m.forEach(function(E){if(d&&d.storeNames.indexOf(E)===-1){if(!b)throw new z.SubTransaction("Table "+E+" not included in parent transaction.");d=null}}),b&&d&&!d.active&&(d=null)}}catch(E){return d?d._promise(null,function(A,w){w(E)}):yt(E)}var C=(function E(A,w,j,S,P){return he.resolve().then(function(){var R=pe.transless||pe,T=A._createTransaction(w,j,A._dbSchema,S);if(T.explicit=!0,R={trans:T,transless:R},S)T.idbtrans=S.idbtrans;else try{T.create(),T.idbtrans._explicit=!0,A._state.PR1398_maxLoop=3}catch(M){return M.name===tt.InvalidState&&A.isOpen()&&0<--A._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),A.close({disableAutoOpen:!1}),A.open().then(function(){return E(A,w,j,null,P)})):yt(M)}var $,L=et(P);return L&&yr(),R=he.follow(function(){var M;($=P.call(T,T))&&(L?(M=xn.bind(null,null),$.then(M,M)):typeof $.next=="function"&&typeof $.throw=="function"&&($=uo($)))},R),($&&typeof $.then=="function"?he.resolve($).then(function(M){return T.active?M:yt(new z.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):R.then(function(){return $})).then(function(M){return S&&T._resolve(),T._completion.then(function(){return M})}).catch(function(M){return T._reject(M),yt(M)})})}).bind(null,this,g,m,d,u);return d?d._promise(g,C,"lock"):pe.trans?zn(pe.transless,function(){return h._whenReady(C)}):this._whenReady(C)},mt.prototype.table=function(i){if(!v(this._allTables,i))throw new z.InvalidTable("Table ".concat(i," does not exist"));return this._allTables[i]},mt);function mt(i,o){var u=this;this._middlewares={},this.verno=0;var h=mt.dependencies;this._options=o=r({addons:mt.addons,autoOpen:!0,indexedDB:h.indexedDB,IDBKeyRange:h.IDBKeyRange,cache:"cloned"},o),this._deps={indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange},h=o.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var d,g,m,b,C,E={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:xe,dbReadyPromise:null,cancelOpen:xe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:o.autoOpen};E.dbReadyPromise=new he(function(w){E.dbReadyResolve=w}),E.openCanceller=new he(function(w,j){E.cancelOpen=j}),this._state=E,this.name=i,this.on=Fr(this,"populate","blocked","versionchange","close",{ready:[G,xe]}),this.on.ready.subscribe=Te(this.on.ready.subscribe,function(w){return function(j,S){mt.vip(function(){var P,R=u._state;R.openComplete?(R.dbOpenError||he.resolve().then(j),S&&w(j)):R.onReadyBeingFired?(R.onReadyBeingFired.push(j),S&&w(j)):(w(j),P=u,S||w(function T(){P.on.ready.unsubscribe(j),P.on.ready.unsubscribe(T)}))})}}),this.Collection=(d=this,Ur(sf.prototype,function($,T){this.db=d;var S=La,P=null;if(T)try{S=T()}catch(L){P=L}var R=$._ctx,T=R.table,$=T.hook.reading.fire;this._ctx={table:T,index:R.index,isPrimKey:!R.index||T.schema.primKey.keyPath&&R.index===T.schema.primKey.name,range:S,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:P,or:R.or,valueMapper:$!==_?$:null}})),this.Table=(g=this,Ur(Na.prototype,function(w,j,S){this.db=g,this._tx=S,this.name=w,this.schema=j,this.hook=g._allTables[w]?g._allTables[w].hook:Fr(null,{creating:[F,xe],reading:[k,_],updating:[H,xe],deleting:[V,xe]})})),this.Transaction=(m=this,Ur(lf.prototype,function(w,j,S,P,R){var T=this;this.db=m,this.mode=w,this.storeNames=j,this.schema=S,this.chromeTransactionDurability=P,this.idbtrans=null,this.on=Fr(this,"complete","error","abort"),this.parent=R||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new he(function($,L){T._resolve=$,T._reject=L}),this._completion.then(function(){T.active=!1,T.on.complete.fire()},function($){var L=T.active;return T.active=!1,T.on.error.fire($),T.parent?T.parent._reject($):L&&T.idbtrans&&T.idbtrans.abort(),yt($)})})),this.Version=(b=this,Ur(gf.prototype,function(w){this.db=b,this._cfg={version:w,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(C=this,Ur(Ha.prototype,function(w,j,S){if(this.db=C,this._ctx={table:w,index:j===":id"?null:j,or:S},this._cmp=this._ascending=Ve,this._descending=function(P,R){return Ve(R,P)},this._max=function(P,R){return 0<Ve(P,R)?P:R},this._min=function(P,R){return Ve(P,R)<0?P:R},this._IDBKeyRange=C._deps.IDBKeyRange,!this._IDBKeyRange)throw new z.MissingAPI})),this.on("versionchange",function(w){0<w.newVersion?console.warn("Another connection wants to upgrade database '".concat(u.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(u.name,"'. Closing db now to resume the delete request.")),u.close({disableAutoOpen:!1})}),this.on("blocked",function(w){!w.newVersion||w.newVersion<w.oldVersion?console.warn("Dexie.delete('".concat(u.name,"') was blocked")):console.warn("Upgrade '".concat(u.name,"' blocked by other connection holding version ").concat(w.oldVersion/10))}),this._maxKey=qr(o.IDBKeyRange),this._createTransaction=function(w,j,S,P){return new u.Transaction(w,j,S,u._options.chromeTransactionDurability,P)},this._fireOnBlocked=function(w){u.on("blocked").fire(w),mr.filter(function(j){return j.name===u.name&&j!==u&&!j._state.vcFired}).map(function(j){return j.on("versionchange").fire(w)})},this.use(_f),this.use(xf),this.use(bf),this.use(mf),this.use(vf);var A=new Proxy(this,{get:function(w,j,S){if(j==="_vip")return!0;if(j==="table")return function(R){return Bi(u.table(R),A)};var P=Reflect.get(w,j,S);return P instanceof Na?Bi(P,A):j==="tables"?P.map(function(R){return Bi(R,A)}):j==="_createTransaction"?function(){return Bi(P.apply(this,arguments),A)}:P}});this.vip=A,h.forEach(function(w){return w(u)})}var Ki,Gt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ef=(po.prototype.subscribe=function(i,o,u){return this._subscribe(i&&typeof i!="function"?i:{next:i,error:o,complete:u})},po.prototype[Gt]=function(){return this},po);function po(i){this._subscribe=i}try{Ki={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{Ki={indexedDB:null,IDBKeyRange:null}}function ol(i){var o,u=!1,h=new Ef(function(d){var g=et(i),m,b=!1,C={},E={},A={get closed(){return b},unsubscribe:function(){b||(b=!0,m&&m.abort(),w&&On.storagemutated.unsubscribe(S))}};d.start&&d.start(A);var w=!1,j=function(){return Ks(P)},S=function(R){Fi(C,R),so(E,C)&&j()},P=function(){var R,T,$;!b&&Ki.indexedDB&&(C={},R={},m&&m.abort(),m=new AbortController,$=function(L){var M=pr();try{g&&yr();var U=kn(i,L);return U=g?U.finally(xn):U}finally{M&&gr()}}(T={subscr:R,signal:m.signal,requery:j,querier:i,trans:null}),Promise.resolve($).then(function(L){u=!0,o=L,b||T.signal.aborted||(C={},function(M){for(var U in M)if(v(M,U))return;return 1}(E=R)||w||(On(Kr,S),w=!0),Ks(function(){return!b&&d.next&&d.next(L)}))},function(L){u=!1,["DatabaseClosedError","AbortError"].includes(L==null?void 0:L.name)||b||Ks(function(){b||d.error&&d.error(L)})}))};return setTimeout(j,0),A});return h.hasValue=function(){return u},h.getValue=function(){return o},h}var Qn=yn;function go(i){var o=Cn;try{Cn=!0,On.storagemutated.fire(i),lo(i,!0)}finally{Cn=o}}O(Qn,r(r({},ze),{delete:function(i){return new Qn(i,{addons:[]}).delete()},exists:function(i){return new Qn(i,{addons:[]}).open().then(function(o){return o.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(i){try{return o=Qn.dependencies,u=o.indexedDB,o=o.IDBKeyRange,(no(u)?Promise.resolve(u.databases()).then(function(h){return h.map(function(d){return d.name}).filter(function(d){return d!==Oi})}):to(u,o).toCollection().primaryKeys()).then(i)}catch{return yt(new z.MissingAPI)}var o,u},defineClass:function(){return function(i){f(this,i)}},ignoreTransaction:function(i){return pe.trans?zn(pe.transless,i):i()},vip:ro,async:function(i){return function(){try{var o=uo(i.apply(this,arguments));return o&&typeof o.then=="function"?o:he.resolve(o)}catch(u){return yt(u)}}},spawn:function(i,o,u){try{var h=uo(i.apply(u,o||[]));return h&&typeof h.then=="function"?h:he.resolve(h)}catch(d){return yt(d)}},currentTransaction:{get:function(){return pe.trans||null}},waitFor:function(i,o){return o=he.resolve(typeof i=="function"?Qn.ignoreTransaction(i):i).timeout(o||6e4),pe.trans?pe.trans.waitFor(o):o},Promise:he,debug:{get:function(){return W},set:function(i){B(i)}},derive:X,extend:f,props:O,override:Te,Events:Fr,on:On,liveQuery:ol,extendObservabilitySet:Fi,getByKeyPath:Ue,setByKeyPath:_e,delByKeyPath:function(i,o){typeof o=="string"?_e(i,o,void 0):"length"in o&&[].map.call(o,function(u){_e(i,u,void 0)})},shallowClone:I,deepClone:le,getObjectDiff:co,cmp:Ve,asap:Se,minKey:-1/0,addons:[],connections:mr,errnames:tt,dependencies:Ki,cache:Gn,semVer:"4.0.8",version:"4.0.8".split(".").map(function(i){return parseInt(i)}).reduce(function(i,o,u){return i+o/Math.pow(10,2*u)})})),Qn.maxKey=qr(Qn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(On(Kr,function(i){Cn||(i=new CustomEvent(Js,{detail:i}),Cn=!0,dispatchEvent(i),Cn=!1)}),addEventListener(Js,function(i){i=i.detail,Cn||go(i)}));var br,Cn=!1,al=function(){};return typeof BroadcastChannel<"u"&&((al=function(){(br=new BroadcastChannel(Js)).onmessage=function(i){return i.data&&go(i.data)}})(),typeof br.unref=="function"&&br.unref(),On(Kr,function(i){Cn||br.postMessage(i)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(i){if(!yn.disableBfCache&&i.persisted){W&&console.debug("Dexie: handling persisted pagehide"),br!=null&&br.close();for(var o=0,u=mr;o<u.length;o++)u[o].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(i){!yn.disableBfCache&&i.persisted&&(W&&console.debug("Dexie: handling persisted pageshow"),al(),go({all:new Rt(-1/0,[[]])}))})),he.rejectionMapper=function(i,o){return!i||i instanceof Ke||i instanceof TypeError||i instanceof SyntaxError||!i.name||!Me[i.name]?i:(o=new Me[i.name](o||i.message,i),"stack"in i&&te(o,"stack",{get:function(){return this.inner.stack}}),o)},B(W),r(yn,Object.freeze({__proto__:null,Dexie:yn,liveQuery:ol,Entity:Ma,cmp:Ve,PropModSymbol:gn,PropModification:Nr,replacePrefix:function(i,o){return new Nr({replacePrefix:[i,o]})},add:function(i){return new Nr({add:i})},remove:function(i){return new Nr({remove:i})},default:yn,RangeSet:Rt,mergeRanges:zr,rangesOverlap:Qa}),{default:yn}),yn})})(Oc);var mp=Oc.exports;const Go=Ec(mp),Gl=Symbol.for("Dexie"),Qo=globalThis[Gl]||(globalThis[Gl]=Go);if(Go.semVer!==Qo.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Go.semVer} and ${Qo.semVer}`);const Fn=new Qo("DictionaryDB");Fn.version(1).stores({words:"id,type,chinese,romaji,classification,audioid,english",definitions:"defid,wordid,partofspeech,def_chinese,def_english"});async function vp(){try{const e=await(await fetch("./src/assets/taigiwords.csv")).text(),r=await(await fetch("./src/assets/taigidefs.csv")).text();Jl.parse(e,{header:!0,dynamicTyping:!0,complete:async s=>{console.log("CSV Data:",s.data);const a=s.data;await Fn.words.clear(),await Fn.words.bulkAdd(a)},error:s=>{console.error("CSV Parsing Error:",s)}}),Jl.parse(r,{header:!0,dynamicTyping:!0,complete:async s=>{console.log("CSV Data:",s.data);const a=s.data;await Fn.definitions.clear(),await Fn.definitions.bulkAdd(a)},error:s=>{console.error("CSV Parsing Error:",s)}})}catch(t){console.error("Error loading CSV file:",t)}}async function Cc(t){let e=window.speechSynthesis.getVoices();e.length===0&&(await new Promise(r=>window.speechSynthesis.addEventListener("voiceschanged",r,{once:!0})),e=window.speechSynthesis.getVoices());const n=new SpeechSynthesisUtterance(t);n.lang="zh-TW",n.voice=e.find(r=>r.name==="Meijia"),window.speechSynthesis.speak(n)}async function Tc(t){let e=window.speechSynthesis.getVoices();e.length===0&&(await new Promise(s=>window.speechSynthesis.addEventListener("voiceschanged",s,{once:!0})),e=window.speechSynthesis.getVoices());const n=e.filter(s=>s.lang==="en-US");console.log(n);const r=new SpeechSynthesisUtterance(t);r.lang="en-US",r.voice=e.find(s=>s.name==="Samantha"),window.speechSynthesis.speak(r)}const fr=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},_p={},bp={class:"icon-play-container"};function wp(t,e){return Ne(),Qe("div",bp,e[0]||(e[0]=[re("svg",{class:"play-audio",width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[re("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.9177 4.9473L19.4897 4.3313L18.2577 5.1873L18.6857 5.8023C21.3027 9.5713 21.3027 14.4363 18.6857 18.1973L18.2577 18.8123L19.4887 19.6693L19.9177 19.0533C22.8497 14.8393 22.8497 9.1703 19.9177 4.9473Z"}),re("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.2312 7.6226L16.8582 6.9716L15.5572 7.7166L15.9292 8.3676C17.2142 10.6126 17.2142 13.3966 15.9302 15.6336L15.5562 16.2836L16.8572 17.0306L17.2312 16.3806C18.7792 13.6836 18.7792 10.3276 17.2312 7.6226Z"}),re("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.0788 7.564H2.3848V8.064C2.3828 10.688 2.3828 13.312 2.3848 15.937V16.436H7.0788L11.2048 20.013H12.6678V3.987H11.2048L7.0788 7.564Z"})],-1)]))}const si=fr(_p,[["render",wp],["__scopeId","data-v-10fa8cd0"]]),kp={props:{audioID:{type:String,required:!0}},components:{IconPlayAudio:si},data(){return{isPlaying:!1,baseSrc:"src/assets/audio_taigi/"}},computed:{fullSrc(){return`${this.baseSrc}${getAudioFolder(this.audioid)}/${audioid}.mp3`}},methods:{togglePlay(){const t=this.$refs.audio;this.isPlaying?t.pause():t.play(),this.isPlaying=!this.isPlaying},audioEnded(){this.isPlaying=!1,console.log("Audio has finished playing.")},getAudioFolder(t){if(console.log(t),t){const e=parseInt(t.match(/^(\d+)\(/)[1]);return e<1e3?"0":e>=1e3&&e<2e3?"1":e>=2e3&&e<3e3?"2":e>=3e3&&e<4e3?"3":e>=4e3&&e<5e3?"4":e>=5e3&&e<6e3?"5":e>=6e3&&e<7e3?"6":e>=7e3&&e<8e3?"7":e>=8e3&&e<9e3?"8":e>=9e3&&e<1e4?"9":e>=1e4&&e<11e3?"10":e>=11e3&&e<12e3?"11":e>=12e3&&e<13e3?"12":e>=13e3&&e<14e3?"13":e>=14e3&&e<15e3?"14":e>=15e3&&e<16e3?"15":e>=16e3&&e<17e3?"16":e>=17e3&&e<18e3?"17":e>=18e3&&e<19e3?"18":e>=19e3&&e<2e4?"19":e>=2e4&&e<21e3?"20":e>=21e3&&e<22e3?"21":e>=22e3&&e<23e3?"22":e>=23e3&&e<24e3?"23":e>=24e3&&e<25e3?"24":e>=25e3&&e<26e3?"25":e>=26e3&&e<27e3?"26":e>=27e3&&e<28e3?"27":e>=28e3&&e<29e3?"28":"Out of range"}}},mounted(){this.$refs.audio},beforeDestroy(){this.$refs.audio}},xp={class:"audio-player"},Ep=["src"];function Sp(t,e,n,r,s,a){const l=Xr("IconPlayAudio");return Ne(),Qe("div",xp,[re("audio",{ref:"audio",src:`${this.baseSrc}${a.getAudioFolder(n.audioID)}/${n.audioID}.mp3`,onEnded:e[0]||(e[0]=(...c)=>a.audioEnded&&a.audioEnded(...c))},null,40,Ep),ut(l,{onClick:a.togglePlay},null,8,["onClick"])])}const Pc=fr(kp,[["render",Sp],["__scopeId","data-v-68cbd314"]]),Op="modulepreload",Cp=function(t){return"/taigi-dict-app/"+t},Ql={},Dr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(n.map(f=>{if(f=Cp(f),f in Ql)return;Ql[f]=!0;const y=f.endsWith(".css"),p=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const v=document.createElement("link");if(v.rel=y?"stylesheet":Op,y||(v.as="script"),v.crossOrigin="",v.href=f,c&&v.setAttribute("nonce",c),document.head.appendChild(v),y)return new Promise((O,q)=>{v.addEventListener("load",O),v.addEventListener("error",()=>q(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})},Tp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Dr(async()=>{const{default:r}=await Promise.resolve().then(()=>Lr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Oa extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Pp extends Oa{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ap extends Oa{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class jp extends Oa{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Yo;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Yo||(Yo={}));var Rp=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{y(r.next(p))}catch(v){l(v)}}function f(p){try{y(r.throw(p))}catch(v){l(v)}}function y(p){p.done?a(p.value):s(p.value).then(c,f)}y((r=r.apply(t,e||[])).next())})};class Ip{constructor(e,{headers:n={},customFetch:r,region:s=Yo.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Tp(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Rp(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:l}=n;let c={},{region:f}=n;f||(f=this.region),f&&f!=="any"&&(c["x-region"]=f);let y;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",y=l):typeof l=="string"?(c["Content-Type"]="text/plain",y=l):typeof FormData<"u"&&l instanceof FormData?y=l:(c["Content-Type"]="application/json",y=JSON.stringify(l)));const p=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:y}).catch(te=>{throw new Pp(te)}),v=p.headers.get("x-relay-error");if(v&&v==="true")throw new Ap(p);if(!p.ok)throw new jp(p);let O=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),q;return O==="application/json"?q=yield p.json():O==="application/octet-stream"?q=yield p.blob():O==="text/event-stream"?q=p:O==="multipart/form-data"?q=yield p.formData():q=yield p.text(),{data:q,error:null}}catch(s){return{data:null,error:s}}})}}var Nt={},Ca={},js={},_i={},Rs={},Is={},Dp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},$r=Dp();const $p=$r.fetch,Ac=$r.fetch.bind($r),jc=$r.Headers,Lp=$r.Request,Mp=$r.Response,Lr=Object.freeze(Object.defineProperty({__proto__:null,Headers:jc,Request:Lp,Response:Mp,default:Ac,fetch:$p},Symbol.toStringTag,{value:"Module"})),Fp=gp(Lr);var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});class Up extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}Ds.default=Up;var Rc=Ft&&Ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Is,"__esModule",{value:!0});const Np=Rc(Fp),Bp=Rc(Ds);let Kp=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Np.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var l,c,f;let y=null,p=null,v=null,O=a.status,q=a.statusText;if(a.ok){if(this.method!=="HEAD"){const ve=await a.text();ve===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=ve:p=JSON.parse(ve))}const X=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),ge=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");X&&ge&&ge.length>1&&(v=parseInt(ge[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(y={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,v=null,O=406,q="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const X=await a.text();try{y=JSON.parse(X),Array.isArray(y)&&a.status===404&&(p=[],y=null,O=200,q="OK")}catch{a.status===404&&X===""?(O=204,q="No Content"):y={message:X}}if(y&&this.isMaybeSingle&&(!((f=y==null?void 0:y.details)===null||f===void 0)&&f.includes("0 rows"))&&(y=null,O=200,q="OK"),y&&this.shouldThrowOnError)throw new Bp.default(y)}return{error:y,data:p,count:v,status:O,statusText:q}});return this.shouldThrowOnError||(s=s.catch(a=>{var l,c,f;return{error:{message:`${(l=a==null?void 0:a.name)!==null&&l!==void 0?l:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(c=a==null?void 0:a.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(f=a==null?void 0:a.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}};Is.default=Kp;var qp=Ft&&Ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Rs,"__esModule",{value:!0});const Vp=qp(Is);let Hp=class extends Vp.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:a=s}={}){const l=a?`${a}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const a=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(l,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:a=!1,format:l="text"}={}){var c;const f=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),y=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${y}"; options=${f};`,l==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Rs.default=Hp;var zp=Ft&&Ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_i,"__esModule",{value:!0});const Wp=zp(Rs);let Jp=class extends Wp.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${l}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};_i.default=Jp;var Gp=Ft&&Ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(js,"__esModule",{value:!0});const Qr=Gp(_i);let Qp=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let a=!1;const l=(e??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",l),r&&(this.headers.Prefer=`count=${r}`),new Qr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(l.length>0){const c=[...new Set(l)].map(f=>`"${f}"`);this.url.searchParams.set("columns",c.join(","))}}return new Qr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:a=!0}={}){const l="POST",c=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),a||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(e)){const f=e.reduce((y,p)=>y.concat(Object.keys(p)),[]);if(f.length>0){const y=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",y.join(","))}}return new Qr.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Qr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Qr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};js.default=Qp;var $s={},Ls={};Object.defineProperty(Ls,"__esModule",{value:!0});Ls.version=void 0;Ls.version="0.0.0-automated";Object.defineProperty($s,"__esModule",{value:!0});$s.DEFAULT_HEADERS=void 0;const Yp=Ls;$s.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Yp.version}`};var Ic=Ft&&Ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ca,"__esModule",{value:!0});const Xp=Ic(js),Zp=Ic(_i),eg=$s;let tg=class Dc{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},eg.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new Xp.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Dc(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:a}={}){let l;const c=new URL(`${this.url}/rpc/${e}`);let f;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([p,v])=>v!==void 0).map(([p,v])=>[p,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([p,v])=>{c.searchParams.append(p,v)})):(l="POST",f=n);const y=Object.assign({},this.headers);return a&&(y.Prefer=`count=${a}`),new Zp.default({method:l,url:c,headers:y,schema:this.schemaName,body:f,fetch:this.fetch,allowEmpty:!1})}};Ca.default=tg;var Mr=Ft&&Ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.PostgrestError=Nt.PostgrestBuilder=Nt.PostgrestTransformBuilder=Nt.PostgrestFilterBuilder=Nt.PostgrestQueryBuilder=Nt.PostgrestClient=void 0;const $c=Mr(Ca);Nt.PostgrestClient=$c.default;const Lc=Mr(js);Nt.PostgrestQueryBuilder=Lc.default;const Mc=Mr(_i);Nt.PostgrestFilterBuilder=Mc.default;const Fc=Mr(Rs);Nt.PostgrestTransformBuilder=Fc.default;const Uc=Mr(Is);Nt.PostgrestBuilder=Uc.default;const Nc=Mr(Ds);Nt.PostgrestError=Nc.default;var ng=Nt.default={PostgrestClient:$c.default,PostgrestQueryBuilder:Lc.default,PostgrestFilterBuilder:Mc.default,PostgrestTransformBuilder:Fc.default,PostgrestBuilder:Uc.default,PostgrestError:Nc.default};const{PostgrestClient:rg,PostgrestQueryBuilder:$m,PostgrestFilterBuilder:Lm,PostgrestTransformBuilder:Mm,PostgrestBuilder:Fm}=ng,ig="2.10.7",sg={"X-Client-Info":`realtime-js/${ig}`},og="1.0.0",Bc=1e4,ag=1e3;var Ir;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ir||(Ir={}));var zt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(zt||(zt={}));var nn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(nn||(nn={}));var Xo;(function(t){t.websocket="websocket"})(Xo||(Xo={}));var ar;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ar||(ar={}));class lg{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),a=n.getUint8(2);let l=this.HEADER_LENGTH+2;const c=r.decode(e.slice(l,l+s));l=l+s;const f=r.decode(e.slice(l,l+a));l=l+a;const y=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{ref:null,topic:c,event:f,payload:y}}}class Kc{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var at;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(at||(at={}));const Yl=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,l)=>(a[l]=ug(l,t,e,s),a),{})},ug=(t,e,n,r)=>{const s=e.find(c=>c.name===t),a=s==null?void 0:s.type,l=n[t];return a&&!r.includes(a)?qc(a,l):Zo(l)},qc=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return dg(e,n)}switch(t){case at.bool:return cg(e);case at.float4:case at.float8:case at.int2:case at.int4:case at.int8:case at.numeric:case at.oid:return fg(e);case at.json:case at.jsonb:return hg(e);case at.timestamp:return pg(e);case at.abstime:case at.date:case at.daterange:case at.int4range:case at.int8range:case at.money:case at.reltime:case at.text:case at.time:case at.timestamptz:case at.timetz:case at.tsrange:case at.tstzrange:return Zo(e);default:return Zo(e)}},Zo=t=>t,cg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},fg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},hg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},dg=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const l=t.slice(1,n);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(c=>qc(e,c))}return t},pg=t=>typeof t=="string"?t.replace(" ","T"):t,Vc=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class jo{constructor(e,n,r={},s=Bc){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Xl;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Xl||(Xl={}));class oi{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=oi.syncState(this.state,s,a,l),this.pendingDiffs.forEach(f=>{this.state=oi.syncDiff(this.state,f,a,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},s=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=oi.syncDiff(this.state,s,a,l),c())}),this.onJoin((s,a,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:l})}),this.onLeave((s,a,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const a=this.cloneDeep(e),l=this.transformState(n),c={},f={};return this.map(a,(y,p)=>{l[y]||(f[y]=p)}),this.map(l,(y,p)=>{const v=a[y];if(v){const O=p.map(ge=>ge.presence_ref),q=v.map(ge=>ge.presence_ref),te=p.filter(ge=>q.indexOf(ge.presence_ref)<0),X=v.filter(ge=>O.indexOf(ge.presence_ref)<0);te.length>0&&(c[y]=te),X.length>0&&(f[y]=X)}else c[y]=p}),this.syncDiff(a,{joins:c,leaves:f},r,s)}static syncDiff(e,n,r,s){const{joins:a,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,(c,f)=>{var y;const p=(y=e[c])!==null&&y!==void 0?y:[];if(e[c]=this.cloneDeep(f),p.length>0){const v=e[c].map(q=>q.presence_ref),O=p.filter(q=>v.indexOf(q.presence_ref)<0);e[c].unshift(...O)}r(c,p,f)}),this.map(l,(c,f)=>{let y=e[c];if(!y)return;const p=f.map(v=>v.presence_ref);y=y.filter(v=>p.indexOf(v.presence_ref)<0),e[c]=y,s(c,y,f),y.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Zl;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Zl||(Zl={}));var eu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(eu||(eu={}));var tu;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(tu||(tu={}));class Ta{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=zt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new jo(this,nn.join,this.params,this.timeout),this.rejoinTimer=new Kc(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=zt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=zt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nn.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new oi(this),this.broadcastEndpointURL=Vc(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:l,private:c}}=this.params;this._onError(p=>e&&e("CHANNEL_ERROR",p)),this._onClose(()=>e&&e("CLOSED"));const f={},y={broadcast:a,presence:l,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],private:c};this.socket.accessToken&&(f.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:y},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:p})=>{var v;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),p===void 0){e&&e("SUBSCRIBED");return}else{const O=this.bindings.postgres_changes,q=(v=O==null?void 0:O.length)!==null&&v!==void 0?v:0,te=[];for(let X=0;X<q;X++){const ge=O[X],{filter:{event:ve,schema:Ce,table:Te,filter:de}}=ge,Se=p&&p[X];if(Se&&Se.event===ve&&Se.schema===Ce&&Se.table===Te&&Se.filter===de)te.push(Object.assign(Object.assign({},ge),{id:Se.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=te,e&&e("SUBSCRIBED");return}}).receive("error",p=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:l}=e,c={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=f.body)===null||s===void 0?void 0:s.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,c,f;const y=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),y.receive("ok",()=>a("ok")),y.receive("error",()=>a("error")),y.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=zt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new jo(this,nn.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,a=setTimeout(()=>s.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),l}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new jo(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,a;const l=e.toLocaleLowerCase(),{close:c,error:f,leave:y,join:p}=nn;if(r&&[c,f,y,p].indexOf(l)>=0&&r!==this._joinRef())return;let O=this._onMessage(l,n,r);if(n&&!O)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(q=>{var te,X,ge;return((te=q.filter)===null||te===void 0?void 0:te.event)==="*"||((ge=(X=q.filter)===null||X===void 0?void 0:X.event)===null||ge===void 0?void 0:ge.toLocaleLowerCase())===l}).map(q=>q.callback(O,r)):(a=this.bindings[l])===null||a===void 0||a.filter(q=>{var te,X,ge,ve,Ce,Te;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in q){const de=q.id,Se=(te=q.filter)===null||te===void 0?void 0:te.event;return de&&((X=n.ids)===null||X===void 0?void 0:X.includes(de))&&(Se==="*"||(Se==null?void 0:Se.toLocaleLowerCase())===((ge=n.data)===null||ge===void 0?void 0:ge.type.toLocaleLowerCase()))}else{const de=(Ce=(ve=q==null?void 0:q.filter)===null||ve===void 0?void 0:ve.event)===null||Ce===void 0?void 0:Ce.toLocaleLowerCase();return de==="*"||de===((Te=n==null?void 0:n.event)===null||Te===void 0?void 0:Te.toLocaleLowerCase())}else return q.type.toLocaleLowerCase()===l}).map(q=>{if(typeof O=="object"&&"ids"in O){const te=O.data,{schema:X,table:ge,commit_timestamp:ve,type:Ce,errors:Te}=te;O=Object.assign(Object.assign({},{schema:X,table:ge,commit_timestamp:ve,eventType:Ce,new:{},old:{},errors:Te}),this._getPayloadRecords(te))}q.callback(O,r)})}_isClosed(){return this.state===zt.closed}_isJoined(){return this.state===zt.joined}_isJoining(){return this.state===zt.joining}_isLeaving(){return this.state===zt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),a={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Ta.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(nn.close,{},e)}_onError(e){this._on(nn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Yl(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Yl(e.columns,e.old_record)),n}}const gg=()=>{},yg=typeof WebSocket<"u",mg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vg{constructor(e,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=sg,this.params={},this.timeout=Bc,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=gg,this.conn=null,this.sendBuffer=[],this.serializer=new lg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=a=>{let l;return a?l=a:typeof fetch>"u"?l=(...c)=>Dr(async()=>{const{default:f}=await Promise.resolve().then(()=>Lr);return{default:f}},void 0).then(({default:f})=>f(...c)):l=fetch,(...c)=>l(...c)},this.endPoint=`${e}/${Xo.websocket}`,this.httpEndpoint=Vc(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,l)=>l(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Kc(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(yg){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new _g(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Dr(async()=>{const{default:e}=await import("./browser-BZDrGt7M.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ir.connecting:return ar.Connecting;case Ir.open:return ar.Open;case Ir.closing:return ar.Closing;default:return ar.Closed}}isConnected(){return this.connectionState()===ar.Open}channel(e,n={config:{}}){const r=new Ta(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:a}=e,l=()=>{this.encode(e,c=>{var f;(f=this.conn)===null||f===void 0||f.send(c)})};this.log("push",`${n} ${r} (${a})`,s),this.isConnected()?l():this.sendBuffer.push(l)}setAuth(e){this.accessToken=e,this.channels.forEach(n=>{e&&n.updateJoinPayload({access_token:e}),n.joinedOnce&&n._isJoined()&&n._push(nn.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:og}))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:a,ref:l}=n;(l&&l===this.pendingHeartbeatRef||s===(a==null?void 0:a.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${s} ${l&&"("+l+")"||""}`,a),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,a,l)),this.stateChangeCallbacks.message.forEach(c=>c(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(nn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(ag,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([mg],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class _g{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ir.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Pa extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function xt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class bg extends Pa{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ea extends Pa{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var wg=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{y(r.next(p))}catch(v){l(v)}}function f(p){try{y(r.throw(p))}catch(v){l(v)}}function y(p){p.done?a(p.value):s(p.value).then(c,f)}y((r=r.apply(t,e||[])).next())})};const Hc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Dr(async()=>{const{default:r}=await Promise.resolve().then(()=>Lr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},kg=()=>wg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Dr(()=>Promise.resolve().then(()=>Lr),void 0)).Response:Response}),ta=t=>{if(Array.isArray(t))return t.map(n=>ta(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[s]=ta(r)}),e};var hr=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{y(r.next(p))}catch(v){l(v)}}function f(p){try{y(r.throw(p))}catch(v){l(v)}}function y(p){p.done?a(p.value):s(p.value).then(c,f)}y((r=r.apply(t,e||[])).next())})};const Ro=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),xg=(t,e,n)=>hr(void 0,void 0,void 0,function*(){const r=yield kg();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new bg(Ro(s),t.status||500))}).catch(s=>{e(new ea(Ro(s),s))}):e(new ea(Ro(t),t))}),Eg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function bi(t,e,n,r,s,a){return hr(this,void 0,void 0,function*(){return new Promise((l,c)=>{t(n,Eg(e,r,s,a)).then(f=>{if(!f.ok)throw f;return r!=null&&r.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>xg(f,c,r))})})}function ps(t,e,n,r){return hr(this,void 0,void 0,function*(){return bi(t,"GET",e,n,r)})}function Ln(t,e,n,r,s){return hr(this,void 0,void 0,function*(){return bi(t,"POST",e,r,s,n)})}function Sg(t,e,n,r,s){return hr(this,void 0,void 0,function*(){return bi(t,"PUT",e,r,s,n)})}function Og(t,e,n,r){return hr(this,void 0,void 0,function*(){return bi(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function zc(t,e,n,r,s){return hr(this,void 0,void 0,function*(){return bi(t,"DELETE",e,r,s,n)})}var Ut=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{y(r.next(p))}catch(v){l(v)}}function f(p){try{y(r.throw(p))}catch(v){l(v)}}function y(p){p.done?a(p.value):s(p.value).then(c,f)}y((r=r.apply(t,e||[])).next())})};const Cg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Tg{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Hc(s)}uploadOrUpdate(e,n,r,s){return Ut(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},nu),s);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),f&&a.append("metadata",this.encodeMetadata(f)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",l.cacheControl),f&&a.append("metadata",this.encodeMetadata(f))):(a=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,f&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),s!=null&&s.headers&&(c=Object.assign(Object.assign({},c),s.headers));const y=this._removeEmptyFolders(n),p=this._getFinalPath(y),v=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:e,body:a,headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{})),O=yield v.json();return v.ok?{data:{path:y,id:O.Id,fullPath:O.Key},error:null}:{data:null,error:O}}catch(a){if(xt(a))return{data:null,error:a};throw a}})}upload(e,n,r){return Ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Ut(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),l=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",n);try{let f;const y=Object.assign({upsert:nu.upsert},s),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",y.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",y.cacheControl)):(f=r,p["cache-control"]=`max-age=${y.cacheControl}`,p["content-type"]=y.contentType);const v=yield this.fetch(c.toString(),{method:"PUT",body:f,headers:p}),O=yield v.json();return v.ok?{data:{path:a,fullPath:O.Key},error:null}:{data:null,error:O}}catch(f){if(xt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,n){return Ut(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const a=yield Ln(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),l=new URL(this.url+a.url),c=l.searchParams.get("token");if(!c)throw new Pa("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:c},error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ut(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(xt(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Ut(this,void 0,void 0,function*(){try{return{data:{path:(yield Ln(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(xt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Ut(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),a=yield Ln(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(s){if(xt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Ut(this,void 0,void 0,function*(){try{const s=yield Ln(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(s){if(xt(s))return{data:null,error:s};throw s}})}download(e,n){return Ut(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=a?`?${a}`:"";try{const c=this._getFinalPath(e);return{data:yield(yield ps(this.fetch,`${this.url}/${s}/${c}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(xt(c))return{data:null,error:c};throw c}})}info(e){return Ut(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield ps(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ta(r),error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}})}exists(e){return Ut(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Og(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(xt(r)&&r instanceof ea){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&s.push(a);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&s.push(f);let y=s.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${y}`)}}}remove(e){return Ut(this,void 0,void 0,function*(){try{return{data:yield zc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ut(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Cg),n),{prefix:e||""});return{data:yield Ln(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(xt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Pg="2.7.1",Ag={"X-Client-Info":`storage-js/${Pg}`};var kr=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{y(r.next(p))}catch(v){l(v)}}function f(p){try{y(r.throw(p))}catch(v){l(v)}}function y(p){p.done?a(p.value):s(p.value).then(c,f)}y((r=r.apply(t,e||[])).next())})};class jg{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},Ag),n),this.fetch=Hc(r)}listBuckets(){return kr(this,void 0,void 0,function*(){try{return{data:yield ps(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(xt(e))return{data:null,error:e};throw e}})}getBucket(e){return kr(this,void 0,void 0,function*(){try{return{data:yield ps(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return kr(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return kr(this,void 0,void 0,function*(){try{return{data:yield Sg(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return kr(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return kr(this,void 0,void 0,function*(){try{return{data:yield zc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}})}}class Rg extends jg{constructor(e,n={},r){super(e,n,r)}from(e){return new Tg(this.url,this.headers,e,this.fetch)}}const Ig="2.46.1";let ei="";typeof Deno<"u"?ei="deno":typeof document<"u"?ei="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ei="react-native":ei="node";const Dg={"X-Client-Info":`supabase-js-${ei}/${Ig}`},$g={headers:Dg},Lg={schema:"public"},Mg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Fg={};var Ug=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{y(r.next(p))}catch(v){l(v)}}function f(p){try{y(r.throw(p))}catch(v){l(v)}}function y(p){p.done?a(p.value):s(p.value).then(c,f)}y((r=r.apply(t,e||[])).next())})};const Ng=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ac:e=fetch,(...n)=>e(...n)},Bg=()=>typeof Headers>"u"?jc:Headers,Kg=(t,e,n)=>{const r=Ng(n),s=Bg();return(a,l)=>Ug(void 0,void 0,void 0,function*(){var c;const f=(c=yield e())!==null&&c!==void 0?c:t;let y=new s(l==null?void 0:l.headers);return y.has("apikey")||y.set("apikey",t),y.has("Authorization")||y.set("Authorization",`Bearer ${f}`),r(a,Object.assign(Object.assign({},l),{headers:y}))})};var qg=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{y(r.next(p))}catch(v){l(v)}}function f(p){try{y(r.throw(p))}catch(v){l(v)}}function y(p){p.done?a(p.value):s(p.value).then(c,f)}y((r=r.apply(t,e||[])).next())})};function Vg(t){return t.replace(/\/$/,"")}function Hg(t,e){const{db:n,auth:r,realtime:s,global:a}=t,{db:l,auth:c,realtime:f,global:y}=e,p={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),r),realtime:Object.assign(Object.assign({},f),s),global:Object.assign(Object.assign({},y),a),accessToken:()=>qg(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}const Wc="2.65.1",zg="http://localhost:9999",Wg="supabase.auth.token",Jg={"X-Client-Info":`gotrue-js/${Wc}`},ru=10,na="X-Supabase-Api-Version",Jc={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Gg(t){return Math.round(Date.now()/1e3)+t}function Qg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const tn=()=>typeof document<"u",nr={tested:!1,writable:!1},ai=()=>{if(!tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nr.tested)return nr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),nr.tested=!0,nr.writable=!0}catch{nr.tested=!0,nr.writable=!1}return nr.writable};function Io(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{e[a]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Gc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Dr(async()=>{const{default:r}=await Promise.resolve().then(()=>Lr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Yg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Qc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Yi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Xi=async(t,e)=>{await t.removeItem(e)};function Xg(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,a,l,c,f,y,p=0;for(t=t.replace("-","+").replace("_","/");p<t.length;)l=e.indexOf(t.charAt(p++)),c=e.indexOf(t.charAt(p++)),f=e.indexOf(t.charAt(p++)),y=e.indexOf(t.charAt(p++)),r=l<<2|c>>4,s=(c&15)<<4|f>>2,a=(f&3)<<6|y,n=n+String.fromCharCode(r),f!=64&&s!=0&&(n=n+String.fromCharCode(s)),y!=64&&a!=0&&(n=n+String.fromCharCode(a));return n}class Ms{constructor(){this.promise=new Ms.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ms.promiseConstructor=Promise;function iu(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(Xg(r))}async function Zg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ey(t,e){return new Promise((r,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await t(a);if(!e(a,null,l)){r(l);return}}catch(l){if(!e(a,l)){s(l);return}}})()})}function ty(t){return("0"+t.toString(16)).substr(-2)}function ny(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,ty).join("")}async function ry(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}function iy(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sy(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await ry(t);return iy(n)}async function xr(t,e,n=!1){const r=ny();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Qc(t,`${e}-code-verifier`,s);const a=await sy(r);return[a,r===a?"plain":"s256"]}const oy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ay(t){const e=t.headers.get(na);if(!e||!e.match(oy))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Aa extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Le(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ly extends Aa{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function uy(t){return Le(t)&&t.name==="AuthApiError"}class Yc extends Aa{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class dr extends Aa{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class jn extends dr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cy(t){return Le(t)&&t.name==="AuthSessionMissingError"}class Do extends dr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zi extends dr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class es extends dr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class su extends dr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ra extends dr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function $o(t){return Le(t)&&t.name==="AuthRetryableFetchError"}class ou extends dr{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var fy=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const ir=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),hy=[502,503,504];async function au(t){var e;if(!Yg(t))throw new ra(ir(t),0);if(hy.includes(t.status))throw new ra(ir(t),t.status);let n;try{n=await t.json()}catch(a){throw new Yc(ir(a),a)}let r;const s=ay(t);if(s&&s.getTime()>=Jc["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new ou(ir(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new jn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new ou(ir(n),t.status,n.weak_password.reasons);throw new ly(ir(n),t.status||500,r)}const dy=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Be(t,e,n,r){var s;const a=Object.assign({},r==null?void 0:r.headers);a[na]||(a[na]=Jc["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await py(t,e,n+c,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(f):{data:Object.assign({},f),error:null}}async function py(t,e,n,r,s,a){const l=dy(e,r,s,a);let c;try{c=await t(n,Object.assign({},l))}catch(f){throw console.error(f),new ra(ir(f),0)}if(c.ok||await au(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(f){await au(f)}}function Rn(t){var e;let n=null;vy(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Gg(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function lu(t){const e=Rn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Mn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function gy(t){return{data:t,error:null}}function yy(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a}=t,l=fy(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a},f=Object.assign({},l);return{data:{properties:c,user:f},error:null}}function my(t){return t}function vy(t){return t.access_token&&t.refresh_token&&t.expires_in}var _y=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class by{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Gc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await Be(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Be(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Mn})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=_y(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:yy,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Le(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Be(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Mn})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,a,l,c,f;try{const y={nextPage:null,lastPage:0,total:0},p=await Be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:my});if(p.error)throw p.error;const v=await p.json(),O=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,q=(f=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&f!==void 0?f:[];return q.length>0&&(q.forEach(te=>{const X=parseInt(te.split(";")[0].split("=")[1].substring(0,1)),ge=JSON.parse(te.split(";")[1].split("=")[1]);y[`${ge}Page`]=X}),y.total=parseInt(O)),{data:Object.assign(Object.assign({},v),y),error:null}}catch(y){if(Le(y))return{data:{users:[]},error:y};throw y}}async getUserById(e){try{return await Be(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Mn})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await Be(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Mn})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await Be(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Mn})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await Be(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await Be(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}}}const wy={getItem:t=>ai()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ai()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ai()&&globalThis.localStorage.removeItem(t)}};function uu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function ky(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Er={debug:!!(globalThis&&ai()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xc extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class xy extends Xc{}async function Ey(t,e,n){Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Er.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new xy(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Er.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}ky();const Sy={url:zg,storageKey:Wg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Jg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Yr=30*1e3,cu=3;async function fu(t,e,n){return await n()}class gi{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=gi.nextInstanceID,gi.nextInstanceID+=1,this.instanceID>0&&tn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Sy),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new by({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Gc(s.fetch),this.lock=s.lock||fu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:tn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ey:this.lock=fu,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ai()?this.storage=wy:(this.memoryStorage={},this.storage=uu(this.memoryStorage)):(this.memoryStorage={},this.storage=uu(this.memoryStorage)),tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Wc}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=tn()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.code)==="identity_already_exists"?{error:r}:(await this._removeSession(),{error:r});const{session:s,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return Le(e)?{error:e}:{error:new Yc("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const a=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Rn}),{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const f=l.session,y=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:y,session:f},error:null}}catch(a){if(Le(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,s;try{let a;if("email"in e){const{email:p,password:v,options:O}=e;let q=null,te=null;this.flowType==="pkce"&&([q,te]=await xr(this.storage,this.storageKey)),a=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:O==null?void 0:O.emailRedirectTo,body:{email:p,password:v,data:(n=O==null?void 0:O.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:O==null?void 0:O.captchaToken},code_challenge:q,code_challenge_method:te},xform:Rn})}else if("phone"in e){const{phone:p,password:v,options:O}=e;a=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:v,data:(r=O==null?void 0:O.data)!==null&&r!==void 0?r:{},channel:(s=O==null?void 0:O.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:O==null?void 0:O.captchaToken}},xform:Rn})}else throw new Zi("You must provide either an email or phone number and a password");const{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const f=l.session,y=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:y,session:f},error:null}}catch(a){if(Le(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:l,options:c}=e;n=await Be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:lu})}else if("phone"in e){const{phone:a,password:l,options:c}=e;n=await Be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:lu})}else throw new Zi("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Do}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Le(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Yi(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:a,error:l}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Rn});if(await Xi(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Do}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:l})}catch(a){if(Le(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:a,nonce:l}=e,c=await Be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Rn}),{data:f,error:y}=c;return y?{data:{user:null,session:null},error:y}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Do}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:y})}catch(n){if(Le(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,a,l;try{if("email"in e){const{email:c,options:f}=e;let y=null,p=null;this.flowType==="pkce"&&([y,p]=await xr(this.storage,this.storageKey));const{error:v}=await Be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(r=f==null?void 0:f.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:p},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:c,options:f}=e,{data:y,error:p}=await Be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},create_user:(a=f==null?void 0:f.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:y==null?void 0:y.message_id},error:p}}throw new Zi("You must provide either an email or phone number.")}catch(c){if(Le(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var n,r;try{let s,a;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await Be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Rn});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,y=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:y,session:f},error:null}}catch(s){if(Le(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await xr(this.storage,this.storageKey)),await Be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:gy})}catch(a){if(Le(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new jn;const{error:s}=await Be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Le(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:a}=e,{error:l}=await Be(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:r,type:s,options:a}=e,{data:l,error:c}=await Be(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c}}throw new Zi("You must provide either an email or phone number and a type")}catch(n){if(Le(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Yi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,y,p)=>(!l&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,y,p))})}return{data:{session:e},error:null}}const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Mn}):await this._useSession(async n=>{var r,s,a;const{data:l,error:c}=n;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jn}:await Be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Mn})})}catch(n){if(Le(n))return cy(n)&&(await this._removeSession(),await Xi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:a}=r;if(a)throw a;if(!s.session)throw new jn;const l=s.session;let c=null,f=null;this.flowType==="pkce"&&e.email!=null&&([c,f]=await xr(this.storage,this.storageKey));const{data:y,error:p}=await Be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:f}),jwt:l.access_token,xform:Mn});if(p)throw p;return l.user=y.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return iu(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new jn;const n=Date.now()/1e3;let r=n,s=!0,a=null;const l=iu(e.access_token);if(l.exp&&(r=l.exp,s=r<=n),s){const{session:c,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:f}=await this._getUser(e.access_token);if(f)throw f;a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Le(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:l,error:c}=n;if(c)throw c;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new jn;const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Le(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e){try{if(!tn())throw new es("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new es("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new su("Not a valid PKCE flow url.");const n=Io(window.location.href);if(e){if(!n.code)throw new su("No code detected.");const{data:Ce,error:Te}=await this._exchangeCodeForSession(n.code);if(Te)throw Te;const de=new URL(window.location.href);return de.searchParams.delete("code"),window.history.replaceState(window.history.state,"",de.toString()),{data:{session:Ce.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new es(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:l,expires_in:c,expires_at:f,token_type:y}=n;if(!a||!c||!l||!y)throw new es("No session defined in URL");const p=Math.round(Date.now()/1e3),v=parseInt(c);let O=p+v;f&&(O=parseInt(f));const q=O-p;q*1e3<=Yr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${q}s, should have been closer to ${v}s`);const te=O-v;p-te>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",te,O,p):p-te<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",te,O,p);const{data:X,error:ge}=await this._getUser(a);if(ge)throw ge;const ve={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:v,expires_at:O,refresh_token:l,token_type:y,user:X.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:ve,redirectType:n.type},error:null}}catch(n){if(Le(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const e=Io(window.location.href);return!!(tn()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=Io(window.location.href),n=await Yi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{error:a};const l=(r=s.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(uy(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await Xi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Qg(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:a},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await xr(this.storage,this.storageKey,!0));try{return await Be(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Le(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async a=>{var l,c,f,y,p;const{data:v,error:O}=a;if(O)throw O;const q=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Be(this.fetch,"GET",q,{headers:this.headers,jwt:(p=(y=v.session)===null||y===void 0?void 0:y.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return tn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Le(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:a,error:l}=n;if(l)throw l;return await Be(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await ey(async s=>(s>0&&await Zg(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Rn})),(s,a)=>{const l=200*Math.pow(2,s);return a&&$o(a)&&Date.now()+l-r<Yr})}catch(r){if(this._debug(n,"error",r),Le(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),tn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Yi(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),a=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+ru;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${ru}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:l}=await this._callRefreshToken(r.refresh_token);l&&(console.error(l),$o(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new jn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ms;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new jn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={session:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(s,"error",a),Le(a)){const l={session:null,error:a};return $o(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(f){a.push(f)}});if(await Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Qc(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Xi(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&tn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Yr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Yr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Yr}ms, refresh threshold is ${cu} ticks`),s<=cu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Xc)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await xr(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);s.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await Be(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:a,error:l}=n;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:f,error:y}=await Be(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return y?{data:null,error:y}:(e.factorType==="totp"&&(!((s=f==null?void 0:f.totp)===null||s===void 0)&&s.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{data:null,error:a};const{data:l,error:c}=await Be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(n){if(Le(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await Be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Le(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),a=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:a}=e;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const l=this._decodeJWT(s.access_token);let c=null;l.aal&&(c=l.aal);let f=c;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const p=l.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:p},error:null}}))}}gi.nextInstanceID=0;const Oy=gi;class Cy extends Oy{constructor(e){super(e)}}var Ty=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{y(r.next(p))}catch(v){l(v)}}function f(p){try{y(r.throw(p))}catch(v){l(v)}}function y(p){p.done?a(p.value):s(p.value).then(c,f)}y((r=r.apply(t,e||[])).next())})};class Py{constructor(e,n,r){var s,a,l;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const c=Vg(e);this.realtimeUrl=`${c}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${c}/auth/v1`,this.storageUrl=`${c}/storage/v1`,this.functionsUrl=`${c}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,y={db:Lg,realtime:Fg,auth:Object.assign(Object.assign({},Mg),{storageKey:f}),global:$g},p=Hg(r??{},y);this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=p.global.headers)!==null&&a!==void 0?a:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(v,O)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(O)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=Kg(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},p.realtime)),this.rest=new rg(`${c}/rest/v1`,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new Ip(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Rg(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Ty(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:a,flowType:l,lock:c,debug:f},y,p){var v;const O={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Cy({url:this.authUrl,headers:Object.assign(Object.assign({},O),y),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:l,lock:c,debug:f,fetch:p,hasCustomAuthorizationHeader:(v="Authorization"in this.headers)!==null&&v!==void 0?v:!1})}_initRealtimeClient(e){return new vg(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ay=(t,e,n)=>new Py(t,e,n),jy="https://oqwvljqwtearyepyaslo.supabase.co",Ry="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xd3ZsanF3dGVhcnllcHlhc2xvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzEwODA1NjIsImV4cCI6MjA0NjY1NjU2Mn0.31HmSCfXawvkzhevPCaKWoVCZyD_elcQOCtgFWJMRKI",Un=Ay(jy,Ry),Iy={props:{visible:Boolean,word:Object},emits:["close","update-word","update-definition","delete-definition","add-definition"],setup(t,{emit:e}){const n=Yt({partofspeech:"",def_english:"",def_chinese:""});return console.log(t),{close:()=>e("close"),updateWord:async()=>{const{data:f,error:y}=await Un.from("words").upsert({id:word.value.id,chinese:word.value.chinese,romaji:word.value.romaji,classification:word.value.classification,english:word.value.english});y?console.error("Error updating word:",y.message):console.log("Word updated successfully:",f)},updateDefinition:async(f,y)=>{const p=t.word.definitions[y],{data:v,error:O}=await Un.from("definitions").upsert({defid:f,wordid:t.word.id,partofspeech:p.partofspeech,def_english:p.def_english,def_chinese:p.def_chinese});O?console.error("Error updating definition:",O.message):console.log("Definition updated successfully:",v)},deleteDefinition:async(f,y)=>{try{const{data:p,error:v}=await Un.from("definitions").delete().eq("defid",f);if(v){console.error("Error deleting definition:",v.message);return}t.word.definitions.splice(y,1),console.log("Definition deleted successfully:",p)}catch(p){console.error("Error in deleteDefinition:",p.message)}},addDefinition:async f=>{try{if(!f)throw new Error("No word ID provided.");const y={wordid:f,partofspeech:n.value.partofspeech,def_english:n.value.def_english,def_chinese:n.value.def_chinese},{data:p,error:v}=await Un.from("definitions").insert([y]).select();if(console.log(p),v){console.error("Error adding definition:",v.message);return}if(p&&p.length>0){const O=p[0];t.word.definitions||(t.word.definitions=[]),t.word.definitions.push(O),n.value={partofspeech:"",def_english:"",def_chinese:""},console.log("Definition added successfully:",O)}}catch(y){console.error("Error in addDefinition:",y.message)}},newDefinition:n}}},Dy={key:0,class:"edit-dialog"},$y={class:"edit-word"},Ly={key:0,class:"definitions"},My=["onSubmit"],Fy=["onUpdate:modelValue"],Uy=["onUpdate:modelValue"],Ny=["onUpdate:modelValue"],By=["onClick"],Ky={class:"add-definition"};function qy(t,e,n,r,s,a){return n.visible?(Ne(),Qe("div",Dy,[re("button",{class:"close-dialog",onClick:e[0]||(e[0]=(...l)=>r.close&&r.close(...l))},"Close"),re("div",$y,[re("form",{onSubmit:e[7]||(e[7]=Ao((...l)=>r.updateWord&&r.updateWord(...l),["prevent"]))},[re("div",null,[e[12]||(e[12]=re("label",{for:"romaji"},"Romaji",-1)),$t(re("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>n.word.romaji=l),type:"text",id:"romaji"},null,512),[[Vt,n.word.romaji]])]),re("div",null,[e[13]||(e[13]=re("label",{for:"taiwanese"},"Taiwanese",-1)),$t(re("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>n.word.taiwanese=l),type:"text",id:"taiwanese"},null,512),[[Vt,n.word.taiwanese]])]),re("div",null,[e[14]||(e[14]=re("label",{for:"english"},"English",-1)),$t(re("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>n.word.english=l),type:"text",id:"english"},null,512),[[Vt,n.word.english]])]),re("div",null,[e[15]||(e[15]=re("label",{for:"english_mknoll"},"English Mary Knoll",-1)),$t(re("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>n.word.english_mknoll=l),type:"text",id:"english_mknoll"},null,512),[[Vt,n.word.english_mknoll]])]),re("div",null,[e[16]||(e[16]=re("label",{for:"chinese"},"Chinese",-1)),$t(re("input",{"onUpdate:modelValue":e[5]||(e[5]=l=>n.word.chinese=l),type:"text",id:"chinese"},null,512),[[Vt,n.word.chinese]])]),re("div",null,[e[17]||(e[17]=re("label",{for:"classification"},"Classification:",-1)),$t(re("input",{"onUpdate:modelValue":e[6]||(e[6]=l=>n.word.classification=l),type:"text",id:"classification"},null,512),[[Vt,n.word.classification]])]),e[18]||(e[18]=re("button",{type:"submit"},"Save Word",-1))],32)]),n.word.definitions.length>0?(Ne(),Qe("div",Ly,[(Ne(!0),Qe(Mt,null,ls(n.word.definitions,(l,c)=>(Ne(),Qe("div",{key:l.defid,class:"definition-container"},[re("form",{onSubmit:Ao(f=>r.updateDefinition(l.defid,c),["prevent"])},[re("div",null,[e[19]||(e[19]=re("label",{for:"def_english"},"English Definition:",-1)),$t(re("textarea",{"onUpdate:modelValue":f=>l.def_english=f,id:"def_english"},null,8,Fy),[[Vt,l.def_english]])]),re("div",null,[e[20]||(e[20]=re("label",{for:"def_chinese"},"Chinese Definition:",-1)),$t(re("input",{"onUpdate:modelValue":f=>l.def_chinese=f,type:"text",id:"def_chinese"},null,8,Uy),[[Vt,l.def_chinese]])]),re("div",null,[e[21]||(e[21]=re("label",{for:"partofspeech"},"Part of Speech:",-1)),$t(re("input",{"onUpdate:modelValue":f=>l.partofspeech=f,type:"text",id:"partofspeech"},null,8,Ny),[[Vt,l.partofspeech]])]),e[22]||(e[22]=re("button",{type:"submit"},"Save Definition",-1)),re("button",{type:"button",onClick:f=>r.deleteDefinition(l.defid,c)}," Delete Definition ",8,By)],40,My)]))),128))])):vt("",!0),re("div",Ky,[e[27]||(e[27]=re("h4",null,"Add a new definition",-1)),re("form",{onSubmit:e[11]||(e[11]=Ao(l=>r.addDefinition(n.word.id),["prevent"]))},[re("div",null,[e[23]||(e[23]=re("label",{for:"partofspeech"},"Part of Speech:",-1)),$t(re("input",{"onUpdate:modelValue":e[8]||(e[8]=l=>r.newDefinition.partofspeech=l),id:"partofspeech"},null,512),[[Vt,r.newDefinition.partofspeech]])]),re("div",null,[e[24]||(e[24]=re("label",{for:"def_english"},"English Definition:",-1)),$t(re("textarea",{"onUpdate:modelValue":e[9]||(e[9]=l=>r.newDefinition.def_english=l),id:"def_english"},null,512),[[Vt,r.newDefinition.def_english]])]),re("div",null,[e[25]||(e[25]=re("label",{for:"def_chinese"},"Chinese Definition:",-1)),$t(re("textarea",{"onUpdate:modelValue":e[10]||(e[10]=l=>r.newDefinition.def_chinese=l),id:"def_chinese"},null,512),[[Vt,r.newDefinition.def_chinese]])]),e[26]||(e[26]=re("button",{type:"submit"},"Add Definition",-1))],32)])])):vt("",!0)}const ia=fr(Iy,[["render",qy],["__scopeId","data-v-926cb36e"]]),Vy={},Hy={class:"cooker-bg"};function zy(t,e,n,r,s,a){return Ne(),Qe("div",Hy,e[0]||(e[0]=[yd('<svg xmlns="http://www.w3.org/2000/svg" width="77" height="57" fill="none" data-v-65369d1b><g id="lid" data-v-65369d1b><path fill="#C9C9C9" stroke="#000" stroke-width="4" d="m14.784 18 3.764-11.172c15.55-1.92 24.842-1.867 40.368 0L62.304 18z" data-v-65369d1b></path><mask id="a" fill="#000" data-v-65369d1b><path d="M33 0h11l-.917 4h-9.166z" data-v-65369d1b></path></mask><path fill="#000" d="M33 0h11l-.917 4h-9.166z" data-v-65369d1b></path><path fill="#000" d="M33 0v-4h-5.02L29.1.894zm11 0 3.899.894L49.02-4H44zm-.917 4v4h3.187l.712-3.106zm-9.166 0-3.9.894L30.73 8h3.187zM33 4h11v-8H33zm7.101-4.894-.917 4 7.798 1.788.917-4zM43.083 0h-9.166v8h9.166zm-5.267 3.107-.917-4L29.1.893l.917 4z" mask="url(#a)" data-v-65369d1b></path></g><path fill="#E8753C" stroke="#000" stroke-width="4" d="M16.352 52c-4.62-11.782-4.653-19.991-4.39-34h53.026q-.005 1.559-.006 3.026c-.013 11.587-.02 19.18-4.817 30.974z" data-v-65369d1b></path><path stroke="#000" stroke-width="4" d="M66 18h7M4 18h7" data-v-65369d1b></path><path fill="#000" d="M18 54h4v3h-4zM54 54h4v3h-4z" data-v-65369d1b></path><path fill="#C9C9C9" stroke="#000" stroke-width="4" d="m32.222 51.79 1.643-15.616c2.07-.827 3.638-1.177 5.13-1.174 1.496.003 3.066.36 5.14 1.18l1.643 15.61z" data-v-65369d1b></path><path fill="#000" d="M37 45h4v3h-4z" data-v-65369d1b></path><circle r="2" fill="#D9D9D9" class="steam-ball" data-v-65369d1b></circle><circle r="2" fill="#D9D9D9" class="steam-ball-right" data-v-65369d1b></circle><circle r="2" fill="#D9D9D9" class="steam-ball delay-1" data-v-65369d1b></circle><circle r="2" fill="#D9D9D9" class="steam-ball-right delay-1" data-v-65369d1b></circle><circle r="2" fill="#D9D9D9" class="steam-ball delay-2" data-v-65369d1b></circle><circle r="2" fill="#D9D9D9" class="steam-ball-right delay-2" data-v-65369d1b></circle></svg>',1)]))}const Wy=fr(Vy,[["render",zy],["__scopeId","data-v-65369d1b"]]),Jy={__name:"Loader",props:{type:String,loading:Boolean},setup(t){return(e,n)=>(Ne(),lr(Ld,{name:"fade",mode:"out-in"},{default:Ku(()=>[$t(re("div",null,[ut(Wy)],512),[[qd,t.loading]])]),_:1}))}},gs=fr(Jy,[["__scopeId","data-v-ba8e2423"]]),Gy={components:{AudioPlayerTaigi:Pc,IconPlayAudio:si,EditWord:ia,Loader:gs},setup(){const t=Yt([]),e=Yt(""),n=Yt(!0),r=Yt(null),s=Yt(!1),a=Yt({partofspeech:"",def_english:"",def_chinese:""}),l=Yt(!1),c=Yt(!1);return{words:t,searchQuery:e,exactSearch:n,word:r,showDialog:s,newDefinition:a,clearInput:()=>{e.value="",t.value=[],c.value=!1},openEditDialog:X=>{s.value=!0,document.body.style.overflow="hidden",r.value={...X,definitions:X.definitions||[]}},EditWord:ia,Loader:gs,loading:l,closeDialog:()=>{s.value=!1,document.body.style.overflow="scroll"},searchWords:async()=>{try{l.value=!0,c.value=!0;let X=Un.from("words").select("id, english, chinese, romaji, audioid, taiwanese, english_mknoll, definitions (defid, def_english, def_chinese)");n.value?X=X.or(`chinese.eq.${e.value},english.eq.${e.value},english_mknoll.eq.${e.value},romaji.eq.${e.value},taiwanese.eq.${e.value}`):X=X.or(`chinese.ilike.%${e.value}%,english.ilike.%${e.value}%,english_mknoll.ilike.%${e.value}%,romaji.ilike.%${e.value}%,taiwanese.ilike.%${e.value}%`);const{data:ge,error:ve}=await X;ve?console.error("Error fetching words:",ve.message):t.value=ge}catch(X){console.error("Error in searchWords:",X.message)}finally{l.value=!1}},searchExecuted:c,readChinese:X=>Cc(X),readEnglish:X=>Tc(X),resetVoice:()=>window.speechSynthesis.cancel()}}},Qy={id:"supasearch"},Yy={class:"search-header"},Xy={class:"search-words"},Zy={class:"search-options"},em={class:"exact-search-container"},tm={class:"search-actions"},nm={class:"search-results-header"},rm={key:0,class:"results-count"},im={key:0},sm={class:"results"},om={class:"word"},am={key:0,class:"word-item word-taigi alphabetic"},lm={key:1,class:"word-item word-taigi alphabetic"},um={key:2,class:"word-item word-chinese logographic"},cm={key:0,class:"word-item word-english alphabetic"},fm={key:1,class:"word-item word-english alphabetic"},hm={class:"alphabetic"},dm={class:"logographic"},pm=["onClick"];function gm(t,e,n,r,s,a){const l=Xr("Loader"),c=Xr("AudioPlayerTaigi"),f=Xr("IconPlayAudio"),y=Xr("EditWord");return Ne(),Qe("div",Qy,[ut(l,{loading:r.loading},null,8,["loading"]),re("div",Yy,[re("div",Xy,[$t(re("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=p=>r.searchQuery=p),onKeyup:e[1]||(e[1]=up((...p)=>r.searchWords&&r.searchWords(...p),["enter"])),placeholder:"Search for a word...",class:"text-field search-words-text-field",autocapitalize:"off"},null,544),[[Vt,r.searchQuery]]),r.searchQuery.length>0?(Ne(),Qe("button",{key:0,class:"clear-search",onClick:e[2]||(e[2]=(...p)=>r.clearInput&&r.clearInput(...p))},e[7]||(e[7]=[re("span",{class:"visually-hidden"},"Clear",-1)]))):vt("",!0)]),re("div",Zy,[re("div",em,[$t(re("input",{id:"exact-search",type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=p=>r.exactSearch=p),onChange:e[4]||(e[4]=(...p)=>r.searchWords&&r.searchWords(...p))},null,544),[[ip,r.exactSearch]]),e[8]||(e[8]=re("label",{for:"exact-search"},"Exact Search",-1))]),re("div",tm,[re("button",{class:"search-button",onClick:e[5]||(e[5]=(...p)=>r.searchWords&&r.searchWords(...p))},"Search")])]),re("div",nm,[r.searchExecuted?(Ne(),Qe("div",rm,[rn(Tt(r.words.length)+" result",1),r.words.length!=1?(Ne(),Qe("span",im,"s")):vt("",!0),e[9]||(e[9]=rn(" found "))])):vt("",!0)])]),re("ul",sm,[(Ne(!0),Qe(Mt,null,ls(r.words,p=>(Ne(),Qe("li",{key:p.id,class:"entry"},[re("div",om,[p.romaji!=null?(Ne(),Qe("div",am,[rn(Tt(p.romaji)+" ",1),p.audioid?(Ne(),lr(c,{key:0,audioID:p.audioid},null,8,["audioID"])):vt("",!0)])):vt("",!0),p.taiwanese!=null?(Ne(),Qe("div",lm,Tt(p.taiwanese),1)):vt("",!0),p.chinese!=null?(Ne(),Qe("div",um,[rn(Tt(p.chinese)+" ",1),ut(f,{onClick:v=>r.readChinese(p.chinese)},null,8,["onClick"])])):vt("",!0)]),p.english!=null?(Ne(),Qe("div",cm,[rn(Tt(p.english)+" ",1),ut(f,{onClick:v=>r.readEnglish(p.english)},null,8,["onClick"])])):vt("",!0),p.english_mknoll!=null?(Ne(),Qe("div",fm,[rn(Tt(p.english_mknoll)+" ",1),ut(f,{onClick:v=>r.readEnglish(p.english_mknoll)},null,8,["onClick"])])):vt("",!0),re("ul",null,[(Ne(!0),Qe(Mt,null,ls(p.definitions,v=>(Ne(),Qe("li",{key:v.id},[re("ul",null,[re("li",hm,Tt(v.def_english),1),re("li",dm,Tt(v.def_chinese),1)])]))),128))]),re("button",{class:"edit-word",onClick:v=>r.openEditDialog(p)}," Edit word ",8,pm)]))),128))]),ut(y,{visible:r.showDialog,word:r.word,onClose:e[6]||(e[6]=p=>r.closeDialog())},null,8,["visible","word"])])}const ym=fr(Gy,[["render",gm],["__scopeId","data-v-4be9a4bb"]]),mm={class:"rw"},vm={key:0},_m={class:"rw-words"},bm={class:"rw-words-main"},wm={key:0,class:"rw-word-item rw-taigi alphabetic"},km={key:1,class:"rw-word-item rw-taigi alphabetic"},xm={key:2,class:"rw-word-item rw-chinese logographic"},Em={key:0,class:"rw-word-item rw-english alphabetic"},Sm={key:1,class:"rw-word-item rw-english alphabetic"},Om={class:"logographic"},Cm={class:"alphabetic"},Tm={__name:"RandomWord",setup(t){const e=Yt(null),n=Yt(!0),r=async()=>{try{n.value=!0;const{count:l}=await Un.from("words").select("*",{count:"exact",head:!0}),c=Math.floor(Math.random()*l),{data:f,error:y}=await Un.from("words").select("*").range(c,c).limit(1);if(y)throw new Error(y.message);const p=f[0],{data:v,error:O}=await Un.from("definitions").select("*").eq("wordid",p.id);if(O)throw new Error(O.message);p.definitions=v,e.value=p,console.log(e)}catch(l){console.error("Error fetching random word and definitions:",l.message)}finally{n.value=!1}};Os(r);const s=async l=>{Cc(l)},a=async l=>{Tc(l)};return(l,c)=>(Ne(),Qe("div",mm,[ut(gs,{loading:n.value&&!e.value},null,8,["loading"]),e.value?(Ne(),Qe("div",vm,[ut(gs,{loading:n.value},null,8,["loading"]),c[4]||(c[4]=re("h4",null,"Random word",-1)),re("div",_m,[re("div",bm,[e.value.romaji?(Ne(),Qe("div",wm,[rn(Tt(e.value.romaji)+" ",1),e.value.audioid?(Ne(),lr(Pc,{key:0,audioID:e.value.audioid},null,8,["audioID"])):vt("",!0)])):vt("",!0),e.value.taiwanese?(Ne(),Qe("div",km,Tt(e.value.taiwanese),1)):vt("",!0),e.value.chinese?(Ne(),Qe("div",xm,[rn(Tt(e.value.chinese)+" ",1),e.value.chinese?(Ne(),lr(si,{key:0,onClick:c[0]||(c[0]=f=>s(e.value.chinese))})):vt("",!0)])):vt("",!0)]),e.value.english?(Ne(),Qe("div",Em,[rn(Tt(e.value.english)+" ",1),e.value.english?(Ne(),lr(si,{key:0,onClick:c[1]||(c[1]=f=>a(e.value.english))})):vt("",!0)])):vt("",!0),e.value.english_mknoll?(Ne(),Qe("div",Sm,[rn(Tt(e.value.english_mknoll)+" ",1),e.value.english_mknoll?(Ne(),lr(si,{key:0,onClick:c[2]||(c[2]=f=>a(e.value.english_mknoll))})):vt("",!0)])):vt("",!0)]),(Ne(!0),Qe(Mt,null,ls(e.value.definitions,(f,y)=>(Ne(),Qe("div",{key:f.defid,class:"rw-definitions"},[re("ul",null,[re("li",Om,Tt(f.def_chinese),1),re("li",Cm,Tt(f.def_english),1)])]))),128)),re("button",{onClick:r},"Next word")])):vt("",!0),ut(ia,{visible:l.showDialog,word:l.word,onClose:c[3]||(c[3]=f=>l.closeDialog())},null,8,["visible","word"])]))}},Pm=fr(Tm,[["__scopeId","data-v-b8fbec04"]]),Am={__name:"App",setup(t){const e=Yt(!1);return Os(async()=>{e.value=await Fn.words.count()>0&&await Fn.definitions.count()>0,console.log(Fn),e.value?console.log("Data is available in IndexedDB."):(console.log("No data in IndexedDB."),vp())}),(n,r)=>(Ne(),Qe(Mt,null,[r[0]||(r[0]=re("header",null,[re("div")],-1)),re("main",null,[ut(ym),ut(Pm)]),r[1]||(r[1]=re("footer",null,null,-1))],64))}};hp(Am).mount("#app");export{Ec as g};
