(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();/**
* @vue/shared v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Uo(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const nt={},vr=[],ln=()=>{},zc=()=>!1,Zi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ko=t=>t.startsWith("onUpdate:"),Ct=Object.assign,No=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Jc=Object.prototype.hasOwnProperty,ze=(t,e)=>Jc.call(t,e),Se=Array.isArray,_r=t=>ii(t)==="[object Map]",es=t=>ii(t)==="[object Set]",Va=t=>ii(t)==="[object Date]",je=t=>typeof t=="function",mt=t=>typeof t=="string",un=t=>typeof t=="symbol",lt=t=>t!==null&&typeof t=="object",ql=t=>(lt(t)||je(t))&&je(t.then)&&je(t.catch),Vl=Object.prototype.toString,ii=t=>Vl.call(t),Gc=t=>ii(t).slice(8,-1),Hl=t=>ii(t)==="[object Object]",Bo=t=>mt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Hr=Uo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ts=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Qc=/-(\w)/g,Qt=ts(t=>t.replace(Qc,(e,n)=>n?n.toUpperCase():"")),Yc=/\B([A-Z])/g,Ln=ts(t=>t.replace(Yc,"-$1").toLowerCase()),ns=ts(t=>t.charAt(0).toUpperCase()+t.slice(1)),Xs=ts(t=>t?`on${ns(t)}`:""),$n=(t,e)=>!Object.is(t,e),Bi=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Wl=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},mo=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Ha;const zl=()=>Ha||(Ha=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function qo(t){if(Se(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=mt(r)?tf(r):qo(r);if(s)for(const a in s)e[a]=s[a]}return e}else if(mt(t)||lt(t))return t}const Xc=/;(?![^(]*\))/g,Zc=/:([^]+)/,ef=/\/\*[^]*?\*\//g;function tf(t){const e={};return t.replace(ef,"").split(Xc).forEach(n=>{if(n){const r=n.split(Zc);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Vo(t){let e="";if(mt(t))e=t;else if(Se(t))for(let n=0;n<t.length;n++){const r=Vo(t[n]);r&&(e+=r+" ")}else if(lt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const nf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",rf=Uo(nf);function Jl(t){return!!t||t===""}function sf(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=rs(t[r],e[r]);return n}function rs(t,e){if(t===e)return!0;let n=Va(t),r=Va(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=un(t),r=un(e),n||r)return t===e;if(n=Se(t),r=Se(e),n||r)return n&&r?sf(t,e):!1;if(n=lt(t),r=lt(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,a=Object.keys(e).length;if(s!==a)return!1;for(const l in t){const f=t.hasOwnProperty(l),c=e.hasOwnProperty(l);if(f&&!c||!f&&c||!rs(t[l],e[l]))return!1}}return String(t)===String(e)}function Gl(t,e){return t.findIndex(n=>rs(n,e))}const Ql=t=>!!(t&&t.__v_isRef===!0),St=t=>mt(t)?t:t==null?"":Se(t)||lt(t)&&(t.toString===Vl||!je(t.toString))?Ql(t)?St(t.value):JSON.stringify(t,Yl,2):String(t),Yl=(t,e)=>Ql(e)?Yl(t,e.value):_r(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],a)=>(n[Zs(r,a)+" =>"]=s,n),{})}:es(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Zs(n))}:un(e)?Zs(e):lt(e)&&!Se(e)&&!Hl(e)?String(e):e,Zs=(t,e="")=>{var n;return un(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ht;class of{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ht,!e&&Ht&&(this.index=(Ht.scopes||(Ht.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Ht;try{return Ht=this,e()}finally{Ht=n}}}on(){Ht=this}off(){Ht=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function af(){return Ht}let st;const eo=new WeakSet;class Xl{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ht&&Ht.active&&Ht.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,eo.has(this)&&(eo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||eu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Wa(this),tu(this);const e=st,n=en;st=this,en=!0;try{return this.fn()}finally{nu(this),st=e,en=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)zo(e);this.deps=this.depsTail=void 0,Wa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?eo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){vo(this)&&this.run()}get dirty(){return vo(this)}}let Zl=0,yr;function eu(t){t.flags|=8,t.next=yr,yr=t}function Ho(){Zl++}function Wo(){if(--Zl>0)return;let t;for(;yr;){let e=yr,n;for(;e;)e.flags&1||(e.flags&=-9),e=e.next;for(e=yr,yr=void 0;e;){if(n=e.next,e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function tu(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function nu(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),zo(r),lf(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function vo(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(ru(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function ru(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Xr))return;t.globalVersion=Xr;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!vo(t)){t.flags&=-3;return}const n=st,r=en;st=t,en=!0;try{tu(t);const s=t.fn(t._value);(e.version===0||$n(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{st=n,en=r,nu(t),t.flags&=-3}}function zo(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r),!n.subs&&n.computed){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)zo(a,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function lf(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let en=!0;const iu=[];function Mn(){iu.push(en),en=!1}function Fn(){const t=iu.pop();en=t===void 0?!0:t}function Wa(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=st;st=void 0;try{e()}finally{st=n}}}let Xr=0;class uf{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Jo{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.target=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!st||!en||st===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==st)n=this.activeLink=new uf(st,this),st.deps?(n.prevDep=st.depsTail,st.depsTail.nextDep=n,st.depsTail=n):st.deps=st.depsTail=n,su(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=st.depsTail,n.nextDep=void 0,st.depsTail.nextDep=n,st.depsTail=n,st.deps===n&&(st.deps=r)}return n}trigger(e){this.version++,Xr++,this.notify(e)}notify(e){Ho();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Wo()}}}function su(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)su(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const _o=new WeakMap,Zn=Symbol(""),bo=Symbol(""),Zr=Symbol("");function At(t,e,n){if(en&&st){let r=_o.get(t);r||_o.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new Jo),s.target=t,s.map=r,s.key=n),s.track()}}function mn(t,e,n,r,s,a){const l=_o.get(t);if(!l){Xr++;return}const f=c=>{c&&c.trigger()};if(Ho(),e==="clear")l.forEach(f);else{const c=Se(t),y=c&&Bo(n);if(c&&n==="length"){const g=Number(r);l.forEach((b,R)=>{(R==="length"||R===Zr||!un(R)&&R>=g)&&f(b)})}else switch(n!==void 0&&f(l.get(n)),y&&f(l.get(Zr)),e){case"add":c?y&&f(l.get("length")):(f(l.get(Zn)),_r(t)&&f(l.get(bo)));break;case"delete":c||(f(l.get(Zn)),_r(t)&&f(l.get(bo)));break;case"set":_r(t)&&f(l.get(Zn));break}}Wo()}function fr(t){const e=Je(t);return e===t?e:(At(e,"iterate",Zr),Gt(t)?e:e.map(Ot))}function is(t){return At(t=Je(t),"iterate",Zr),t}const cf={__proto__:null,[Symbol.iterator](){return to(this,Symbol.iterator,Ot)},concat(...t){return fr(this).concat(...t.map(e=>Se(e)?fr(e):e))},entries(){return to(this,"entries",t=>(t[1]=Ot(t[1]),t))},every(t,e){return pn(this,"every",t,e,void 0,arguments)},filter(t,e){return pn(this,"filter",t,e,n=>n.map(Ot),arguments)},find(t,e){return pn(this,"find",t,e,Ot,arguments)},findIndex(t,e){return pn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return pn(this,"findLast",t,e,Ot,arguments)},findLastIndex(t,e){return pn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return pn(this,"forEach",t,e,void 0,arguments)},includes(...t){return no(this,"includes",t)},indexOf(...t){return no(this,"indexOf",t)},join(t){return fr(this).join(t)},lastIndexOf(...t){return no(this,"lastIndexOf",t)},map(t,e){return pn(this,"map",t,e,void 0,arguments)},pop(){return Ur(this,"pop")},push(...t){return Ur(this,"push",t)},reduce(t,...e){return za(this,"reduce",t,e)},reduceRight(t,...e){return za(this,"reduceRight",t,e)},shift(){return Ur(this,"shift")},some(t,e){return pn(this,"some",t,e,void 0,arguments)},splice(...t){return Ur(this,"splice",t)},toReversed(){return fr(this).toReversed()},toSorted(t){return fr(this).toSorted(t)},toSpliced(...t){return fr(this).toSpliced(...t)},unshift(...t){return Ur(this,"unshift",t)},values(){return to(this,"values",Ot)}};function to(t,e,n){const r=is(t),s=r[e]();return r!==t&&!Gt(t)&&(s._next=s.next,s.next=()=>{const a=s._next();return a.value&&(a.value=n(a.value)),a}),s}const ff=Array.prototype;function pn(t,e,n,r,s,a){const l=is(t),f=l!==t&&!Gt(t),c=l[e];if(c!==ff[e]){const b=c.apply(t,a);return f?Ot(b):b}let y=n;l!==t&&(f?y=function(b,R){return n.call(this,Ot(b),R,t)}:n.length>2&&(y=function(b,R){return n.call(this,b,R,t)}));const g=c.call(l,y,r);return f&&s?s(g):g}function za(t,e,n,r){const s=is(t);let a=n;return s!==t&&(Gt(t)?n.length>3&&(a=function(l,f,c){return n.call(this,l,f,c,t)}):a=function(l,f,c){return n.call(this,l,Ot(f),c,t)}),s[e](a,...r)}function no(t,e,n){const r=Je(t);At(r,"iterate",Zr);const s=r[e](...n);return(s===-1||s===!1)&&Zo(n[0])?(n[0]=Je(n[0]),r[e](...n)):s}function Ur(t,e,n=[]){Mn(),Ho();const r=Je(t)[e].apply(t,n);return Wo(),Fn(),r}const hf=Uo("__proto__,__v_isRef,__isVue"),ou=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(un));function df(t){un(t)||(t=String(t));const e=Je(this);return At(e,"has",t),e.hasOwnProperty(t)}class au{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const s=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return a;if(n==="__v_raw")return r===(s?a?Of:fu:a?cu:uu).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const l=Se(e);if(!s){let c;if(l&&(c=cf[n]))return c;if(n==="hasOwnProperty")return df}const f=Reflect.get(e,n,Tt(e)?e:r);return(un(n)?ou.has(n):hf(n))||(s||At(e,"get",n),a)?f:Tt(f)?l&&Bo(n)?f:f.value:lt(f)?s?hu(f):Yo(f):f}}class lu extends au{constructor(e=!1){super(!1,e)}set(e,n,r,s){let a=e[n];if(!this._isShallow){const c=er(a);if(!Gt(r)&&!er(r)&&(a=Je(a),r=Je(r)),!Se(e)&&Tt(a)&&!Tt(r))return c?!1:(a.value=r,!0)}const l=Se(e)&&Bo(n)?Number(n)<e.length:ze(e,n),f=Reflect.set(e,n,r,Tt(e)?e:s);return e===Je(s)&&(l?$n(r,a)&&mn(e,"set",n,r):mn(e,"add",n,r)),f}deleteProperty(e,n){const r=ze(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&mn(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!un(n)||!ou.has(n))&&At(e,"has",n),r}ownKeys(e){return At(e,"iterate",Se(e)?"length":Zn),Reflect.ownKeys(e)}}class pf extends au{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const gf=new lu,yf=new pf,mf=new lu(!0);const Go=t=>t,ss=t=>Reflect.getPrototypeOf(t);function Ri(t,e,n=!1,r=!1){t=t.__v_raw;const s=Je(t),a=Je(e);n||($n(e,a)&&At(s,"get",e),At(s,"get",a));const{has:l}=ss(s),f=r?Go:n?ea:Ot;if(l.call(s,e))return f(t.get(e));if(l.call(s,a))return f(t.get(a));t!==s&&t.get(e)}function Ii(t,e=!1){const n=this.__v_raw,r=Je(n),s=Je(t);return e||($n(t,s)&&At(r,"has",t),At(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function Di(t,e=!1){return t=t.__v_raw,!e&&At(Je(t),"iterate",Zn),Reflect.get(t,"size",t)}function Ja(t,e=!1){!e&&!Gt(t)&&!er(t)&&(t=Je(t));const n=Je(this);return ss(n).has.call(n,t)||(n.add(t),mn(n,"add",t,t)),this}function Ga(t,e,n=!1){!n&&!Gt(e)&&!er(e)&&(e=Je(e));const r=Je(this),{has:s,get:a}=ss(r);let l=s.call(r,t);l||(t=Je(t),l=s.call(r,t));const f=a.call(r,t);return r.set(t,e),l?$n(e,f)&&mn(r,"set",t,e):mn(r,"add",t,e),this}function Qa(t){const e=Je(this),{has:n,get:r}=ss(e);let s=n.call(e,t);s||(t=Je(t),s=n.call(e,t)),r&&r.call(e,t);const a=e.delete(t);return s&&mn(e,"delete",t,void 0),a}function Ya(){const t=Je(this),e=t.size!==0,n=t.clear();return e&&mn(t,"clear",void 0,void 0),n}function $i(t,e){return function(r,s){const a=this,l=a.__v_raw,f=Je(l),c=e?Go:t?ea:Ot;return!t&&At(f,"iterate",Zn),l.forEach((y,g)=>r.call(s,c(y),c(g),a))}}function Li(t,e,n){return function(...r){const s=this.__v_raw,a=Je(s),l=_r(a),f=t==="entries"||t===Symbol.iterator&&l,c=t==="keys"&&l,y=s[t](...r),g=n?Go:e?ea:Ot;return!e&&At(a,"iterate",c?bo:Zn),{next(){const{value:b,done:R}=y.next();return R?{value:b,done:R}:{value:f?[g(b[0]),g(b[1])]:g(b),done:R}},[Symbol.iterator](){return this}}}}function Sn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function vf(){const t={get(a){return Ri(this,a)},get size(){return Di(this)},has:Ii,add:Ja,set:Ga,delete:Qa,clear:Ya,forEach:$i(!1,!1)},e={get(a){return Ri(this,a,!1,!0)},get size(){return Di(this)},has:Ii,add(a){return Ja.call(this,a,!0)},set(a,l){return Ga.call(this,a,l,!0)},delete:Qa,clear:Ya,forEach:$i(!1,!0)},n={get(a){return Ri(this,a,!0)},get size(){return Di(this,!0)},has(a){return Ii.call(this,a,!0)},add:Sn("add"),set:Sn("set"),delete:Sn("delete"),clear:Sn("clear"),forEach:$i(!0,!1)},r={get(a){return Ri(this,a,!0,!0)},get size(){return Di(this,!0)},has(a){return Ii.call(this,a,!0)},add:Sn("add"),set:Sn("set"),delete:Sn("delete"),clear:Sn("clear"),forEach:$i(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{t[a]=Li(a,!1,!1),n[a]=Li(a,!0,!1),e[a]=Li(a,!1,!0),r[a]=Li(a,!0,!0)}),[t,n,e,r]}const[_f,bf,wf,kf]=vf();function Qo(t,e){const n=e?t?kf:wf:t?bf:_f;return(r,s,a)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(ze(n,s)&&s in r?n:r,s,a)}const xf={get:Qo(!1,!1)},Ef={get:Qo(!1,!0)},Sf={get:Qo(!0,!1)};const uu=new WeakMap,cu=new WeakMap,fu=new WeakMap,Of=new WeakMap;function Pf(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Tf(t){return t.__v_skip||!Object.isExtensible(t)?0:Pf(Gc(t))}function Yo(t){return er(t)?t:Xo(t,!1,gf,xf,uu)}function Cf(t){return Xo(t,!1,mf,Ef,cu)}function hu(t){return Xo(t,!0,yf,Sf,fu)}function Xo(t,e,n,r,s){if(!lt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const a=s.get(t);if(a)return a;const l=Tf(t);if(l===0)return t;const f=new Proxy(t,l===2?r:n);return s.set(t,f),f}function br(t){return er(t)?br(t.__v_raw):!!(t&&t.__v_isReactive)}function er(t){return!!(t&&t.__v_isReadonly)}function Gt(t){return!!(t&&t.__v_isShallow)}function Zo(t){return t?!!t.__v_raw:!1}function Je(t){const e=t&&t.__v_raw;return e?Je(e):t}function Af(t){return!ze(t,"__v_skip")&&Object.isExtensible(t)&&Wl(t,"__v_skip",!0),t}const Ot=t=>lt(t)?Yo(t):t,ea=t=>lt(t)?hu(t):t;function Tt(t){return t?t.__v_isRef===!0:!1}function Tn(t){return jf(t,!1)}function jf(t,e){return Tt(t)?t:new Rf(t,e)}class Rf{constructor(e,n){this.dep=new Jo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Je(e),this._value=n?e:Ot(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Gt(e)||er(e);e=r?e:Je(e),$n(e,n)&&(this._rawValue=e,this._value=r?e:Ot(e),this.dep.trigger())}}function If(t){return Tt(t)?t.value:t}const Df={get:(t,e,n)=>e==="__v_raw"?t:If(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Tt(s)&&!Tt(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function du(t){return br(t)?t:new Proxy(t,Df)}class $f{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Jo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Xr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&st!==this)return eu(this),!0}get value(){const e=this.dep.track();return ru(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Lf(t,e,n=!1){let r,s;return je(t)?r=t:(r=t.get,s=t.set),new $f(r,s,n)}const Mi={},zi=new WeakMap;let Gn;function Mf(t,e=!1,n=Gn){if(n){let r=zi.get(n);r||zi.set(n,r=[]),r.push(t)}}function Ff(t,e,n=nt){const{immediate:r,deep:s,once:a,scheduler:l,augmentJob:f,call:c}=n,y=ae=>s?ae:Gt(ae)||s===!1||s===0?yn(ae,1):yn(ae);let g,b,R,H,se=!1,fe=!1;if(Tt(t)?(b=()=>t.value,se=Gt(t)):br(t)?(b=()=>y(t),se=!0):Se(t)?(fe=!0,se=t.some(ae=>br(ae)||Gt(ae)),b=()=>t.map(ae=>{if(Tt(ae))return ae.value;if(br(ae))return y(ae);if(je(ae))return c?c(ae,2):ae()})):je(t)?e?b=c?()=>c(t,2):t:b=()=>{if(R){Mn();try{R()}finally{Fn()}}const ae=Gn;Gn=g;try{return c?c(t,3,[H]):t(H)}finally{Gn=ae}}:b=ln,e&&s){const ae=b,Oe=s===!0?1/0:s;b=()=>yn(ae(),Oe)}const _e=af(),le=()=>{g.stop(),_e&&No(_e.effects,g)};if(a&&e){const ae=e;e=(...Oe)=>{ae(...Oe),le()}}let we=fe?new Array(t.length).fill(Mi):Mi;const be=ae=>{if(!(!(g.flags&1)||!g.dirty&&!ae))if(e){const Oe=g.run();if(s||se||(fe?Oe.some((Xe,ke)=>$n(Xe,we[ke])):$n(Oe,we))){R&&R();const Xe=Gn;Gn=g;try{const ke=[Oe,we===Mi?void 0:fe&&we[0]===Mi?[]:we,H];c?c(e,3,ke):e(...ke),we=Oe}finally{Gn=Xe}}}else g.run()};return f&&f(be),g=new Xl(b),g.scheduler=l?()=>l(be,!1):be,H=ae=>Mf(ae,!1,g),R=g.onStop=()=>{const ae=zi.get(g);if(ae){if(c)c(ae,4);else for(const Oe of ae)Oe();zi.delete(g)}},e?r?be(!0):we=g.run():l?l(be.bind(null,!0),!0):g.run(),le.pause=g.pause.bind(g),le.resume=g.resume.bind(g),le.stop=le,le}function yn(t,e=1/0,n){if(e<=0||!lt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Tt(t))yn(t.value,e,n);else if(Se(t))for(let r=0;r<t.length;r++)yn(t[r],e,n);else if(es(t)||_r(t))t.forEach(r=>{yn(r,e,n)});else if(Hl(t)){for(const r in t)yn(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&yn(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function si(t,e,n,r){try{return r?t(...r):t()}catch(s){os(s,e,n)}}function cn(t,e,n,r){if(je(t)){const s=si(t,e,n,r);return s&&ql(s)&&s.catch(a=>{os(a,e,n)}),s}if(Se(t)){const s=[];for(let a=0;a<t.length;a++)s.push(cn(t[a],e,n,r));return s}}function os(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:l}=e&&e.appContext.config||nt;if(e){let f=e.parent;const c=e.proxy,y=`https://vuejs.org/error-reference/#runtime-${n}`;for(;f;){const g=f.ec;if(g){for(let b=0;b<g.length;b++)if(g[b](t,c,y)===!1)return}f=f.parent}if(a){Mn(),si(a,null,10,[t,c,y]),Fn();return}}Uf(t,n,s,r,l)}function Uf(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}let ei=!1,wo=!1;const Dt=[];let sn=0;const wr=[];let Cn=null,gr=0;const pu=Promise.resolve();let ta=null;function Kf(t){const e=ta||pu;return t?e.then(this?t.bind(this):t):e}function Nf(t){let e=ei?sn+1:0,n=Dt.length;for(;e<n;){const r=e+n>>>1,s=Dt[r],a=ti(s);a<t||a===t&&s.flags&2?e=r+1:n=r}return e}function na(t){if(!(t.flags&1)){const e=ti(t),n=Dt[Dt.length-1];!n||!(t.flags&2)&&e>=ti(n)?Dt.push(t):Dt.splice(Nf(e),0,t),t.flags|=1,gu()}}function gu(){!ei&&!wo&&(wo=!0,ta=pu.then(mu))}function Bf(t){Se(t)?wr.push(...t):Cn&&t.id===-1?Cn.splice(gr+1,0,t):t.flags&1||(wr.push(t),t.flags|=1),gu()}function Xa(t,e,n=ei?sn+1:0){for(;n<Dt.length;n++){const r=Dt[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Dt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function yu(t){if(wr.length){const e=[...new Set(wr)].sort((n,r)=>ti(n)-ti(r));if(wr.length=0,Cn){Cn.push(...e);return}for(Cn=e,gr=0;gr<Cn.length;gr++){const n=Cn[gr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Cn=null,gr=0}}const ti=t=>t.id==null?t.flags&2?-1:1/0:t.id;function mu(t){wo=!1,ei=!0;try{for(sn=0;sn<Dt.length;sn++){const e=Dt[sn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),si(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;sn<Dt.length;sn++){const e=Dt[sn];e&&(e.flags&=-2)}sn=0,Dt.length=0,yu(),ei=!1,ta=null,(Dt.length||wr.length)&&mu()}}let Wt=null,vu=null;function Ji(t){const e=Wt;return Wt=t,vu=t&&t.type.__scopeId||null,e}function qf(t,e=Wt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&al(-1);const a=Ji(e);let l;try{l=t(...s)}finally{Ji(a),r._d&&al(1)}return l};return r._n=!0,r._c=!0,r._d=!0,r}function Mt(t,e){if(Wt===null)return t;const n=fs(Wt),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[a,l,f,c=nt]=e[s];a&&(je(a)&&(a={mounted:a,updated:a}),a.deep&&yn(l),r.push({dir:a,instance:n,value:l,oldValue:void 0,arg:f,modifiers:c}))}return t}function Wn(t,e,n,r){const s=t.dirs,a=e&&e.dirs;for(let l=0;l<s.length;l++){const f=s[l];a&&(f.oldValue=a[l].value);let c=f.dir[r];c&&(Mn(),cn(c,n,8,[t.el,f,t,e]),Fn())}}const Vf=Symbol("_vte"),Hf=t=>t.__isTeleport;function ra(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ra(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function _u(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function ko(t,e,n,r,s=!1){if(Se(t)){t.forEach((se,fe)=>ko(se,e&&(Se(e)?e[fe]:e),n,r,s));return}if(Wr(r)&&!s)return;const a=r.shapeFlag&4?fs(r.component):r.el,l=s?null:a,{i:f,r:c}=t,y=e&&e.r,g=f.refs===nt?f.refs={}:f.refs,b=f.setupState,R=Je(b),H=b===nt?()=>!1:se=>ze(R,se);if(y!=null&&y!==c&&(mt(y)?(g[y]=null,H(y)&&(b[y]=null)):Tt(y)&&(y.value=null)),je(c))si(c,f,12,[l,g]);else{const se=mt(c),fe=Tt(c);if(se||fe){const _e=()=>{if(t.f){const le=se?H(c)?b[c]:g[c]:c.value;s?Se(le)&&No(le,a):Se(le)?le.includes(a)||le.push(a):se?(g[c]=[a],H(c)&&(b[c]=g[c])):(c.value=[a],t.k&&(g[t.k]=c.value))}else se?(g[c]=l,H(c)&&(b[c]=l)):fe&&(c.value=l,t.k&&(g[t.k]=l))};l?(_e.id=-1,qt(_e,n)):_e()}}}const Wr=t=>!!t.type.__asyncLoader,bu=t=>t.type.__isKeepAlive;function Wf(t,e){wu(t,"a",e)}function zf(t,e){wu(t,"da",e)}function wu(t,e,n=Pt){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(as(e,r,n),n){let s=n.parent;for(;s&&s.parent;)bu(s.parent.vnode)&&Jf(r,e,n,s),s=s.parent}}function Jf(t,e,n,r){const s=as(e,t,r,!0);ku(()=>{No(r[e],s)},n)}function as(t,e,n=Pt,r=!1){if(n){const s=n[t]||(n[t]=[]),a=e.__weh||(e.__weh=(...l)=>{Mn();const f=oi(n),c=cn(e,n,t,l);return f(),Fn(),c});return r?s.unshift(a):s.push(a),a}}const vn=t=>(e,n=Pt)=>{(!cs||t==="sp")&&as(t,(...r)=>e(...r),n)},Gf=vn("bm"),ia=vn("m"),Qf=vn("bu"),Yf=vn("u"),Xf=vn("bum"),ku=vn("um"),Zf=vn("sp"),eh=vn("rtg"),th=vn("rtc");function nh(t,e=Pt){as("ec",t,e)}const rh="components";function xo(t,e){return sh(rh,t,!0,e)||t}const ih=Symbol.for("v-ndc");function sh(t,e,n=!0,r=!1){const s=Wt||Pt;if(s){const a=s.type;{const f=Wh(a,!1);if(f&&(f===e||f===Qt(e)||f===ns(Qt(e))))return a}const l=Za(s[t]||a[t],e)||Za(s.appContext[t],e);return!l&&r?a:l}}function Za(t,e){return t&&(t[e]||t[Qt(e)]||t[ns(Qt(e))])}function qi(t,e,n,r){let s;const a=n,l=Se(t);if(l||mt(t)){const f=l&&br(t);let c=!1;f&&(c=!Gt(t),t=is(t)),s=new Array(t.length);for(let y=0,g=t.length;y<g;y++)s[y]=e(c?Ot(t[y]):t[y],y,void 0,a)}else if(typeof t=="number"){s=new Array(t);for(let f=0;f<t;f++)s[f]=e(f+1,f,void 0,a)}else if(lt(t))if(t[Symbol.iterator])s=Array.from(t,(f,c)=>e(f,c,void 0,a));else{const f=Object.keys(t);s=new Array(f.length);for(let c=0,y=f.length;c<y;c++){const g=f[c];s[c]=e(t[g],g,c,a)}}else s=[];return s}const Eo=t=>t?qu(t)?fs(t):Eo(t.parent):null,zr=Ct(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Eo(t.parent),$root:t=>Eo(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>sa(t),$forceUpdate:t=>t.f||(t.f=()=>{na(t.update)}),$nextTick:t=>t.n||(t.n=Kf.bind(t.proxy)),$watch:t=>Ph.bind(t)}),ro=(t,e)=>t!==nt&&!t.__isScriptSetup&&ze(t,e),oh={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:a,accessCache:l,type:f,appContext:c}=t;let y;if(e[0]!=="$"){const H=l[e];if(H!==void 0)switch(H){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return a[e]}else{if(ro(r,e))return l[e]=1,r[e];if(s!==nt&&ze(s,e))return l[e]=2,s[e];if((y=t.propsOptions[0])&&ze(y,e))return l[e]=3,a[e];if(n!==nt&&ze(n,e))return l[e]=4,n[e];So&&(l[e]=0)}}const g=zr[e];let b,R;if(g)return e==="$attrs"&&At(t.attrs,"get",""),g(t);if((b=f.__cssModules)&&(b=b[e]))return b;if(n!==nt&&ze(n,e))return l[e]=4,n[e];if(R=c.config.globalProperties,ze(R,e))return R[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:a}=t;return ro(s,e)?(s[e]=n,!0):r!==nt&&ze(r,e)?(r[e]=n,!0):ze(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(a[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:a}},l){let f;return!!n[l]||t!==nt&&ze(t,l)||ro(e,l)||(f=a[0])&&ze(f,l)||ze(r,l)||ze(zr,l)||ze(s.config.globalProperties,l)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ze(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function el(t){return Se(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let So=!0;function ah(t){const e=sa(t),n=t.proxy,r=t.ctx;So=!1,e.beforeCreate&&tl(e.beforeCreate,t,"bc");const{data:s,computed:a,methods:l,watch:f,provide:c,inject:y,created:g,beforeMount:b,mounted:R,beforeUpdate:H,updated:se,activated:fe,deactivated:_e,beforeDestroy:le,beforeUnmount:we,destroyed:be,unmounted:ae,render:Oe,renderTracked:Xe,renderTriggered:ke,errorCaptured:I,serverPrefetch:j,expose:W,inheritAttrs:he,components:de,directives:me,filters:Re}=e;if(y&&lh(y,r,null),l)for(const Z in l){const ve=l[Z];je(ve)&&(r[Z]=ve.bind(n))}if(s){const Z=s.call(n,n);lt(Z)&&(t.data=Yo(Z))}if(So=!0,a)for(const Z in a){const ve=a[Z],ge=je(ve)?ve.bind(n,n):je(ve.get)?ve.get.bind(n,n):ln,rt=!je(ve)&&je(ve.set)?ve.set.bind(n):ln,Ye=Jh({get:ge,set:rt});Object.defineProperty(r,Z,{enumerable:!0,configurable:!0,get:()=>Ye.value,set:ue=>Ye.value=ue})}if(f)for(const Z in f)xu(f[Z],r,n,Z);if(c){const Z=je(c)?c.call(n):c;Reflect.ownKeys(Z).forEach(ve=>{ph(ve,Z[ve])})}g&&tl(g,t,"c");function Te(Z,ve){Se(ve)?ve.forEach(ge=>Z(ge.bind(n))):ve&&Z(ve.bind(n))}if(Te(Gf,b),Te(ia,R),Te(Qf,H),Te(Yf,se),Te(Wf,fe),Te(zf,_e),Te(nh,I),Te(th,Xe),Te(eh,ke),Te(Xf,we),Te(ku,ae),Te(Zf,j),Se(W))if(W.length){const Z=t.exposed||(t.exposed={});W.forEach(ve=>{Object.defineProperty(Z,ve,{get:()=>n[ve],set:ge=>n[ve]=ge})})}else t.exposed||(t.exposed={});Oe&&t.render===ln&&(t.render=Oe),he!=null&&(t.inheritAttrs=he),de&&(t.components=de),me&&(t.directives=me),j&&_u(t)}function lh(t,e,n=ln){Se(t)&&(t=Oo(t));for(const r in t){const s=t[r];let a;lt(s)?"default"in s?a=Vi(s.from||r,s.default,!0):a=Vi(s.from||r):a=Vi(s),Tt(a)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):e[r]=a}}function tl(t,e,n){cn(Se(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function xu(t,e,n,r){let s=r.includes(".")?Mu(n,r):()=>n[r];if(mt(t)){const a=e[t];je(a)&&so(s,a)}else if(je(t))so(s,t.bind(n));else if(lt(t))if(Se(t))t.forEach(a=>xu(a,e,n,r));else{const a=je(t.handler)?t.handler.bind(n):e[t.handler];je(a)&&so(s,a,t)}}function sa(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:a,config:{optionMergeStrategies:l}}=t.appContext,f=a.get(e);let c;return f?c=f:!s.length&&!n&&!r?c=e:(c={},s.length&&s.forEach(y=>Gi(c,y,l,!0)),Gi(c,e,l)),lt(e)&&a.set(e,c),c}function Gi(t,e,n,r=!1){const{mixins:s,extends:a}=e;a&&Gi(t,a,n,!0),s&&s.forEach(l=>Gi(t,l,n,!0));for(const l in e)if(!(r&&l==="expose")){const f=uh[l]||n&&n[l];t[l]=f?f(t[l],e[l]):e[l]}return t}const uh={data:nl,props:rl,emits:rl,methods:qr,computed:qr,beforeCreate:It,created:It,beforeMount:It,mounted:It,beforeUpdate:It,updated:It,beforeDestroy:It,beforeUnmount:It,destroyed:It,unmounted:It,activated:It,deactivated:It,errorCaptured:It,serverPrefetch:It,components:qr,directives:qr,watch:fh,provide:nl,inject:ch};function nl(t,e){return e?t?function(){return Ct(je(t)?t.call(this,this):t,je(e)?e.call(this,this):e)}:e:t}function ch(t,e){return qr(Oo(t),Oo(e))}function Oo(t){if(Se(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function It(t,e){return t?[...new Set([].concat(t,e))]:e}function qr(t,e){return t?Ct(Object.create(null),t,e):e}function rl(t,e){return t?Se(t)&&Se(e)?[...new Set([...t,...e])]:Ct(Object.create(null),el(t),el(e??{})):e}function fh(t,e){if(!t)return e;if(!e)return t;const n=Ct(Object.create(null),t);for(const r in e)n[r]=It(t[r],e[r]);return n}function Eu(){return{app:null,config:{isNativeTag:zc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hh=0;function dh(t,e){return function(r,s=null){je(r)||(r=Ct({},r)),s!=null&&!lt(s)&&(s=null);const a=Eu(),l=new WeakSet,f=[];let c=!1;const y=a.app={_uid:hh++,_component:r,_props:s,_container:null,_context:a,_instance:null,version:Gh,get config(){return a.config},set config(g){},use(g,...b){return l.has(g)||(g&&je(g.install)?(l.add(g),g.install(y,...b)):je(g)&&(l.add(g),g(y,...b))),y},mixin(g){return a.mixins.includes(g)||a.mixins.push(g),y},component(g,b){return b?(a.components[g]=b,y):a.components[g]},directive(g,b){return b?(a.directives[g]=b,y):a.directives[g]},mount(g,b,R){if(!c){const H=y._ceVNode||$t(r,s);return H.appContext=a,R===!0?R="svg":R===!1&&(R=void 0),b&&e?e(H,g):t(H,g,R),c=!0,y._container=g,g.__vue_app__=y,fs(H.component)}},onUnmount(g){f.push(g)},unmount(){c&&(cn(f,y._instance,16),t(null,y._container),delete y._container.__vue_app__)},provide(g,b){return a.provides[g]=b,y},runWithContext(g){const b=kr;kr=y;try{return g()}finally{kr=b}}};return y}}let kr=null;function ph(t,e){if(Pt){let n=Pt.provides;const r=Pt.parent&&Pt.parent.provides;r===n&&(n=Pt.provides=Object.create(r)),n[t]=e}}function Vi(t,e,n=!1){const r=Pt||Wt;if(r||kr){const s=kr?kr._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&je(e)?e.call(r&&r.proxy):e}}const Su={},Ou=()=>Object.create(Su),Pu=t=>Object.getPrototypeOf(t)===Su;function gh(t,e,n,r=!1){const s={},a=Ou();t.propsDefaults=Object.create(null),Tu(t,e,s,a);for(const l in t.propsOptions[0])l in s||(s[l]=void 0);n?t.props=r?s:Cf(s):t.type.props?t.props=s:t.props=a,t.attrs=a}function yh(t,e,n,r){const{props:s,attrs:a,vnode:{patchFlag:l}}=t,f=Je(s),[c]=t.propsOptions;let y=!1;if((r||l>0)&&!(l&16)){if(l&8){const g=t.vnode.dynamicProps;for(let b=0;b<g.length;b++){let R=g[b];if(ls(t.emitsOptions,R))continue;const H=e[R];if(c)if(ze(a,R))H!==a[R]&&(a[R]=H,y=!0);else{const se=Qt(R);s[se]=Po(c,f,se,H,t,!1)}else H!==a[R]&&(a[R]=H,y=!0)}}}else{Tu(t,e,s,a)&&(y=!0);let g;for(const b in f)(!e||!ze(e,b)&&((g=Ln(b))===b||!ze(e,g)))&&(c?n&&(n[b]!==void 0||n[g]!==void 0)&&(s[b]=Po(c,f,b,void 0,t,!0)):delete s[b]);if(a!==f)for(const b in a)(!e||!ze(e,b))&&(delete a[b],y=!0)}y&&mn(t.attrs,"set","")}function Tu(t,e,n,r){const[s,a]=t.propsOptions;let l=!1,f;if(e)for(let c in e){if(Hr(c))continue;const y=e[c];let g;s&&ze(s,g=Qt(c))?!a||!a.includes(g)?n[g]=y:(f||(f={}))[g]=y:ls(t.emitsOptions,c)||(!(c in r)||y!==r[c])&&(r[c]=y,l=!0)}if(a){const c=Je(n),y=f||nt;for(let g=0;g<a.length;g++){const b=a[g];n[b]=Po(s,c,b,y[b],t,!ze(y,b))}}return l}function Po(t,e,n,r,s,a){const l=t[n];if(l!=null){const f=ze(l,"default");if(f&&r===void 0){const c=l.default;if(l.type!==Function&&!l.skipFactory&&je(c)){const{propsDefaults:y}=s;if(n in y)r=y[n];else{const g=oi(s);r=y[n]=c.call(null,e),g()}}else r=c;s.ce&&s.ce._setProp(n,r)}l[0]&&(a&&!f?r=!1:l[1]&&(r===""||r===Ln(n))&&(r=!0))}return r}const mh=new WeakMap;function Cu(t,e,n=!1){const r=n?mh:e.propsCache,s=r.get(t);if(s)return s;const a=t.props,l={},f=[];let c=!1;if(!je(t)){const g=b=>{c=!0;const[R,H]=Cu(b,e,!0);Ct(l,R),H&&f.push(...H)};!n&&e.mixins.length&&e.mixins.forEach(g),t.extends&&g(t.extends),t.mixins&&t.mixins.forEach(g)}if(!a&&!c)return lt(t)&&r.set(t,vr),vr;if(Se(a))for(let g=0;g<a.length;g++){const b=Qt(a[g]);il(b)&&(l[b]=nt)}else if(a)for(const g in a){const b=Qt(g);if(il(b)){const R=a[g],H=l[b]=Se(R)||je(R)?{type:R}:Ct({},R),se=H.type;let fe=!1,_e=!0;if(Se(se))for(let le=0;le<se.length;++le){const we=se[le],be=je(we)&&we.name;if(be==="Boolean"){fe=!0;break}else be==="String"&&(_e=!1)}else fe=je(se)&&se.name==="Boolean";H[0]=fe,H[1]=_e,(fe||ze(H,"default"))&&f.push(b)}}const y=[l,f];return lt(t)&&r.set(t,y),y}function il(t){return t[0]!=="$"&&!Hr(t)}const Au=t=>t[0]==="_"||t==="$stable",oa=t=>Se(t)?t.map(on):[on(t)],vh=(t,e,n)=>{if(e._n)return e;const r=qf((...s)=>oa(e(...s)),n);return r._c=!1,r},ju=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Au(s))continue;const a=t[s];if(je(a))e[s]=vh(s,a,r);else if(a!=null){const l=oa(a);e[s]=()=>l}}},Ru=(t,e)=>{const n=oa(e);t.slots.default=()=>n},Iu=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},_h=(t,e,n)=>{const r=t.slots=Ou();if(t.vnode.shapeFlag&32){const s=e._;s?(Iu(r,e,n),n&&Wl(r,"_",s,!0)):ju(e,r)}else e&&Ru(t,e)},bh=(t,e,n)=>{const{vnode:r,slots:s}=t;let a=!0,l=nt;if(r.shapeFlag&32){const f=e._;f?n&&f===1?a=!1:Iu(s,e,n):(a=!e.$stable,ju(e,s)),l=e}else e&&(Ru(t,e),l={default:1});if(a)for(const f in s)!Au(f)&&l[f]==null&&delete s[f]},qt=Dh;function wh(t){return kh(t)}function kh(t,e){const n=zl();n.__VUE__=!0;const{insert:r,remove:s,patchProp:a,createElement:l,createText:f,createComment:c,setText:y,setElementText:g,parentNode:b,nextSibling:R,setScopeId:H=ln,insertStaticContent:se}=t,fe=(v,k,D,F=null,N=null,B=null,X=void 0,J=null,V=!!k.dynamicChildren)=>{if(v===k)return;v&&!Kr(v,k)&&(F=Ze(v),ue(v,N,B,!0),v=null),k.patchFlag===-2&&(V=!1,k.dynamicChildren=null);const{type:K,ref:oe,shapeFlag:ee}=k;switch(K){case us:_e(v,k,D,F);break;case tr:le(v,k,D,F);break;case ao:v==null&&we(k,D,F,X);break;case Ut:de(v,k,D,F,N,B,X,J,V);break;default:ee&1?Oe(v,k,D,F,N,B,X,J,V):ee&6?me(v,k,D,F,N,B,X,J,V):(ee&64||ee&128)&&K.process(v,k,D,F,N,B,X,J,V,Me)}oe!=null&&N&&ko(oe,v&&v.ref,B,k||v,!k)},_e=(v,k,D,F)=>{if(v==null)r(k.el=f(k.children),D,F);else{const N=k.el=v.el;k.children!==v.children&&y(N,k.children)}},le=(v,k,D,F)=>{v==null?r(k.el=c(k.children||""),D,F):k.el=v.el},we=(v,k,D,F)=>{[v.el,v.anchor]=se(v.children,k,D,F,v.el,v.anchor)},be=({el:v,anchor:k},D,F)=>{let N;for(;v&&v!==k;)N=R(v),r(v,D,F),v=N;r(k,D,F)},ae=({el:v,anchor:k})=>{let D;for(;v&&v!==k;)D=R(v),s(v),v=D;s(k)},Oe=(v,k,D,F,N,B,X,J,V)=>{k.type==="svg"?X="svg":k.type==="math"&&(X="mathml"),v==null?Xe(k,D,F,N,B,X,J,V):j(v,k,N,B,X,J,V)},Xe=(v,k,D,F,N,B,X,J)=>{let V,K;const{props:oe,shapeFlag:ee,transition:Y,dirs:ye}=v;if(V=v.el=l(v.type,B,oe&&oe.is,oe),ee&8?g(V,v.children):ee&16&&I(v.children,V,null,F,N,io(v,B),X,J),ye&&Wn(v,null,F,"created"),ke(V,v,v.scopeId,X,F),oe){for(const Ie in oe)Ie!=="value"&&!Hr(Ie)&&a(V,Ie,null,oe[Ie],B,F);"value"in oe&&a(V,"value",null,oe.value,B),(K=oe.onVnodeBeforeMount)&&rn(K,F,v)}ye&&Wn(v,null,F,"beforeMount");const Ee=xh(N,Y);Ee&&Y.beforeEnter(V),r(V,k,D),((K=oe&&oe.onVnodeMounted)||Ee||ye)&&qt(()=>{K&&rn(K,F,v),Ee&&Y.enter(V),ye&&Wn(v,null,F,"mounted")},N)},ke=(v,k,D,F,N)=>{if(D&&H(v,D),F)for(let B=0;B<F.length;B++)H(v,F[B]);if(N){let B=N.subTree;if(k===B||Uu(B.type)&&(B.ssContent===k||B.ssFallback===k)){const X=N.vnode;ke(v,X,X.scopeId,X.slotScopeIds,N.parent)}}},I=(v,k,D,F,N,B,X,J,V=0)=>{for(let K=V;K<v.length;K++){const oe=v[K]=J?An(v[K]):on(v[K]);fe(null,oe,k,D,F,N,B,X,J)}},j=(v,k,D,F,N,B,X)=>{const J=k.el=v.el;let{patchFlag:V,dynamicChildren:K,dirs:oe}=k;V|=v.patchFlag&16;const ee=v.props||nt,Y=k.props||nt;let ye;if(D&&zn(D,!1),(ye=Y.onVnodeBeforeUpdate)&&rn(ye,D,k,v),oe&&Wn(k,v,D,"beforeUpdate"),D&&zn(D,!0),(ee.innerHTML&&Y.innerHTML==null||ee.textContent&&Y.textContent==null)&&g(J,""),K?W(v.dynamicChildren,K,J,D,F,io(k,N),B):X||ve(v,k,J,null,D,F,io(k,N),B,!1),V>0){if(V&16)he(J,ee,Y,D,N);else if(V&2&&ee.class!==Y.class&&a(J,"class",null,Y.class,N),V&4&&a(J,"style",ee.style,Y.style,N),V&8){const Ee=k.dynamicProps;for(let Ie=0;Ie<Ee.length;Ie++){const Ce=Ee[Ie],et=ee[Ce],Ne=Y[Ce];(Ne!==et||Ce==="value")&&a(J,Ce,et,Ne,N,D)}}V&1&&v.children!==k.children&&g(J,k.children)}else!X&&K==null&&he(J,ee,Y,D,N);((ye=Y.onVnodeUpdated)||oe)&&qt(()=>{ye&&rn(ye,D,k,v),oe&&Wn(k,v,D,"updated")},F)},W=(v,k,D,F,N,B,X)=>{for(let J=0;J<k.length;J++){const V=v[J],K=k[J],oe=V.el&&(V.type===Ut||!Kr(V,K)||V.shapeFlag&70)?b(V.el):D;fe(V,K,oe,null,F,N,B,X,!0)}},he=(v,k,D,F,N)=>{if(k!==D){if(k!==nt)for(const B in k)!Hr(B)&&!(B in D)&&a(v,B,k[B],null,N,F);for(const B in D){if(Hr(B))continue;const X=D[B],J=k[B];X!==J&&B!=="value"&&a(v,B,J,X,N,F)}"value"in D&&a(v,"value",k.value,D.value,N)}},de=(v,k,D,F,N,B,X,J,V)=>{const K=k.el=v?v.el:f(""),oe=k.anchor=v?v.anchor:f("");let{patchFlag:ee,dynamicChildren:Y,slotScopeIds:ye}=k;ye&&(J=J?J.concat(ye):ye),v==null?(r(K,D,F),r(oe,D,F),I(k.children||[],D,oe,N,B,X,J,V)):ee>0&&ee&64&&Y&&v.dynamicChildren?(W(v.dynamicChildren,Y,D,N,B,X,J),(k.key!=null||N&&k===N.subTree)&&Du(v,k,!0)):ve(v,k,D,oe,N,B,X,J,V)},me=(v,k,D,F,N,B,X,J,V)=>{k.slotScopeIds=J,v==null?k.shapeFlag&512?N.ctx.activate(k,D,F,X,V):Re(k,D,F,N,B,X,V):ut(v,k,V)},Re=(v,k,D,F,N,B,X)=>{const J=v.component=Nh(v,F,N);if(bu(v)&&(J.ctx.renderer=Me),Bh(J,!1,X),J.asyncDep){if(N&&N.registerDep(J,Te,X),!v.el){const V=J.subTree=$t(tr);le(null,V,k,D)}}else Te(J,v,k,D,N,B,X)},ut=(v,k,D)=>{const F=k.component=v.component;if(Rh(v,k,D))if(F.asyncDep&&!F.asyncResolved){Z(F,k,D);return}else F.next=k,F.update();else k.el=v.el,F.vnode=k},Te=(v,k,D,F,N,B,X)=>{const J=()=>{if(v.isMounted){let{next:ee,bu:Y,u:ye,parent:Ee,vnode:Ie}=v;{const dt=$u(v);if(dt){ee&&(ee.el=Ie.el,Z(v,ee,X)),dt.asyncDep.then(()=>{v.isUnmounted||J()});return}}let Ce=ee,et;zn(v,!1),ee?(ee.el=Ie.el,Z(v,ee,X)):ee=Ie,Y&&Bi(Y),(et=ee.props&&ee.props.onVnodeBeforeUpdate)&&rn(et,Ee,ee,Ie),zn(v,!0);const Ne=oo(v),Qe=v.subTree;v.subTree=Ne,fe(Qe,Ne,b(Qe.el),Ze(Qe),v,N,B),ee.el=Ne.el,Ce===null&&Ih(v,Ne.el),ye&&qt(ye,N),(et=ee.props&&ee.props.onVnodeUpdated)&&qt(()=>rn(et,Ee,ee,Ie),N)}else{let ee;const{el:Y,props:ye}=k,{bm:Ee,m:Ie,parent:Ce,root:et,type:Ne}=v,Qe=Wr(k);if(zn(v,!1),Ee&&Bi(Ee),!Qe&&(ee=ye&&ye.onVnodeBeforeMount)&&rn(ee,Ce,k),zn(v,!0),Y&&xe){const dt=()=>{v.subTree=oo(v),xe(Y,v.subTree,v,N,null)};Qe&&Ne.__asyncHydrate?Ne.__asyncHydrate(Y,v,dt):dt()}else{et.ce&&et.ce._injectChildStyle(Ne);const dt=v.subTree=oo(v);fe(null,dt,D,F,v,N,B),k.el=dt.el}if(Ie&&qt(Ie,N),!Qe&&(ee=ye&&ye.onVnodeMounted)){const dt=k;qt(()=>rn(ee,Ce,dt),N)}(k.shapeFlag&256||Ce&&Wr(Ce.vnode)&&Ce.vnode.shapeFlag&256)&&v.a&&qt(v.a,N),v.isMounted=!0,k=D=F=null}};v.scope.on();const V=v.effect=new Xl(J);v.scope.off();const K=v.update=V.run.bind(V),oe=v.job=V.runIfDirty.bind(V);oe.i=v,oe.id=v.uid,V.scheduler=()=>na(oe),zn(v,!0),K()},Z=(v,k,D)=>{k.component=v;const F=v.vnode.props;v.vnode=k,v.next=null,yh(v,k.props,F,D),bh(v,k.children,D),Mn(),Xa(v),Fn()},ve=(v,k,D,F,N,B,X,J,V=!1)=>{const K=v&&v.children,oe=v?v.shapeFlag:0,ee=k.children,{patchFlag:Y,shapeFlag:ye}=k;if(Y>0){if(Y&128){rt(K,ee,D,F,N,B,X,J,V);return}else if(Y&256){ge(K,ee,D,F,N,B,X,J,V);return}}ye&8?(oe&16&&We(K,N,B),ee!==K&&g(D,ee)):oe&16?ye&16?rt(K,ee,D,F,N,B,X,J,V):We(K,N,B,!0):(oe&8&&g(D,""),ye&16&&I(ee,D,F,N,B,X,J,V))},ge=(v,k,D,F,N,B,X,J,V)=>{v=v||vr,k=k||vr;const K=v.length,oe=k.length,ee=Math.min(K,oe);let Y;for(Y=0;Y<ee;Y++){const ye=k[Y]=V?An(k[Y]):on(k[Y]);fe(v[Y],ye,D,null,N,B,X,J,V)}K>oe?We(v,N,B,!0,!1,ee):I(k,D,F,N,B,X,J,V,ee)},rt=(v,k,D,F,N,B,X,J,V)=>{let K=0;const oe=k.length;let ee=v.length-1,Y=oe-1;for(;K<=ee&&K<=Y;){const ye=v[K],Ee=k[K]=V?An(k[K]):on(k[K]);if(Kr(ye,Ee))fe(ye,Ee,D,null,N,B,X,J,V);else break;K++}for(;K<=ee&&K<=Y;){const ye=v[ee],Ee=k[Y]=V?An(k[Y]):on(k[Y]);if(Kr(ye,Ee))fe(ye,Ee,D,null,N,B,X,J,V);else break;ee--,Y--}if(K>ee){if(K<=Y){const ye=Y+1,Ee=ye<oe?k[ye].el:F;for(;K<=Y;)fe(null,k[K]=V?An(k[K]):on(k[K]),D,Ee,N,B,X,J,V),K++}}else if(K>Y)for(;K<=ee;)ue(v[K],N,B,!0),K++;else{const ye=K,Ee=K,Ie=new Map;for(K=Ee;K<=Y;K++){const ht=k[K]=V?An(k[K]):on(k[K]);ht.key!=null&&Ie.set(ht.key,K)}let Ce,et=0;const Ne=Y-Ee+1;let Qe=!1,dt=0;const tt=new Array(Ne);for(K=0;K<Ne;K++)tt[K]=0;for(K=ye;K<=ee;K++){const ht=v[K];if(et>=Ne){ue(ht,N,B,!0);continue}let _t;if(ht.key!=null)_t=Ie.get(ht.key);else for(Ce=Ee;Ce<=Y;Ce++)if(tt[Ce-Ee]===0&&Kr(ht,k[Ce])){_t=Ce;break}_t===void 0?ue(ht,N,B,!0):(tt[_t-Ee]=K+1,_t>=dt?dt=_t:Qe=!0,fe(ht,k[_t],D,null,N,B,X,J,V),et++)}const pe=Qe?Eh(tt):vr;for(Ce=pe.length-1,K=Ne-1;K>=0;K--){const ht=Ee+K,_t=k[ht],Un=ht+1<oe?k[ht+1].el:F;tt[K]===0?fe(null,_t,D,Un,N,B,X,J,V):Qe&&(Ce<0||K!==pe[Ce]?Ye(_t,D,Un,2):Ce--)}}},Ye=(v,k,D,F,N=null)=>{const{el:B,type:X,transition:J,children:V,shapeFlag:K}=v;if(K&6){Ye(v.component.subTree,k,D,F);return}if(K&128){v.suspense.move(k,D,F);return}if(K&64){X.move(v,k,D,Me);return}if(X===Ut){r(B,k,D);for(let ee=0;ee<V.length;ee++)Ye(V[ee],k,D,F);r(v.anchor,k,D);return}if(X===ao){be(v,k,D);return}if(F!==2&&K&1&&J)if(F===0)J.beforeEnter(B),r(B,k,D),qt(()=>J.enter(B),N);else{const{leave:ee,delayLeave:Y,afterLeave:ye}=J,Ee=()=>r(B,k,D),Ie=()=>{ee(B,()=>{Ee(),ye&&ye()})};Y?Y(B,Ee,Ie):Ie()}else r(B,k,D)},ue=(v,k,D,F=!1,N=!1)=>{const{type:B,props:X,ref:J,children:V,dynamicChildren:K,shapeFlag:oe,patchFlag:ee,dirs:Y,cacheIndex:ye}=v;if(ee===-2&&(N=!1),J!=null&&ko(J,null,D,v,!0),ye!=null&&(k.renderCache[ye]=void 0),oe&256){k.ctx.deactivate(v);return}const Ee=oe&1&&Y,Ie=!Wr(v);let Ce;if(Ie&&(Ce=X&&X.onVnodeBeforeUnmount)&&rn(Ce,k,v),oe&6)Ge(v.component,D,F);else{if(oe&128){v.suspense.unmount(D,F);return}Ee&&Wn(v,null,k,"beforeUnmount"),oe&64?v.type.remove(v,k,D,Me,F):K&&!K.hasOnce&&(B!==Ut||ee>0&&ee&64)?We(K,k,D,!1,!0):(B===Ut&&ee&384||!N&&oe&16)&&We(V,k,D),F&&Ke(v)}(Ie&&(Ce=X&&X.onVnodeUnmounted)||Ee)&&qt(()=>{Ce&&rn(Ce,k,v),Ee&&Wn(v,null,k,"unmounted")},D)},Ke=v=>{const{type:k,el:D,anchor:F,transition:N}=v;if(k===Ut){pt(D,F);return}if(k===ao){ae(v);return}const B=()=>{s(D),N&&!N.persisted&&N.afterLeave&&N.afterLeave()};if(v.shapeFlag&1&&N&&!N.persisted){const{leave:X,delayLeave:J}=N,V=()=>X(D,B);J?J(v.el,B,V):V()}else B()},pt=(v,k)=>{let D;for(;v!==k;)D=R(v),s(v),v=D;s(k)},Ge=(v,k,D)=>{const{bum:F,scope:N,job:B,subTree:X,um:J,m:V,a:K}=v;sl(V),sl(K),F&&Bi(F),N.stop(),B&&(B.flags|=8,ue(X,v,k,D)),J&&qt(J,k),qt(()=>{v.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},We=(v,k,D,F=!1,N=!1,B=0)=>{for(let X=B;X<v.length;X++)ue(v[X],k,D,F,N)},Ze=v=>{if(v.shapeFlag&6)return Ze(v.component.subTree);if(v.shapeFlag&128)return v.suspense.next();const k=R(v.anchor||v.el),D=k&&k[Vf];return D?R(D):k};let ct=!1;const q=(v,k,D)=>{v==null?k._vnode&&ue(k._vnode,null,null,!0):fe(k._vnode||null,v,k,null,null,null,D),k._vnode=v,ct||(ct=!0,Xa(),yu(),ct=!1)},Me={p:fe,um:ue,m:Ye,r:Ke,mt:Re,mc:I,pc:ve,pbc:W,n:Ze,o:t};let He,xe;return{render:q,hydrate:He,createApp:dh(q,He)}}function io({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function zn({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function xh(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Du(t,e,n=!1){const r=t.children,s=e.children;if(Se(r)&&Se(s))for(let a=0;a<r.length;a++){const l=r[a];let f=s[a];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=s[a]=An(s[a]),f.el=l.el),!n&&f.patchFlag!==-2&&Du(l,f)),f.type===us&&(f.el=l.el)}}function Eh(t){const e=t.slice(),n=[0];let r,s,a,l,f;const c=t.length;for(r=0;r<c;r++){const y=t[r];if(y!==0){if(s=n[n.length-1],t[s]<y){e[r]=s,n.push(r);continue}for(a=0,l=n.length-1;a<l;)f=a+l>>1,t[n[f]]<y?a=f+1:l=f;y<t[n[a]]&&(a>0&&(e[r]=n[a-1]),n[a]=r)}}for(a=n.length,l=n[a-1];a-- >0;)n[a]=l,l=e[l];return n}function $u(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:$u(e)}function sl(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Sh=Symbol.for("v-scx"),Oh=()=>Vi(Sh);function so(t,e,n){return Lu(t,e,n)}function Lu(t,e,n=nt){const{immediate:r,deep:s,flush:a,once:l}=n,f=Ct({},n);let c;if(cs)if(a==="sync"){const R=Oh();c=R.__watcherHandles||(R.__watcherHandles=[])}else if(!e||r)f.once=!0;else{const R=()=>{};return R.stop=ln,R.resume=ln,R.pause=ln,R}const y=Pt;f.call=(R,H,se)=>cn(R,y,H,se);let g=!1;a==="post"?f.scheduler=R=>{qt(R,y&&y.suspense)}:a!=="sync"&&(g=!0,f.scheduler=(R,H)=>{H?R():na(R)}),f.augmentJob=R=>{e&&(R.flags|=4),g&&(R.flags|=2,y&&(R.id=y.uid,R.i=y))};const b=Ff(t,e,f);return c&&c.push(b),b}function Ph(t,e,n){const r=this.proxy,s=mt(t)?t.includes(".")?Mu(r,t):()=>r[t]:t.bind(r,r);let a;je(e)?a=e:(a=e.handler,n=e);const l=oi(this),f=Lu(s,a.bind(r),n);return l(),f}function Mu(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const Th=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Qt(e)}Modifiers`]||t[`${Ln(e)}Modifiers`];function Ch(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||nt;let s=n;const a=e.startsWith("update:"),l=a&&Th(r,e.slice(7));l&&(l.trim&&(s=n.map(g=>mt(g)?g.trim():g)),l.number&&(s=n.map(mo)));let f,c=r[f=Xs(e)]||r[f=Xs(Qt(e))];!c&&a&&(c=r[f=Xs(Ln(e))]),c&&cn(c,t,6,s);const y=r[f+"Once"];if(y){if(!t.emitted)t.emitted={};else if(t.emitted[f])return;t.emitted[f]=!0,cn(y,t,6,s)}}function Fu(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const a=t.emits;let l={},f=!1;if(!je(t)){const c=y=>{const g=Fu(y,e,!0);g&&(f=!0,Ct(l,g))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!a&&!f?(lt(t)&&r.set(t,null),null):(Se(a)?a.forEach(c=>l[c]=null):Ct(l,a),lt(t)&&r.set(t,l),l)}function ls(t,e){return!t||!Zi(e)?!1:(e=e.slice(2).replace(/Once$/,""),ze(t,e[0].toLowerCase()+e.slice(1))||ze(t,Ln(e))||ze(t,e))}function oo(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[a],slots:l,attrs:f,emit:c,render:y,renderCache:g,props:b,data:R,setupState:H,ctx:se,inheritAttrs:fe}=t,_e=Ji(t);let le,we;try{if(n.shapeFlag&4){const ae=s||r,Oe=ae;le=on(y.call(Oe,ae,g,b,H,R,se)),we=f}else{const ae=e;le=on(ae.length>1?ae(b,{attrs:f,slots:l,emit:c}):ae(b,null)),we=e.props?f:Ah(f)}}catch(ae){Jr.length=0,os(ae,t,1),le=$t(tr)}let be=le;if(we&&fe!==!1){const ae=Object.keys(we),{shapeFlag:Oe}=be;ae.length&&Oe&7&&(a&&ae.some(Ko)&&(we=jh(we,a)),be=Sr(be,we,!1,!0))}return n.dirs&&(be=Sr(be,null,!1,!0),be.dirs=be.dirs?be.dirs.concat(n.dirs):n.dirs),n.transition&&ra(be,n.transition),le=be,Ji(_e),le}const Ah=t=>{let e;for(const n in t)(n==="class"||n==="style"||Zi(n))&&((e||(e={}))[n]=t[n]);return e},jh=(t,e)=>{const n={};for(const r in t)(!Ko(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Rh(t,e,n){const{props:r,children:s,component:a}=t,{props:l,children:f,patchFlag:c}=e,y=a.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?ol(r,l,y):!!l;if(c&8){const g=e.dynamicProps;for(let b=0;b<g.length;b++){const R=g[b];if(l[R]!==r[R]&&!ls(y,R))return!0}}}else return(s||f)&&(!f||!f.$stable)?!0:r===l?!1:r?l?ol(r,l,y):!0:!!l;return!1}function ol(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const a=r[s];if(e[a]!==t[a]&&!ls(n,a))return!0}return!1}function Ih({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Uu=t=>t.__isSuspense;function Dh(t,e){e&&e.pendingBranch?Se(t)?e.effects.push(...t):e.effects.push(t):Bf(t)}const Ut=Symbol.for("v-fgt"),us=Symbol.for("v-txt"),tr=Symbol.for("v-cmt"),ao=Symbol.for("v-stc"),Jr=[];let zt=null;function Ve(t=!1){Jr.push(zt=t?null:[])}function $h(){Jr.pop(),zt=Jr[Jr.length-1]||null}let ni=1;function al(t){ni+=t,t<0&&zt&&(zt.hasOnce=!0)}function Ku(t){return t.dynamicChildren=ni>0?zt||vr:null,$h(),ni>0&&zt&&zt.push(t),t}function ot(t,e,n,r,s,a){return Ku(ne(t,e,n,r,s,a,!0))}function mr(t,e,n,r,s){return Ku($t(t,e,n,r,s,!0))}function Nu(t){return t?t.__v_isVNode===!0:!1}function Kr(t,e){return t.type===e.type&&t.key===e.key}const Bu=({key:t})=>t??null,Hi=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?mt(t)||Tt(t)||je(t)?{i:Wt,r:t,k:e,f:!!n}:t:null);function ne(t,e=null,n=null,r=0,s=null,a=t===Ut?0:1,l=!1,f=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Bu(e),ref:e&&Hi(e),scopeId:vu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Wt};return f?(aa(c,n),a&128&&t.normalize(c)):n&&(c.shapeFlag|=mt(n)?8:16),ni>0&&!l&&zt&&(c.patchFlag>0||a&6)&&c.patchFlag!==32&&zt.push(c),c}const $t=Lh;function Lh(t,e=null,n=null,r=0,s=null,a=!1){if((!t||t===ih)&&(t=tr),Nu(t)){const f=Sr(t,e,!0);return n&&aa(f,n),ni>0&&!a&&zt&&(f.shapeFlag&6?zt[zt.indexOf(t)]=f:zt.push(f)),f.patchFlag=-2,f}if(zh(t)&&(t=t.__vccOpts),e){e=Mh(e);let{class:f,style:c}=e;f&&!mt(f)&&(e.class=Vo(f)),lt(c)&&(Zo(c)&&!Se(c)&&(c=Ct({},c)),e.style=qo(c))}const l=mt(t)?1:Uu(t)?128:Hf(t)?64:lt(t)?4:je(t)?2:0;return ne(t,e,n,r,s,l,a,!0)}function Mh(t){return t?Zo(t)||Pu(t)?Ct({},t):t:null}function Sr(t,e,n=!1,r=!1){const{props:s,ref:a,patchFlag:l,children:f,transition:c}=t,y=e?Fh(s||{},e):s,g={__v_isVNode:!0,__v_skip:!0,type:t.type,props:y,key:y&&Bu(y),ref:e&&e.ref?n&&a?Se(a)?a.concat(Hi(e)):[a,Hi(e)]:Hi(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:f,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ut?l===-1?16:l|16:l,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Sr(t.ssContent),ssFallback:t.ssFallback&&Sr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&r&&ra(g,c.clone(g)),g}function an(t=" ",e=0){return $t(us,null,t,e)}function vt(t="",e=!1){return e?(Ve(),mr(tr,null,t)):$t(tr,null,t)}function on(t){return t==null||typeof t=="boolean"?$t(tr):Se(t)?$t(Ut,null,t.slice()):Nu(t)?An(t):$t(us,null,String(t))}function An(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Sr(t)}function aa(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Se(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),aa(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!Pu(e)?e._ctx=Wt:s===3&&Wt&&(Wt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else je(e)?(e={default:e,_ctx:Wt},n=32):(e=String(e),r&64?(n=16,e=[an(e)]):n=8);t.children=e,t.shapeFlag|=n}function Fh(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Vo([e.class,r.class]));else if(s==="style")e.style=qo([e.style,r.style]);else if(Zi(s)){const a=e[s],l=r[s];l&&a!==l&&!(Se(a)&&a.includes(l))&&(e[s]=a?[].concat(a,l):l)}else s!==""&&(e[s]=r[s])}return e}function rn(t,e,n,r=null){cn(t,e,7,[n,r])}const Uh=Eu();let Kh=0;function Nh(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||Uh,a={uid:Kh++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new of(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Cu(r,s),emitsOptions:Fu(r,s),emit:null,emitted:null,propsDefaults:nt,inheritAttrs:r.inheritAttrs,ctx:nt,data:nt,props:nt,attrs:nt,slots:nt,refs:nt,setupState:nt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=Ch.bind(null,a),t.ce&&t.ce(a),a}let Pt=null,Qi,To;{const t=zl(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),a=>{s.length>1?s.forEach(l=>l(a)):s[0](a)}};Qi=e("__VUE_INSTANCE_SETTERS__",n=>Pt=n),To=e("__VUE_SSR_SETTERS__",n=>cs=n)}const oi=t=>{const e=Pt;return Qi(t),t.scope.on(),()=>{t.scope.off(),Qi(e)}},ll=()=>{Pt&&Pt.scope.off(),Qi(null)};function qu(t){return t.vnode.shapeFlag&4}let cs=!1;function Bh(t,e=!1,n=!1){e&&To(e);const{props:r,children:s}=t.vnode,a=qu(t);gh(t,r,a,e),_h(t,s,n);const l=a?qh(t,e):void 0;return e&&To(!1),l}function qh(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,oh);const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?Hh(t):null,a=oi(t);Mn();const l=si(r,t,0,[t.props,s]);if(Fn(),a(),ql(l)){if(Wr(t)||_u(t),l.then(ll,ll),e)return l.then(f=>{ul(t,f,e)}).catch(f=>{os(f,t,0)});t.asyncDep=l}else ul(t,l,e)}else Vu(t,e)}function ul(t,e,n){je(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:lt(e)&&(t.setupState=du(e)),Vu(t,n)}let cl;function Vu(t,e,n){const r=t.type;if(!t.render){if(!e&&cl&&!r.render){const s=r.template||sa(t).template;if(s){const{isCustomElement:a,compilerOptions:l}=t.appContext.config,{delimiters:f,compilerOptions:c}=r,y=Ct(Ct({isCustomElement:a,delimiters:f},l),c);r.render=cl(s,y)}}t.render=r.render||ln}{const s=oi(t);Mn();try{ah(t)}finally{Fn(),s()}}}const Vh={get(t,e){return At(t,"get",""),t[e]}};function Hh(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Vh),slots:t.slots,emit:t.emit,expose:e}}function fs(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(du(Af(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in zr)return zr[n](t)},has(e,n){return n in e||n in zr}})):t.proxy}function Wh(t,e=!0){return je(t)?t.displayName||t.name:t.name||e&&t.__name}function zh(t){return je(t)&&"__vccOpts"in t}const Jh=(t,e)=>Lf(t,e,cs),Gh="3.5.10";/**
* @vue/runtime-dom v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Co;const fl=typeof window<"u"&&window.trustedTypes;if(fl)try{Co=fl.createPolicy("vue",{createHTML:t=>t})}catch{}const Hu=Co?t=>Co.createHTML(t):t=>t,Qh="http://www.w3.org/2000/svg",Yh="http://www.w3.org/1998/Math/MathML",gn=typeof document<"u"?document:null,hl=gn&&gn.createElement("template"),Xh={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?gn.createElementNS(Qh,t):e==="mathml"?gn.createElementNS(Yh,t):n?gn.createElement(t,{is:n}):gn.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>gn.createTextNode(t),createComment:t=>gn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>gn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,a){const l=n?n.previousSibling:e.lastChild;if(s&&(s===a||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===a||!(s=s.nextSibling)););else{hl.innerHTML=Hu(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const f=hl.content;if(r==="svg"||r==="mathml"){const c=f.firstChild;for(;c.firstChild;)f.appendChild(c.firstChild);f.removeChild(c)}e.insertBefore(f,n)}return[l?l.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Zh=Symbol("_vtc");function ed(t,e,n){const r=t[Zh];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const dl=Symbol("_vod"),td=Symbol("_vsh"),nd=Symbol(""),rd=/(^|;)\s*display\s*:/;function id(t,e,n){const r=t.style,s=mt(n);let a=!1;if(n&&!s){if(e)if(mt(e))for(const l of e.split(";")){const f=l.slice(0,l.indexOf(":")).trim();n[f]==null&&Wi(r,f,"")}else for(const l in e)n[l]==null&&Wi(r,l,"");for(const l in n)l==="display"&&(a=!0),Wi(r,l,n[l])}else if(s){if(e!==n){const l=r[nd];l&&(n+=";"+l),r.cssText=n,a=rd.test(n)}}else e&&t.removeAttribute("style");dl in t&&(t[dl]=a?r.display:"",t[td]&&(r.display="none"))}const pl=/\s*!important$/;function Wi(t,e,n){if(Se(n))n.forEach(r=>Wi(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=sd(t,e);pl.test(n)?t.setProperty(Ln(r),n.replace(pl,""),"important"):t[r]=n}}const gl=["Webkit","Moz","ms"],lo={};function sd(t,e){const n=lo[e];if(n)return n;let r=Qt(e);if(r!=="filter"&&r in t)return lo[e]=r;r=ns(r);for(let s=0;s<gl.length;s++){const a=gl[s]+r;if(a in t)return lo[e]=a}return e}const yl="http://www.w3.org/1999/xlink";function ml(t,e,n,r,s,a=rf(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(yl,e.slice(6,e.length)):t.setAttributeNS(yl,e,n):n==null||a&&!Jl(n)?t.removeAttribute(e):t.setAttribute(e,a?"":un(n)?String(n):n)}function vl(t,e,n,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Hu(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const l=s==="OPTION"?t.getAttribute("value")||"":t.value,f=n==null?t.type==="checkbox"?"on":"":String(n);(l!==f||!("_value"in t))&&(t.value=f),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=Jl(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}function Yn(t,e,n,r){t.addEventListener(e,n,r)}function od(t,e,n,r){t.removeEventListener(e,n,r)}const _l=Symbol("_vei");function ad(t,e,n,r,s=null){const a=t[_l]||(t[_l]={}),l=a[e];if(r&&l)l.value=r;else{const[f,c]=ld(e);if(r){const y=a[e]=fd(r,s);Yn(t,f,y,c)}else l&&(od(t,f,l,c),a[e]=void 0)}}const bl=/(?:Once|Passive|Capture)$/;function ld(t){let e;if(bl.test(t)){e={};let r;for(;r=t.match(bl);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ln(t.slice(2)),e]}let uo=0;const ud=Promise.resolve(),cd=()=>uo||(ud.then(()=>uo=0),uo=Date.now());function fd(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;cn(hd(r,n.value),e,5,[r])};return n.value=t,n.attached=cd(),n}function hd(t,e){if(Se(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const wl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,dd=(t,e,n,r,s,a)=>{const l=s==="svg";e==="class"?ed(t,r,l):e==="style"?id(t,n,r):Zi(e)?Ko(e)||ad(t,e,n,r,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):pd(t,e,r,l))?(vl(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&ml(t,e,r,l,a,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!mt(r))?vl(t,Qt(e),r):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),ml(t,e,r,l))};function pd(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&wl(e)&&je(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return wl(e)&&mt(n)?!1:e in t}const Yi=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Se(e)?n=>Bi(e,n):e};function gd(t){t.target.composing=!0}function kl(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const xr=Symbol("_assign"),Bt={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[xr]=Yi(s);const a=r||s.props&&s.props.type==="number";Yn(t,e?"change":"input",l=>{if(l.target.composing)return;let f=t.value;n&&(f=f.trim()),a&&(f=mo(f)),t[xr](f)}),n&&Yn(t,"change",()=>{t.value=t.value.trim()}),e||(Yn(t,"compositionstart",gd),Yn(t,"compositionend",kl),Yn(t,"change",kl))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:a}},l){if(t[xr]=Yi(l),t.composing)return;const f=(a||t.type==="number")&&!/^0\d/.test(t.value)?mo(t.value):t.value,c=e??"";f!==c&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===c)||(t.value=c))}},yd={deep:!0,created(t,e,n){t[xr]=Yi(n),Yn(t,"change",()=>{const r=t._modelValue,s=md(t),a=t.checked,l=t[xr];if(Se(r)){const f=Gl(r,s),c=f!==-1;if(a&&!c)l(r.concat(s));else if(!a&&c){const y=[...r];y.splice(f,1),l(y)}}else if(es(r)){const f=new Set(r);a?f.add(s):f.delete(s),l(f)}else l(Wu(t,a))})},mounted:xl,beforeUpdate(t,e,n){t[xr]=Yi(n),xl(t,e,n)}};function xl(t,{value:e},n){t._modelValue=e;let r;Se(e)?r=Gl(e,n.props.value)>-1:es(e)?r=e.has(n.props.value):r=rs(e,Wu(t,!0)),t.checked!==r&&(t.checked=r)}function md(t){return"_value"in t?t._value:t.value}function Wu(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const vd=["ctrl","shift","alt","meta"],_d={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>vd.some(n=>t[`${n}Key`]&&!e.includes(n))},co=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...a)=>{for(let l=0;l<e.length;l++){const f=_d[e[l]];if(f&&f(s,e))return}return t(s,...a)})},bd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},wd=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const a=Ln(s.key);if(e.some(l=>l===a||bd[l]===a))return t(s)})},kd=Ct({patchProp:dd},Xh);let El;function xd(){return El||(El=wh(kd))}const Ed=(...t)=>{const e=xd().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=Od(r);if(!s)return;const a=e._component;!je(a)&&!a.render&&!a.template&&(a.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const l=n(s,!1,Sd(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},e};function Sd(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Od(t){return mt(t)?document.querySelector(t):t}var Lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Pd(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Ju={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,r){t.exports=r()})(Lt,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s=!r.document&&!!r.postMessage,a=r.IS_PAPA_WORKER||!1,l={},f=0,c={parse:function(I,j){var W=(j=j||{}).dynamicTyping||!1;if(ke(W)&&(j.dynamicTypingFunction=W,W={}),j.dynamicTyping=W,j.transform=!!ke(j.transform)&&j.transform,j.worker&&c.WORKERS_SUPPORTED){var he=function(){if(!c.WORKERS_SUPPORTED)return!1;var me=(ut=r.URL||r.webkitURL||null,Te=n.toString(),c.BLOB_URL||(c.BLOB_URL=ut.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Te,")();"],{type:"text/javascript"})))),Re=new r.Worker(me),ut,Te;return Re.onmessage=we,Re.id=f++,l[Re.id]=Re}();return he.userStep=j.step,he.userChunk=j.chunk,he.userComplete=j.complete,he.userError=j.error,j.step=ke(j.step),j.chunk=ke(j.chunk),j.complete=ke(j.complete),j.error=ke(j.error),delete j.worker,void he.postMessage({input:I,config:j,workerId:he.id})}var de=null;return c.NODE_STREAM_INPUT,typeof I=="string"?(I=function(me){return me.charCodeAt(0)===65279?me.slice(1):me}(I),de=j.download?new b(j):new H(j)):I.readable===!0&&ke(I.read)&&ke(I.on)?de=new se(j):(r.File&&I instanceof File||I instanceof Object)&&(de=new R(j)),de.stream(I)},unparse:function(I,j){var W=!1,he=!0,de=",",me=`\r
`,Re='"',ut=Re+Re,Te=!1,Z=null,ve=!1;(function(){if(typeof j=="object"){if(typeof j.delimiter!="string"||c.BAD_DELIMITERS.filter(function(ue){return j.delimiter.indexOf(ue)!==-1}).length||(de=j.delimiter),(typeof j.quotes=="boolean"||typeof j.quotes=="function"||Array.isArray(j.quotes))&&(W=j.quotes),typeof j.skipEmptyLines!="boolean"&&typeof j.skipEmptyLines!="string"||(Te=j.skipEmptyLines),typeof j.newline=="string"&&(me=j.newline),typeof j.quoteChar=="string"&&(Re=j.quoteChar),typeof j.header=="boolean"&&(he=j.header),Array.isArray(j.columns)){if(j.columns.length===0)throw new Error("Option columns is empty");Z=j.columns}j.escapeChar!==void 0&&(ut=j.escapeChar+Re),(typeof j.escapeFormulae=="boolean"||j.escapeFormulae instanceof RegExp)&&(ve=j.escapeFormulae instanceof RegExp?j.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var ge=new RegExp(_e(Re),"g");if(typeof I=="string"&&(I=JSON.parse(I)),Array.isArray(I)){if(!I.length||Array.isArray(I[0]))return rt(null,I,Te);if(typeof I[0]=="object")return rt(Z||Object.keys(I[0]),I,Te)}else if(typeof I=="object")return typeof I.data=="string"&&(I.data=JSON.parse(I.data)),Array.isArray(I.data)&&(I.fields||(I.fields=I.meta&&I.meta.fields||Z),I.fields||(I.fields=Array.isArray(I.data[0])?I.fields:typeof I.data[0]=="object"?Object.keys(I.data[0]):[]),Array.isArray(I.data[0])||typeof I.data[0]=="object"||(I.data=[I.data])),rt(I.fields||[],I.data||[],Te);throw new Error("Unable to serialize unrecognized input");function rt(ue,Ke,pt){var Ge="";typeof ue=="string"&&(ue=JSON.parse(ue)),typeof Ke=="string"&&(Ke=JSON.parse(Ke));var We=Array.isArray(ue)&&0<ue.length,Ze=!Array.isArray(Ke[0]);if(We&&he){for(var ct=0;ct<ue.length;ct++)0<ct&&(Ge+=de),Ge+=Ye(ue[ct],ct);0<Ke.length&&(Ge+=me)}for(var q=0;q<Ke.length;q++){var Me=We?ue.length:Ke[q].length,He=!1,xe=We?Object.keys(Ke[q]).length===0:Ke[q].length===0;if(pt&&!We&&(He=pt==="greedy"?Ke[q].join("").trim()==="":Ke[q].length===1&&Ke[q][0].length===0),pt==="greedy"&&We){for(var v=[],k=0;k<Me;k++){var D=Ze?ue[k]:k;v.push(Ke[q][D])}He=v.join("").trim()===""}if(!He){for(var F=0;F<Me;F++){0<F&&!xe&&(Ge+=de);var N=We&&Ze?ue[F]:F;Ge+=Ye(Ke[q][N],F)}q<Ke.length-1&&(!pt||0<Me&&!xe)&&(Ge+=me)}}return Ge}function Ye(ue,Ke){if(ue==null)return"";if(ue.constructor===Date)return JSON.stringify(ue).slice(1,25);var pt=!1;ve&&typeof ue=="string"&&ve.test(ue)&&(ue="'"+ue,pt=!0);var Ge=ue.toString().replace(ge,ut);return(pt=pt||W===!0||typeof W=="function"&&W(ue,Ke)||Array.isArray(W)&&W[Ke]||function(We,Ze){for(var ct=0;ct<Ze.length;ct++)if(-1<We.indexOf(Ze[ct]))return!0;return!1}(Ge,c.BAD_DELIMITERS)||-1<Ge.indexOf(de)||Ge.charAt(0)===" "||Ge.charAt(Ge.length-1)===" ")?Re+Ge+Re:Ge}}};if(c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=le,c.ParserHandle=fe,c.NetworkStreamer=b,c.FileStreamer=R,c.StringStreamer=H,c.ReadableStreamStreamer=se,r.jQuery){var y=r.jQuery;y.fn.parse=function(I){var j=I.config||{},W=[];return this.each(function(me){if(!(y(this).prop("tagName").toUpperCase()==="INPUT"&&y(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var Re=0;Re<this.files.length;Re++)W.push({file:this.files[Re],inputElem:this,instanceConfig:y.extend({},j)})}),he(),this;function he(){if(W.length!==0){var me,Re,ut,Te,Z=W[0];if(ke(I.before)){var ve=I.before(Z.file,Z.inputElem);if(typeof ve=="object"){if(ve.action==="abort")return me="AbortError",Re=Z.file,ut=Z.inputElem,Te=ve.reason,void(ke(I.error)&&I.error({name:me},Re,ut,Te));if(ve.action==="skip")return void de();typeof ve.config=="object"&&(Z.instanceConfig=y.extend(Z.instanceConfig,ve.config))}else if(ve==="skip")return void de()}var ge=Z.instanceConfig.complete;Z.instanceConfig.complete=function(rt){ke(ge)&&ge(rt,Z.file,Z.inputElem),de()},c.parse(Z.file,Z.instanceConfig)}else ke(I.complete)&&I.complete()}function de(){W.splice(0,1),he()}}}function g(I){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(j){var W=Oe(j);W.chunkSize=parseInt(W.chunkSize),j.step||j.chunk||(W.chunkSize=null),this._handle=new fe(W),(this._handle.streamer=this)._config=W}).call(this,I),this.parseChunk=function(j,W){if(this.isFirstChunk&&ke(this._config.beforeFirstChunk)){var he=this._config.beforeFirstChunk(j);he!==void 0&&(j=he)}this.isFirstChunk=!1,this._halted=!1;var de=this._partialLine+j;this._partialLine="";var me=this._handle.parse(de,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var Re=me.meta.cursor;this._finished||(this._partialLine=de.substring(Re-this._baseIndex),this._baseIndex=Re),me&&me.data&&(this._rowCount+=me.data.length);var ut=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(a)r.postMessage({results:me,workerId:c.WORKER_ID,finished:ut});else if(ke(this._config.chunk)&&!W){if(this._config.chunk(me,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);me=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(me.data),this._completeResults.errors=this._completeResults.errors.concat(me.errors),this._completeResults.meta=me.meta),this._completed||!ut||!ke(this._config.complete)||me&&me.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),ut||me&&me.meta.paused||this._nextChunk(),me}this._halted=!0},this._sendError=function(j){ke(this._config.error)?this._config.error(j):a&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:j,finished:!1})}}function b(I){var j;(I=I||{}).chunkSize||(I.chunkSize=c.RemoteChunkSize),g.call(this,I),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(W){this._input=W,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(j=new XMLHttpRequest,this._config.withCredentials&&(j.withCredentials=this._config.withCredentials),s||(j.onload=Xe(this._chunkLoaded,this),j.onerror=Xe(this._chunkError,this)),j.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var W=this._config.downloadRequestHeaders;for(var he in W)j.setRequestHeader(he,W[he])}if(this._config.chunkSize){var de=this._start+this._config.chunkSize-1;j.setRequestHeader("Range","bytes="+this._start+"-"+de)}try{j.send(this._config.downloadRequestBody)}catch(me){this._chunkError(me.message)}s&&j.status===0&&this._chunkError()}},this._chunkLoaded=function(){j.readyState===4&&(j.status<200||400<=j.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:j.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(W){var he=W.getResponseHeader("Content-Range");return he===null?-1:parseInt(he.substring(he.lastIndexOf("/")+1))}(j),this.parseChunk(j.responseText)))},this._chunkError=function(W){var he=j.statusText||W;this._sendError(new Error(he))}}function R(I){var j,W;(I=I||{}).chunkSize||(I.chunkSize=c.LocalChunkSize),g.call(this,I);var he=typeof FileReader<"u";this.stream=function(de){this._input=de,W=de.slice||de.webkitSlice||de.mozSlice,he?((j=new FileReader).onload=Xe(this._chunkLoaded,this),j.onerror=Xe(this._chunkError,this)):j=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var de=this._input;if(this._config.chunkSize){var me=Math.min(this._start+this._config.chunkSize,this._input.size);de=W.call(de,this._start,me)}var Re=j.readAsText(de,this._config.encoding);he||this._chunkLoaded({target:{result:Re}})},this._chunkLoaded=function(de){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(de.target.result)},this._chunkError=function(){this._sendError(j.error)}}function H(I){var j;g.call(this,I=I||{}),this.stream=function(W){return j=W,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var W,he=this._config.chunkSize;return he?(W=j.substring(0,he),j=j.substring(he)):(W=j,j=""),this._finished=!j,this.parseChunk(W)}}}function se(I){g.call(this,I=I||{});var j=[],W=!0,he=!1;this.pause=function(){g.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){g.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(de){this._input=de,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){he&&j.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),j.length?this.parseChunk(j.shift()):W=!0},this._streamData=Xe(function(de){try{j.push(typeof de=="string"?de:de.toString(this._config.encoding)),W&&(W=!1,this._checkIsFinished(),this.parseChunk(j.shift()))}catch(me){this._streamError(me)}},this),this._streamError=Xe(function(de){this._streamCleanUp(),this._sendError(de)},this),this._streamEnd=Xe(function(){this._streamCleanUp(),he=!0,this._streamData("")},this),this._streamCleanUp=Xe(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function fe(I){var j,W,he,de=Math.pow(2,53),me=-de,Re=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ut=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Te=this,Z=0,ve=0,ge=!1,rt=!1,Ye=[],ue={data:[],errors:[],meta:{}};if(ke(I.step)){var Ke=I.step;I.step=function(q){if(ue=q,We())Ge();else{if(Ge(),ue.data.length===0)return;Z+=q.data.length,I.preview&&Z>I.preview?W.abort():(ue.data=ue.data[0],Ke(ue,Te))}}}function pt(q){return I.skipEmptyLines==="greedy"?q.join("").trim()==="":q.length===1&&q[0].length===0}function Ge(){return ue&&he&&(ct("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),he=!1),I.skipEmptyLines&&(ue.data=ue.data.filter(function(q){return!pt(q)})),We()&&function(){if(!ue)return;function q(He,xe){ke(I.transformHeader)&&(He=I.transformHeader(He,xe)),Ye.push(He)}if(Array.isArray(ue.data[0])){for(var Me=0;We()&&Me<ue.data.length;Me++)ue.data[Me].forEach(q);ue.data.splice(0,1)}else ue.data.forEach(q)}(),function(){if(!ue||!I.header&&!I.dynamicTyping&&!I.transform)return ue;function q(He,xe){var v,k=I.header?{}:[];for(v=0;v<He.length;v++){var D=v,F=He[v];I.header&&(D=v>=Ye.length?"__parsed_extra":Ye[v]),I.transform&&(F=I.transform(F,D)),F=Ze(D,F),D==="__parsed_extra"?(k[D]=k[D]||[],k[D].push(F)):k[D]=F}return I.header&&(v>Ye.length?ct("FieldMismatch","TooManyFields","Too many fields: expected "+Ye.length+" fields but parsed "+v,ve+xe):v<Ye.length&&ct("FieldMismatch","TooFewFields","Too few fields: expected "+Ye.length+" fields but parsed "+v,ve+xe)),k}var Me=1;return!ue.data.length||Array.isArray(ue.data[0])?(ue.data=ue.data.map(q),Me=ue.data.length):ue.data=q(ue.data,0),I.header&&ue.meta&&(ue.meta.fields=Ye),ve+=Me,ue}()}function We(){return I.header&&Ye.length===0}function Ze(q,Me){return He=q,I.dynamicTypingFunction&&I.dynamicTyping[He]===void 0&&(I.dynamicTyping[He]=I.dynamicTypingFunction(He)),(I.dynamicTyping[He]||I.dynamicTyping)===!0?Me==="true"||Me==="TRUE"||Me!=="false"&&Me!=="FALSE"&&(function(xe){if(Re.test(xe)){var v=parseFloat(xe);if(me<v&&v<de)return!0}return!1}(Me)?parseFloat(Me):ut.test(Me)?new Date(Me):Me===""?null:Me):Me;var He}function ct(q,Me,He,xe){var v={type:q,code:Me,message:He};xe!==void 0&&(v.row=xe),ue.errors.push(v)}this.parse=function(q,Me,He){var xe=I.quoteChar||'"';if(I.newline||(I.newline=function(D,F){D=D.substring(0,1048576);var N=new RegExp(_e(F)+"([^]*?)"+_e(F),"gm"),B=(D=D.replace(N,"")).split("\r"),X=D.split(`
`),J=1<X.length&&X[0].length<B[0].length;if(B.length===1||J)return`
`;for(var V=0,K=0;K<B.length;K++)B[K][0]===`
`&&V++;return V>=B.length/2?`\r
`:"\r"}(q,xe)),he=!1,I.delimiter)ke(I.delimiter)&&(I.delimiter=I.delimiter(q),ue.meta.delimiter=I.delimiter);else{var v=function(D,F,N,B,X){var J,V,K,oe;X=X||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var ee=0;ee<X.length;ee++){var Y=X[ee],ye=0,Ee=0,Ie=0;K=void 0;for(var Ce=new le({comments:B,delimiter:Y,newline:F,preview:10}).parse(D),et=0;et<Ce.data.length;et++)if(N&&pt(Ce.data[et]))Ie++;else{var Ne=Ce.data[et].length;Ee+=Ne,K!==void 0?0<Ne&&(ye+=Math.abs(Ne-K),K=Ne):K=Ne}0<Ce.data.length&&(Ee/=Ce.data.length-Ie),(V===void 0||ye<=V)&&(oe===void 0||oe<Ee)&&1.99<Ee&&(V=ye,J=Y,oe=Ee)}return{successful:!!(I.delimiter=J),bestDelimiter:J}}(q,I.newline,I.skipEmptyLines,I.comments,I.delimitersToGuess);v.successful?I.delimiter=v.bestDelimiter:(he=!0,I.delimiter=c.DefaultDelimiter),ue.meta.delimiter=I.delimiter}var k=Oe(I);return I.preview&&I.header&&k.preview++,j=q,W=new le(k),ue=W.parse(j,Me,He),Ge(),ge?{meta:{paused:!0}}:ue||{meta:{paused:!1}}},this.paused=function(){return ge},this.pause=function(){ge=!0,W.abort(),j=ke(I.chunk)?"":j.substring(W.getCharIndex())},this.resume=function(){Te.streamer._halted?(ge=!1,Te.streamer.parseChunk(j,!0)):setTimeout(Te.resume,3)},this.aborted=function(){return rt},this.abort=function(){rt=!0,W.abort(),ue.meta.aborted=!0,ke(I.complete)&&I.complete(ue),j=""}}function _e(I){return I.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function le(I){var j,W=(I=I||{}).delimiter,he=I.newline,de=I.comments,me=I.step,Re=I.preview,ut=I.fastMode,Te=j=I.quoteChar===void 0||I.quoteChar===null?'"':I.quoteChar;if(I.escapeChar!==void 0&&(Te=I.escapeChar),(typeof W!="string"||-1<c.BAD_DELIMITERS.indexOf(W))&&(W=","),de===W)throw new Error("Comment character same as delimiter");de===!0?de="#":(typeof de!="string"||-1<c.BAD_DELIMITERS.indexOf(de))&&(de=!1),he!==`
`&&he!=="\r"&&he!==`\r
`&&(he=`
`);var Z=0,ve=!1;this.parse=function(ge,rt,Ye){if(typeof ge!="string")throw new Error("Input must be a string");var ue=ge.length,Ke=W.length,pt=he.length,Ge=de.length,We=ke(me),Ze=[],ct=[],q=[],Me=Z=0;if(!ge)return Qe();if(I.header&&!rt){var He=ge.split(he)[0].split(W),xe=[],v={},k=!1;for(var D in He){var F=He[D];ke(I.transformHeader)&&(F=I.transformHeader(F,D));var N=F,B=v[F]||0;for(0<B&&(k=!0,N=F+"_"+B),v[F]=B+1;xe.includes(N);)N=N+"_"+B;xe.push(N)}if(k){var X=ge.split(he);X[0]=xe.join(W),ge=X.join(he)}}if(ut||ut!==!1&&ge.indexOf(j)===-1){for(var J=ge.split(he),V=0;V<J.length;V++){if(q=J[V],Z+=q.length,V!==J.length-1)Z+=he.length;else if(Ye)return Qe();if(!de||q.substring(0,Ge)!==de){if(We){if(Ze=[],Ie(q.split(W)),dt(),ve)return Qe()}else Ie(q.split(W));if(Re&&Re<=V)return Ze=Ze.slice(0,Re),Qe(!0)}}return Qe()}for(var K=ge.indexOf(W,Z),oe=ge.indexOf(he,Z),ee=new RegExp(_e(Te)+_e(j),"g"),Y=ge.indexOf(j,Z);;)if(ge[Z]!==j)if(de&&q.length===0&&ge.substring(Z,Z+Ge)===de){if(oe===-1)return Qe();Z=oe+pt,oe=ge.indexOf(he,Z),K=ge.indexOf(W,Z)}else if(K!==-1&&(K<oe||oe===-1))q.push(ge.substring(Z,K)),Z=K+Ke,K=ge.indexOf(W,Z);else{if(oe===-1)break;if(q.push(ge.substring(Z,oe)),Ne(oe+pt),We&&(dt(),ve))return Qe();if(Re&&Ze.length>=Re)return Qe(!0)}else for(Y=Z,Z++;;){if((Y=ge.indexOf(j,Y+1))===-1)return Ye||ct.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ze.length,index:Z}),et();if(Y===ue-1)return et(ge.substring(Z,Y).replace(ee,j));if(j!==Te||ge[Y+1]!==Te){if(j===Te||Y===0||ge[Y-1]!==Te){K!==-1&&K<Y+1&&(K=ge.indexOf(W,Y+1)),oe!==-1&&oe<Y+1&&(oe=ge.indexOf(he,Y+1));var ye=Ce(oe===-1?K:Math.min(K,oe));if(ge.substr(Y+1+ye,Ke)===W){q.push(ge.substring(Z,Y).replace(ee,j)),ge[Z=Y+1+ye+Ke]!==j&&(Y=ge.indexOf(j,Z)),K=ge.indexOf(W,Z),oe=ge.indexOf(he,Z);break}var Ee=Ce(oe);if(ge.substring(Y+1+Ee,Y+1+Ee+pt)===he){if(q.push(ge.substring(Z,Y).replace(ee,j)),Ne(Y+1+Ee+pt),K=ge.indexOf(W,Z),Y=ge.indexOf(j,Z),We&&(dt(),ve))return Qe();if(Re&&Ze.length>=Re)return Qe(!0);break}ct.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ze.length,index:Z}),Y++}}else Y++}return et();function Ie(tt){Ze.push(tt),Me=Z}function Ce(tt){var pe=0;if(tt!==-1){var ht=ge.substring(Y+1,tt);ht&&ht.trim()===""&&(pe=ht.length)}return pe}function et(tt){return Ye||(tt===void 0&&(tt=ge.substring(Z)),q.push(tt),Z=ue,Ie(q),We&&dt()),Qe()}function Ne(tt){Z=tt,Ie(q),q=[],oe=ge.indexOf(he,Z)}function Qe(tt){return{data:Ze,errors:ct,meta:{delimiter:W,linebreak:he,aborted:ve,truncated:!!tt,cursor:Me+(rt||0)}}}function dt(){me(Qe()),Ze=[],ct=[]}},this.abort=function(){ve=!0},this.getCharIndex=function(){return Z}}function we(I){var j=I.data,W=l[j.workerId],he=!1;if(j.error)W.userError(j.error,j.file);else if(j.results&&j.results.data){var de={abort:function(){he=!0,be(j.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ae,resume:ae};if(ke(W.userStep)){for(var me=0;me<j.results.data.length&&(W.userStep({data:j.results.data[me],errors:j.results.errors,meta:j.results.meta},de),!he);me++);delete j.results}else ke(W.userChunk)&&(W.userChunk(j.results,de,j.file),delete j.results)}j.finished&&!he&&be(j.workerId,j.results)}function be(I,j){var W=l[I];ke(W.userComplete)&&W.userComplete(j),W.terminate(),delete l[I]}function ae(){throw new Error("Not implemented.")}function Oe(I){if(typeof I!="object"||I===null)return I;var j=Array.isArray(I)?[]:{};for(var W in I)j[W]=Oe(I[W]);return j}function Xe(I,j){return function(){I.apply(j,arguments)}}function ke(I){return typeof I=="function"}return a&&(r.onmessage=function(I){var j=I.data;if(c.WORKER_ID===void 0&&j&&(c.WORKER_ID=j.workerId),typeof j.input=="string")r.postMessage({workerId:c.WORKER_ID,results:c.parse(j.input,j.config),finished:!0});else if(r.File&&j.input instanceof File||j.input instanceof Object){var W=c.parse(j.input,j.config);W&&r.postMessage({workerId:c.WORKER_ID,results:W,finished:!0})}}),(b.prototype=Object.create(g.prototype)).constructor=b,(R.prototype=Object.create(g.prototype)).constructor=R,(H.prototype=Object.create(H.prototype)).constructor=H,(se.prototype=Object.create(g.prototype)).constructor=se,c})})(Ju);var Td=Ju.exports;const Sl=zu(Td);var Gu={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Lt,function(){var n=function(i,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(u[d]=h[d])})(i,o)},r=function(){return(r=Object.assign||function(i){for(var o,u=1,h=arguments.length;u<h;u++)for(var d in o=arguments[u])Object.prototype.hasOwnProperty.call(o,d)&&(i[d]=o[d]);return i}).apply(this,arguments)};function s(i,o,u){for(var h,d=0,p=o.length;d<p;d++)!h&&d in o||((h=h||Array.prototype.slice.call(o,0,d))[d]=o[d]);return i.concat(h||Array.prototype.slice.call(o))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Lt,l=Object.keys,f=Array.isArray;function c(i,o){return typeof o!="object"||l(o).forEach(function(u){i[u]=o[u]}),i}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var y=Object.getPrototypeOf,g={}.hasOwnProperty;function b(i,o){return g.call(i,o)}function R(i,o){typeof o=="function"&&(o=o(y(i))),(typeof Reflect>"u"?l:Reflect.ownKeys)(o).forEach(function(u){se(i,u,o[u])})}var H=Object.defineProperty;function se(i,o,u,h){H(i,o,c(u&&b(u,"get")&&typeof u.get=="function"?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},h))}function fe(i){return{from:function(o){return i.prototype=Object.create(o.prototype),se(i.prototype,"constructor",i),{extend:R.bind(null,i.prototype)}}}}var _e=Object.getOwnPropertyDescriptor,le=[].slice;function we(i,o,u){return le.call(i,o,u)}function be(i,o){return o(i)}function ae(i){if(!i)throw new Error("Assertion Failed")}function Oe(i){a.setImmediate?setImmediate(i):setTimeout(i,0)}function Xe(i,o){if(typeof o=="string"&&b(i,o))return i[o];if(!o)return i;if(typeof o!="string"){for(var u=[],h=0,d=o.length;h<d;++h){var p=Xe(i,o[h]);u.push(p)}return u}var m=o.indexOf(".");if(m!==-1){var _=i[o.substr(0,m)];return _==null?void 0:Xe(_,o.substr(m+1))}}function ke(i,o,u){if(i&&o!==void 0&&!("isFrozen"in Object&&Object.isFrozen(i)))if(typeof o!="string"&&"length"in o){ae(typeof u!="string"&&"length"in u);for(var h=0,d=o.length;h<d;++h)ke(i,o[h],u[h])}else{var p,m,_=o.indexOf(".");_!==-1?(p=o.substr(0,_),(m=o.substr(_+1))===""?u===void 0?f(i)&&!isNaN(parseInt(p))?i.splice(p,1):delete i[p]:i[p]=u:ke(_=!(_=i[p])||!b(i,p)?i[p]={}:_,m,u)):u===void 0?f(i)&&!isNaN(parseInt(o))?i.splice(o,1):delete i[o]:i[o]=u}}function I(i){var o,u={};for(o in i)b(i,o)&&(u[o]=i[o]);return u}var j=[].concat;function W(i){return j.apply([],i)}var hn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(W([8,16,32,64].map(function(i){return["Int","Uint","Float"].map(function(o){return o+i+"Array"})}))).filter(function(i){return a[i]}),he=new Set(hn.map(function(i){return a[i]})),de=null;function me(i){return de=new WeakMap,i=function o(u){if(!u||typeof u!="object")return u;var h=de.get(u);if(h)return h;if(f(u)){h=[],de.set(u,h);for(var d=0,p=u.length;d<p;++d)h.push(o(u[d]))}else if(he.has(u.constructor))h=u;else{var m,_=y(u);for(m in h=_===Object.prototype?{}:Object.create(_),de.set(u,h),u)b(u,m)&&(h[m]=o(u[m]))}return h}(i),de=null,i}var Re={}.toString;function ut(i){return Re.call(i).slice(8,-1)}var Te=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Z=typeof Te=="symbol"?function(i){var o;return i!=null&&(o=i[Te])&&o.apply(i)}:function(){return null};function ve(i,o){return o=i.indexOf(o),0<=o&&i.splice(o,1),0<=o}var ge={};function rt(i){var o,u,h,d;if(arguments.length===1){if(f(i))return i.slice();if(this===ge&&typeof i=="string")return[i];if(d=Z(i)){for(u=[];!(h=d.next()).done;)u.push(h.value);return u}if(i==null)return[i];if(typeof(o=i.length)!="number")return[i];for(u=new Array(o);o--;)u[o]=i[o];return u}for(o=arguments.length,u=new Array(o);o--;)u[o]=arguments[o];return u}var Ye=typeof Symbol<"u"?function(i){return i[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Y=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Jt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Y),ue={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ke(i,o){this.name=i,this.message=o}function pt(i,o){return i+". Errors: "+Object.keys(o).map(function(u){return o[u].toString()}).filter(function(u,h,d){return d.indexOf(u)===h}).join(`
`)}function Ge(i,o,u,h){this.failures=o,this.failedKeys=h,this.successCount=u,this.message=pt(i,o)}function We(i,o){this.name="BulkError",this.failures=Object.keys(o).map(function(u){return o[u]}),this.failuresByPos=o,this.message=pt(i,this.failures)}fe(Ke).from(Error).extend({toString:function(){return this.name+": "+this.message}}),fe(Ge).from(Ke),fe(We).from(Ke);var Ze=Jt.reduce(function(i,o){return i[o]=o+"Error",i},{}),ct=Ke,q=Jt.reduce(function(i,o){var u=o+"Error";function h(d,p){this.name=u,d?typeof d=="string"?(this.message="".concat(d).concat(p?`
 `+p:""),this.inner=p||null):typeof d=="object"&&(this.message="".concat(d.name," ").concat(d.message),this.inner=d):(this.message=ue[o]||u,this.inner=null)}return fe(h).from(ct),i[o]=h,i},{});q.Syntax=SyntaxError,q.Type=TypeError,q.Range=RangeError;var Me=Y.reduce(function(i,o){return i[o+"Error"]=q[o],i},{}),He=Jt.reduce(function(i,o){return["Syntax","Type","Range"].indexOf(o)===-1&&(i[o+"Error"]=q[o]),i},{});function xe(){}function v(i){return i}function k(i,o){return i==null||i===v?o:function(u){return o(i(u))}}function D(i,o){return function(){i.apply(this,arguments),o.apply(this,arguments)}}function F(i,o){return i===xe?o:function(){var u=i.apply(this,arguments);u!==void 0&&(arguments[0]=u);var h=this.onsuccess,d=this.onerror;this.onsuccess=null,this.onerror=null;var p=o.apply(this,arguments);return h&&(this.onsuccess=this.onsuccess?D(h,this.onsuccess):h),d&&(this.onerror=this.onerror?D(d,this.onerror):d),p!==void 0?p:u}}function N(i,o){return i===xe?o:function(){i.apply(this,arguments);var u=this.onsuccess,h=this.onerror;this.onsuccess=this.onerror=null,o.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?D(u,this.onsuccess):u),h&&(this.onerror=this.onerror?D(h,this.onerror):h)}}function B(i,o){return i===xe?o:function(u){var h=i.apply(this,arguments);c(u,h);var d=this.onsuccess,p=this.onerror;return this.onsuccess=null,this.onerror=null,u=o.apply(this,arguments),d&&(this.onsuccess=this.onsuccess?D(d,this.onsuccess):d),p&&(this.onerror=this.onerror?D(p,this.onerror):p),h===void 0?u===void 0?void 0:u:c(h,u)}}function X(i,o){return i===xe?o:function(){return o.apply(this,arguments)!==!1&&i.apply(this,arguments)}}function J(i,o){return i===xe?o:function(){var u=i.apply(this,arguments);if(u&&typeof u.then=="function"){for(var h=this,d=arguments.length,p=new Array(d);d--;)p[d]=arguments[d];return u.then(function(){return o.apply(h,p)})}return o.apply(this,arguments)}}He.ModifyError=Ge,He.DexieError=Ke,He.BulkError=We;var V=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function K(i){V=i}var oe={},ee=100,hn=typeof Promise>"u"?[]:function(){var i=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[i,y(i),i];var o=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[o,y(o),i]}(),Y=hn[0],Jt=hn[1],hn=hn[2],Jt=Jt&&Jt.then,ye=Y&&Y.constructor,Ee=!!hn,Ie=function(i,o){ht.push([i,o]),et&&(queueMicrotask(xc),et=!1)},Ce=!0,et=!0,Ne=[],Qe=[],dt=v,tt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:xe,pgp:!1,env:{},finalize:xe},pe=tt,ht=[],_t=0,Un=[];function ce(i){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var o=this._PSD=pe;if(typeof i!="function"){if(i!==oe)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&ws(this,this._value))}this._state=null,this._value=null,++o.ref,function u(h,d){try{d(function(p){if(h._state===null){if(p===h)throw new TypeError("A promise cannot be resolved with itself.");var m=h._lib&&ir();p&&typeof p.then=="function"?u(h,function(_,S){p instanceof ce?p._then(_,S):p.then(_,S)}):(h._state=!0,h._value=p,pa(h)),m&&sr()}},ws.bind(null,h))}catch(p){ws(h,p)}}(this,i)}var bs={get:function(){var i=pe,o=hi;function u(h,d){var p=this,m=!i.global&&(i!==pe||o!==hi),_=m&&!bn(),S=new ce(function(x,T){ks(p,new da(ya(h,i,m,_),ya(d,i,m,_),x,T,i))});return this._consoleTask&&(S._consoleTask=this._consoleTask),S}return u.prototype=oe,u},set:function(i){se(this,"then",i&&i.prototype===oe?bs:{get:function(){return i},set:bs.set})}};function da(i,o,u,h,d){this.onFulfilled=typeof i=="function"?i:null,this.onRejected=typeof o=="function"?o:null,this.resolve=u,this.reject=h,this.psd=d}function ws(i,o){var u,h;Qe.push(o),i._state===null&&(u=i._lib&&ir(),o=dt(o),i._state=!1,i._value=o,h=i,Ne.some(function(d){return d._value===h._value})||Ne.push(h),pa(i),u&&sr())}function pa(i){var o=i._listeners;i._listeners=[];for(var u=0,h=o.length;u<h;++u)ks(i,o[u]);var d=i._PSD;--d.ref||d.finalize(),_t===0&&(++_t,Ie(function(){--_t==0&&xs()},[]))}function ks(i,o){if(i._state!==null){var u=i._state?o.onFulfilled:o.onRejected;if(u===null)return(i._state?o.resolve:o.reject)(i._value);++o.psd.ref,++_t,Ie(kc,[u,i,o])}else i._listeners.push(o)}function kc(i,o,u){try{var h,d=o._value;!o._state&&Qe.length&&(Qe=[]),h=V&&o._consoleTask?o._consoleTask.run(function(){return i(d)}):i(d),o._state||Qe.indexOf(d)!==-1||function(p){for(var m=Ne.length;m;)if(Ne[--m]._value===p._value)return Ne.splice(m,1)}(o),u.resolve(h)}catch(p){u.reject(p)}finally{--_t==0&&xs(),--u.psd.ref||u.psd.finalize()}}function xc(){Kn(tt,function(){ir()&&sr()})}function ir(){var i=Ce;return et=Ce=!1,i}function sr(){var i,o,u;do for(;0<ht.length;)for(i=ht,ht=[],u=i.length,o=0;o<u;++o){var h=i[o];h[0].apply(null,h[1])}while(0<ht.length);et=Ce=!0}function xs(){var i=Ne;Ne=[],i.forEach(function(h){h._PSD.onunhandled.call(null,h._value,h)});for(var o=Un.slice(0),u=o.length;u;)o[--u]()}function ui(i){return new ce(oe,!1,i)}function ft(i,o){var u=pe;return function(){var h=ir(),d=pe;try{return wn(u,!0),i.apply(this,arguments)}catch(p){o&&o(p)}finally{wn(d,!1),h&&sr()}}}R(ce.prototype,{then:bs,_then:function(i,o){ks(this,new da(null,null,i,o,pe))},catch:function(i){if(arguments.length===1)return this.then(null,i);var o=i,u=arguments[1];return typeof o=="function"?this.then(null,function(h){return(h instanceof o?u:ui)(h)}):this.then(null,function(h){return(h&&h.name===o?u:ui)(h)})},finally:function(i){return this.then(function(o){return ce.resolve(i()).then(function(){return o})},function(o){return ce.resolve(i()).then(function(){return ui(o)})})},timeout:function(i,o){var u=this;return i<1/0?new ce(function(h,d){var p=setTimeout(function(){return d(new q.Timeout(o))},i);u.then(h,d).finally(clearTimeout.bind(null,p))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&se(ce.prototype,Symbol.toStringTag,"Dexie.Promise"),tt.env=ga(),R(ce,{all:function(){var i=rt.apply(null,arguments).map(di);return new ce(function(o,u){i.length===0&&o([]);var h=i.length;i.forEach(function(d,p){return ce.resolve(d).then(function(m){i[p]=m,--h||o(i)},u)})})},resolve:function(i){return i instanceof ce?i:i&&typeof i.then=="function"?new ce(function(o,u){i.then(o,u)}):new ce(oe,!0,i)},reject:ui,race:function(){var i=rt.apply(null,arguments).map(di);return new ce(function(o,u){i.map(function(h){return ce.resolve(h).then(o,u)})})},PSD:{get:function(){return pe},set:function(i){return pe=i}},totalEchoes:{get:function(){return hi}},newPSD:_n,usePSD:Kn,scheduler:{get:function(){return Ie},set:function(i){Ie=i}},rejectionMapper:{get:function(){return dt},set:function(i){dt=i}},follow:function(i,o){return new ce(function(u,h){return _n(function(d,p){var m=pe;m.unhandleds=[],m.onunhandled=p,m.finalize=D(function(){var _,S=this;_=function(){S.unhandleds.length===0?d():p(S.unhandleds[0])},Un.push(function x(){_(),Un.splice(Un.indexOf(x),1)}),++_t,Ie(function(){--_t==0&&xs()},[])},m.finalize),i()},o,u,h)})}}),ye&&(ye.allSettled&&se(ce,"allSettled",function(){var i=rt.apply(null,arguments).map(di);return new ce(function(o){i.length===0&&o([]);var u=i.length,h=new Array(u);i.forEach(function(d,p){return ce.resolve(d).then(function(m){return h[p]={status:"fulfilled",value:m}},function(m){return h[p]={status:"rejected",reason:m}}).then(function(){return--u||o(h)})})})}),ye.any&&typeof AggregateError<"u"&&se(ce,"any",function(){var i=rt.apply(null,arguments).map(di);return new ce(function(o,u){i.length===0&&u(new AggregateError([]));var h=i.length,d=new Array(h);i.forEach(function(p,m){return ce.resolve(p).then(function(_){return o(_)},function(_){d[m]=_,--h||u(new AggregateError(d))})})})}));var bt={awaits:0,echoes:0,id:0},Ec=0,ci=[],fi=0,hi=0,Sc=0;function _n(i,o,u,h){var d=pe,p=Object.create(d);return p.parent=d,p.ref=0,p.global=!1,p.id=++Sc,tt.env,p.env=Ee?{Promise:ce,PromiseProp:{value:ce,configurable:!0,writable:!0},all:ce.all,race:ce.race,allSettled:ce.allSettled,any:ce.any,resolve:ce.resolve,reject:ce.reject}:{},o&&c(p,o),++d.ref,p.finalize=function(){--this.parent.ref||this.parent.finalize()},h=Kn(p,i,u,h),p.ref===0&&p.finalize(),h}function or(){return bt.id||(bt.id=++Ec),++bt.awaits,bt.echoes+=ee,bt.id}function bn(){return!!bt.awaits&&(--bt.awaits==0&&(bt.id=0),bt.echoes=bt.awaits*ee,!0)}function di(i){return bt.echoes&&i&&i.constructor===ye?(or(),i.then(function(o){return bn(),o},function(o){return bn(),gt(o)})):i}function Oc(){var i=ci[ci.length-1];ci.pop(),wn(i,!1)}function wn(i,o){var u,h=pe;(o?!bt.echoes||fi++&&i===pe:!fi||--fi&&i===pe)||queueMicrotask(o?(function(d){++hi,bt.echoes&&--bt.echoes!=0||(bt.echoes=bt.awaits=bt.id=0),ci.push(pe),wn(d,!0)}).bind(null,i):Oc),i!==pe&&(pe=i,h===tt&&(tt.env=ga()),Ee&&(u=tt.env.Promise,o=i.env,(h.global||i.global)&&(Object.defineProperty(a,"Promise",o.PromiseProp),u.all=o.all,u.race=o.race,u.resolve=o.resolve,u.reject=o.reject,o.allSettled&&(u.allSettled=o.allSettled),o.any&&(u.any=o.any))))}function ga(){var i=a.Promise;return Ee?{Promise:i,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:i.all,race:i.race,allSettled:i.allSettled,any:i.any,resolve:i.resolve,reject:i.reject}:{}}function Kn(i,o,u,h,d){var p=pe;try{return wn(i,!0),o(u,h,d)}finally{wn(p,!1)}}function ya(i,o,u,h){return typeof i!="function"?i:function(){var d=pe;u&&or(),wn(o,!0);try{return i.apply(this,arguments)}finally{wn(d,!1),h&&queueMicrotask(bn)}}}function Es(i){Promise===ye&&bt.echoes===0?fi===0?i():enqueueNativeMicroTask(i):setTimeout(i,0)}(""+Jt).indexOf("[native code]")===-1&&(or=bn=xe);var gt=ce.reject,Nn="",fn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ma="String expected.",ar=[],pi="__dbnames",Ss="readonly",Os="readwrite";function Bn(i,o){return i?o?function(){return i.apply(this,arguments)&&o.apply(this,arguments)}:i:o}var va={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function gi(i){return typeof i!="string"||/\./.test(i)?function(o){return o}:function(o){return o[i]===void 0&&i in o&&delete(o=me(o))[i],o}}function _a(){throw q.Type()}function Be(i,o){try{var u=ba(i),h=ba(o);if(u!==h)return u==="Array"?1:h==="Array"?-1:u==="binary"?1:h==="binary"?-1:u==="string"?1:h==="string"?-1:u==="Date"?1:h!=="Date"?NaN:-1;switch(u){case"number":case"Date":case"string":return o<i?1:i<o?-1:0;case"binary":return function(d,p){for(var m=d.length,_=p.length,S=m<_?m:_,x=0;x<S;++x)if(d[x]!==p[x])return d[x]<p[x]?-1:1;return m===_?0:m<_?-1:1}(wa(i),wa(o));case"Array":return function(d,p){for(var m=d.length,_=p.length,S=m<_?m:_,x=0;x<S;++x){var T=Be(d[x],p[x]);if(T!==0)return T}return m===_?0:m<_?-1:1}(i,o)}}catch{}return NaN}function ba(i){var o=typeof i;return o!="object"?o:ArrayBuffer.isView(i)?"binary":(i=ut(i),i==="ArrayBuffer"?"binary":i)}function wa(i){return i instanceof Uint8Array?i:ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i)}var ka=(at.prototype._trans=function(i,o,u){var h=this._tx||pe.trans,d=this.name,p=V&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(i==="readonly"?"read":"write"," ").concat(this.name));function m(x,T,w){if(!w.schema[d])throw new q.NotFound("Table "+d+" not part of transaction");return o(w.idbtrans,w)}var _=ir();try{var S=h&&h.db._novip===this.db._novip?h===pe.trans?h._promise(i,m,u):_n(function(){return h._promise(i,m,u)},{trans:h,transless:pe.transless||pe}):function x(T,w,C,E){if(T.idbdb&&(T._state.openComplete||pe.letThrough||T._vip)){var P=T._createTransaction(w,C,T._dbSchema);try{P.create(),T._state.PR1398_maxLoop=3}catch(A){return A.name===Ze.InvalidState&&T.isOpen()&&0<--T._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),T.close({disableAutoOpen:!1}),T.open().then(function(){return x(T,w,C,E)})):gt(A)}return P._promise(w,function(A,O){return _n(function(){return pe.trans=P,E(A,O,P)})}).then(function(A){if(w==="readwrite")try{P.idbtrans.commit()}catch{}return w==="readonly"?A:P._completion.then(function(){return A})})}if(T._state.openComplete)return gt(new q.DatabaseClosed(T._state.dbOpenError));if(!T._state.isBeingOpened){if(!T._state.autoOpen)return gt(new q.DatabaseClosed);T.open().catch(xe)}return T._state.dbReadyPromise.then(function(){return x(T,w,C,E)})}(this.db,i,[this.name],m);return p&&(S._consoleTask=p,S=S.catch(function(x){return console.trace(x),gt(x)})),S}finally{_&&sr()}},at.prototype.get=function(i,o){var u=this;return i&&i.constructor===Object?this.where(i).first(o):i==null?gt(new q.Type("Invalid argument to Table.get()")):this._trans("readonly",function(h){return u.core.get({trans:h,key:i}).then(function(d){return u.hook.reading.fire(d)})}).then(o)},at.prototype.where=function(i){if(typeof i=="string")return new this.db.WhereClause(this,i);if(f(i))return new this.db.WhereClause(this,"[".concat(i.join("+"),"]"));var o=l(i);if(o.length===1)return this.where(o[0]).equals(i[o[0]]);var u=this.schema.indexes.concat(this.schema.primKey).filter(function(S){if(S.compound&&o.every(function(T){return 0<=S.keyPath.indexOf(T)})){for(var x=0;x<o.length;++x)if(o.indexOf(S.keyPath[x])===-1)return!1;return!0}return!1}).sort(function(S,x){return S.keyPath.length-x.keyPath.length})[0];if(u&&this.db._maxKey!==Nn){var m=u.keyPath.slice(0,o.length);return this.where(m).equals(m.map(function(x){return i[x]}))}!u&&V&&console.warn("The query ".concat(JSON.stringify(i)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(o.join("+"),"]"));var h=this.schema.idxByName,d=this.db._deps.indexedDB;function p(S,x){return d.cmp(S,x)===0}var _=o.reduce(function(C,x){var T=C[0],w=C[1],C=h[x],E=i[x];return[T||C,T||!C?Bn(w,C&&C.multi?function(P){return P=Xe(P,x),f(P)&&P.some(function(A){return p(E,A)})}:function(P){return p(E,Xe(P,x))}):w]},[null,null]),m=_[0],_=_[1];return m?this.where(m.name).equals(i[m.keyPath]).filter(_):u?this.filter(_):this.where(o).equals("")},at.prototype.filter=function(i){return this.toCollection().and(i)},at.prototype.count=function(i){return this.toCollection().count(i)},at.prototype.offset=function(i){return this.toCollection().offset(i)},at.prototype.limit=function(i){return this.toCollection().limit(i)},at.prototype.each=function(i){return this.toCollection().each(i)},at.prototype.toArray=function(i){return this.toCollection().toArray(i)},at.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},at.prototype.orderBy=function(i){return new this.db.Collection(new this.db.WhereClause(this,f(i)?"[".concat(i.join("+"),"]"):i))},at.prototype.reverse=function(){return this.toCollection().reverse()},at.prototype.mapToClass=function(i){var o,u=this.db,h=this.name;function d(){return o!==null&&o.apply(this,arguments)||this}(this.schema.mappedClass=i).prototype instanceof _a&&(function(S,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function T(){this.constructor=S}n(S,x),S.prototype=x===null?Object.create(x):(T.prototype=x.prototype,new T)}(d,o=i),Object.defineProperty(d.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),d.prototype.table=function(){return h},i=d);for(var p=new Set,m=i.prototype;m;m=y(m))Object.getOwnPropertyNames(m).forEach(function(S){return p.add(S)});function _(S){if(!S)return S;var x,T=Object.create(i.prototype);for(x in S)if(!p.has(x))try{T[x]=S[x]}catch{}return T}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=_,this.hook("reading",_),i},at.prototype.defineClass=function(){return this.mapToClass(function(i){c(this,i)})},at.prototype.add=function(i,o){var u=this,h=this.schema.primKey,d=h.auto,p=h.keyPath,m=i;return p&&d&&(m=gi(p)(i)),this._trans("readwrite",function(_){return u.core.mutate({trans:_,type:"add",keys:o!=null?[o]:null,values:[m]})}).then(function(_){return _.numFailures?ce.reject(_.failures[0]):_.lastResult}).then(function(_){if(p)try{ke(i,p,_)}catch{}return _})},at.prototype.update=function(i,o){return typeof i!="object"||f(i)?this.where(":id").equals(i).modify(o):(i=Xe(i,this.schema.primKey.keyPath),i===void 0?gt(new q.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(i).modify(o))},at.prototype.put=function(i,o){var u=this,h=this.schema.primKey,d=h.auto,p=h.keyPath,m=i;return p&&d&&(m=gi(p)(i)),this._trans("readwrite",function(_){return u.core.mutate({trans:_,type:"put",values:[m],keys:o!=null?[o]:null})}).then(function(_){return _.numFailures?ce.reject(_.failures[0]):_.lastResult}).then(function(_){if(p)try{ke(i,p,_)}catch{}return _})},at.prototype.delete=function(i){var o=this;return this._trans("readwrite",function(u){return o.core.mutate({trans:u,type:"delete",keys:[i]})}).then(function(u){return u.numFailures?ce.reject(u.failures[0]):void 0})},at.prototype.clear=function(){var i=this;return this._trans("readwrite",function(o){return i.core.mutate({trans:o,type:"deleteRange",range:va})}).then(function(o){return o.numFailures?ce.reject(o.failures[0]):void 0})},at.prototype.bulkGet=function(i){var o=this;return this._trans("readonly",function(u){return o.core.getMany({keys:i,trans:u}).then(function(h){return h.map(function(d){return o.hook.reading.fire(d)})})})},at.prototype.bulkAdd=function(i,o,u){var h=this,d=Array.isArray(o)?o:void 0,p=(u=u||(d?void 0:o))?u.allKeys:void 0;return this._trans("readwrite",function(m){var x=h.schema.primKey,_=x.auto,x=x.keyPath;if(x&&d)throw new q.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(d&&d.length!==i.length)throw new q.InvalidArgument("Arguments objects and keys must have the same length");var S=i.length,x=x&&_?i.map(gi(x)):i;return h.core.mutate({trans:m,type:"add",keys:d,values:x,wantResults:p}).then(function(P){var w=P.numFailures,C=P.results,E=P.lastResult,P=P.failures;if(w===0)return p?C:E;throw new We("".concat(h.name,".bulkAdd(): ").concat(w," of ").concat(S," operations failed"),P)})})},at.prototype.bulkPut=function(i,o,u){var h=this,d=Array.isArray(o)?o:void 0,p=(u=u||(d?void 0:o))?u.allKeys:void 0;return this._trans("readwrite",function(m){var x=h.schema.primKey,_=x.auto,x=x.keyPath;if(x&&d)throw new q.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(d&&d.length!==i.length)throw new q.InvalidArgument("Arguments objects and keys must have the same length");var S=i.length,x=x&&_?i.map(gi(x)):i;return h.core.mutate({trans:m,type:"put",keys:d,values:x,wantResults:p}).then(function(P){var w=P.numFailures,C=P.results,E=P.lastResult,P=P.failures;if(w===0)return p?C:E;throw new We("".concat(h.name,".bulkPut(): ").concat(w," of ").concat(S," operations failed"),P)})})},at.prototype.bulkUpdate=function(i){var o=this,u=this.core,h=i.map(function(m){return m.key}),d=i.map(function(m){return m.changes}),p=[];return this._trans("readwrite",function(m){return u.getMany({trans:m,keys:h,cache:"clone"}).then(function(_){var S=[],x=[];i.forEach(function(w,C){var E=w.key,P=w.changes,A=_[C];if(A){for(var O=0,$=Object.keys(P);O<$.length;O++){var L=$[O],M=P[L];if(L===o.schema.primKey.keyPath){if(Be(M,E)!==0)throw new q.Constraint("Cannot update primary key in bulkUpdate()")}else ke(A,L,M)}p.push(C),S.push(E),x.push(A)}});var T=S.length;return u.mutate({trans:m,type:"put",keys:S,values:x,updates:{keys:h,changeSpecs:d}}).then(function(w){var C=w.numFailures,E=w.failures;if(C===0)return T;for(var P=0,A=Object.keys(E);P<A.length;P++){var O,$=A[P],L=p[Number($)];L!=null&&(O=E[$],delete E[$],E[L]=O)}throw new We("".concat(o.name,".bulkUpdate(): ").concat(C," of ").concat(T," operations failed"),E)})})})},at.prototype.bulkDelete=function(i){var o=this,u=i.length;return this._trans("readwrite",function(h){return o.core.mutate({trans:h,type:"delete",keys:i})}).then(function(m){var d=m.numFailures,p=m.lastResult,m=m.failures;if(d===0)return p;throw new We("".concat(o.name,".bulkDelete(): ").concat(d," of ").concat(u," operations failed"),m)})},at);function at(){}function Ar(i){function o(m,_){if(_){for(var S=arguments.length,x=new Array(S-1);--S;)x[S-1]=arguments[S];return u[m].subscribe.apply(null,x),i}if(typeof m=="string")return u[m]}var u={};o.addEventType=p;for(var h=1,d=arguments.length;h<d;++h)p(arguments[h]);return o;function p(m,_,S){if(typeof m!="object"){var x;_=_||X;var T={subscribers:[],fire:S=S||xe,subscribe:function(w){T.subscribers.indexOf(w)===-1&&(T.subscribers.push(w),T.fire=_(T.fire,w))},unsubscribe:function(w){T.subscribers=T.subscribers.filter(function(C){return C!==w}),T.fire=T.subscribers.reduce(_,S)}};return u[m]=o[m]=T}l(x=m).forEach(function(w){var C=x[w];if(f(C))p(w,x[w][0],x[w][1]);else{if(C!=="asap")throw new q.InvalidArgument("Invalid event config");var E=p(w,v,function(){for(var P=arguments.length,A=new Array(P);P--;)A[P]=arguments[P];E.subscribers.forEach(function(O){Oe(function(){O.apply(null,A)})})})}})}}function jr(i,o){return fe(o).from({prototype:i}),o}function lr(i,o){return!(i.filter||i.algorithm||i.or)&&(o?i.justLimit:!i.replayFilter)}function Ps(i,o){i.filter=Bn(i.filter,o)}function Ts(i,o,u){var h=i.replayFilter;i.replayFilter=h?function(){return Bn(h(),o())}:o,i.justLimit=u&&!h}function yi(i,o){if(i.isPrimKey)return o.primaryKey;var u=o.getIndexByKeyPath(i.index);if(!u)throw new q.Schema("KeyPath "+i.index+" on object store "+o.name+" is not indexed");return u}function xa(i,o,u){var h=yi(i,o.schema);return o.openCursor({trans:u,values:!i.keysOnly,reverse:i.dir==="prev",unique:!!i.unique,query:{index:h,range:i.range}})}function mi(i,o,u,h){var d=i.replayFilter?Bn(i.filter,i.replayFilter()):i.filter;if(i.or){var p={},m=function(_,S,x){var T,w;d&&!d(S,x,function(C){return S.stop(C)},function(C){return S.fail(C)})||((w=""+(T=S.primaryKey))=="[object ArrayBuffer]"&&(w=""+new Uint8Array(T)),b(p,w)||(p[w]=!0,o(_,S,x)))};return Promise.all([i.or._iterate(m,u),Ea(xa(i,h,u),i.algorithm,m,!i.keysOnly&&i.valueMapper)])}return Ea(xa(i,h,u),Bn(i.algorithm,d),o,!i.keysOnly&&i.valueMapper)}function Ea(i,o,u,h){var d=ft(h?function(p,m,_){return u(h(p),m,_)}:u);return i.then(function(p){if(p)return p.start(function(){var m=function(){return p.continue()};o&&!o(p,function(_){return m=_},function(_){p.stop(_),m=xe},function(_){p.fail(_),m=xe})||d(p.value,p,function(_){return m=_}),m()})})}var hn=Symbol(),Rr=(Sa.prototype.execute=function(i){if(this.add!==void 0){var o=this.add;if(f(o))return s(s([],f(i)?i:[],!0),o).sort();if(typeof o=="number")return(Number(i)||0)+o;if(typeof o=="bigint")try{return BigInt(i)+o}catch{return BigInt(0)+o}throw new TypeError("Invalid term ".concat(o))}if(this.remove!==void 0){var u=this.remove;if(f(u))return f(i)?i.filter(function(h){return!u.includes(h)}).sort():[];if(typeof u=="number")return Number(i)-u;if(typeof u=="bigint")try{return BigInt(i)-u}catch{return BigInt(0)-u}throw new TypeError("Invalid subtrahend ".concat(u))}return o=(o=this.replacePrefix)===null||o===void 0?void 0:o[0],o&&typeof i=="string"&&i.startsWith(o)?this.replacePrefix[1]+i.substring(o.length):i},Sa);function Sa(i){Object.assign(this,i)}var Pc=(qe.prototype._read=function(i,o){var u=this._ctx;return u.error?u.table._trans(null,gt.bind(null,u.error)):u.table._trans("readonly",i).then(o)},qe.prototype._write=function(i){var o=this._ctx;return o.error?o.table._trans(null,gt.bind(null,o.error)):o.table._trans("readwrite",i,"locked")},qe.prototype._addAlgorithm=function(i){var o=this._ctx;o.algorithm=Bn(o.algorithm,i)},qe.prototype._iterate=function(i,o){return mi(this._ctx,i,o,this._ctx.table.core)},qe.prototype.clone=function(i){var o=Object.create(this.constructor.prototype),u=Object.create(this._ctx);return i&&c(u,i),o._ctx=u,o},qe.prototype.raw=function(){return this._ctx.valueMapper=null,this},qe.prototype.each=function(i){var o=this._ctx;return this._read(function(u){return mi(o,i,u,o.table.core)})},qe.prototype.count=function(i){var o=this;return this._read(function(u){var h=o._ctx,d=h.table.core;if(lr(h,!0))return d.count({trans:u,query:{index:yi(h,d.schema),range:h.range}}).then(function(m){return Math.min(m,h.limit)});var p=0;return mi(h,function(){return++p,!1},u,d).then(function(){return p})}).then(i)},qe.prototype.sortBy=function(i,o){var u=i.split(".").reverse(),h=u[0],d=u.length-1;function p(S,x){return x?p(S[u[x]],x-1):S[h]}var m=this._ctx.dir==="next"?1:-1;function _(S,x){return S=p(S,d),x=p(x,d),S<x?-m:x<S?m:0}return this.toArray(function(S){return S.sort(_)}).then(o)},qe.prototype.toArray=function(i){var o=this;return this._read(function(u){var h=o._ctx;if(h.dir==="next"&&lr(h,!0)&&0<h.limit){var d=h.valueMapper,p=yi(h,h.table.core.schema);return h.table.core.query({trans:u,limit:h.limit,values:!0,query:{index:p,range:h.range}}).then(function(_){return _=_.result,d?_.map(d):_})}var m=[];return mi(h,function(_){return m.push(_)},u,h.table.core).then(function(){return m})},i)},qe.prototype.offset=function(i){var o=this._ctx;return i<=0||(o.offset+=i,lr(o)?Ts(o,function(){var u=i;return function(h,d){return u===0||(u===1?--u:d(function(){h.advance(u),u=0}),!1)}}):Ts(o,function(){var u=i;return function(){return--u<0}})),this},qe.prototype.limit=function(i){return this._ctx.limit=Math.min(this._ctx.limit,i),Ts(this._ctx,function(){var o=i;return function(u,h,d){return--o<=0&&h(d),0<=o}},!0),this},qe.prototype.until=function(i,o){return Ps(this._ctx,function(u,h,d){return!i(u.value)||(h(d),o)}),this},qe.prototype.first=function(i){return this.limit(1).toArray(function(o){return o[0]}).then(i)},qe.prototype.last=function(i){return this.reverse().first(i)},qe.prototype.filter=function(i){var o;return Ps(this._ctx,function(u){return i(u.value)}),(o=this._ctx).isMatch=Bn(o.isMatch,i),this},qe.prototype.and=function(i){return this.filter(i)},qe.prototype.or=function(i){return new this.db.WhereClause(this._ctx.table,i,this)},qe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},qe.prototype.desc=function(){return this.reverse()},qe.prototype.eachKey=function(i){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(u,h){i(h.key,h)})},qe.prototype.eachUniqueKey=function(i){return this._ctx.unique="unique",this.eachKey(i)},qe.prototype.eachPrimaryKey=function(i){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(u,h){i(h.primaryKey,h)})},qe.prototype.keys=function(i){var o=this._ctx;o.keysOnly=!o.isMatch;var u=[];return this.each(function(h,d){u.push(d.key)}).then(function(){return u}).then(i)},qe.prototype.primaryKeys=function(i){var o=this._ctx;if(o.dir==="next"&&lr(o,!0)&&0<o.limit)return this._read(function(h){var d=yi(o,o.table.core.schema);return o.table.core.query({trans:h,values:!1,limit:o.limit,query:{index:d,range:o.range}})}).then(function(h){return h.result}).then(i);o.keysOnly=!o.isMatch;var u=[];return this.each(function(h,d){u.push(d.primaryKey)}).then(function(){return u}).then(i)},qe.prototype.uniqueKeys=function(i){return this._ctx.unique="unique",this.keys(i)},qe.prototype.firstKey=function(i){return this.limit(1).keys(function(o){return o[0]}).then(i)},qe.prototype.lastKey=function(i){return this.reverse().firstKey(i)},qe.prototype.distinct=function(){var i=this._ctx,i=i.index&&i.table.schema.idxByName[i.index];if(!i||!i.multi)return this;var o={};return Ps(this._ctx,function(d){var h=d.primaryKey.toString(),d=b(o,h);return o[h]=!0,!d}),this},qe.prototype.modify=function(i){var o=this,u=this._ctx;return this._write(function(h){var d,p,m;m=typeof i=="function"?i:(d=l(i),p=d.length,function(O){for(var $=!1,L=0;L<p;++L){var M=d[L],U=i[M],G=Xe(O,M);U instanceof Rr?(ke(O,M,U.execute(G)),$=!0):G!==U&&(ke(O,M,U),$=!0)}return $});function _(O,M){var L=M.failures,M=M.numFailures;P+=O-M;for(var U=0,G=l(L);U<G.length;U++){var re=G[U];E.push(L[re])}}var S=u.table.core,x=S.schema.primaryKey,T=x.outbound,w=x.extractKey,C=o.db._options.modifyChunkSize||200,E=[],P=0,A=[];return o.clone().primaryKeys().then(function(O){function $(M){var U=Math.min(C,O.length-M);return S.getMany({trans:h,keys:O.slice(M,M+U),cache:"immutable"}).then(function(G){for(var re=[],Q=[],te=T?[]:null,ie=[],z=0;z<U;++z){var Pe=G[z],Ae={value:me(Pe),primKey:O[M+z]};m.call(Ae,Ae.value,Ae)!==!1&&(Ae.value==null?ie.push(O[M+z]):T||Be(w(Pe),w(Ae.value))===0?(Q.push(Ae.value),T&&te.push(O[M+z])):(ie.push(O[M+z]),re.push(Ae.value)))}return Promise.resolve(0<re.length&&S.mutate({trans:h,type:"add",values:re}).then(function(Fe){for(var De in Fe.failures)ie.splice(parseInt(De),1);_(re.length,Fe)})).then(function(){return(0<Q.length||L&&typeof i=="object")&&S.mutate({trans:h,type:"put",keys:te,values:Q,criteria:L,changeSpec:typeof i!="function"&&i,isAdditionalChunk:0<M}).then(function(Fe){return _(Q.length,Fe)})}).then(function(){return(0<ie.length||L&&i===Cs)&&S.mutate({trans:h,type:"delete",keys:ie,criteria:L,isAdditionalChunk:0<M}).then(function(Fe){return _(ie.length,Fe)})}).then(function(){return O.length>M+U&&$(M+C)})})}var L=lr(u)&&u.limit===1/0&&(typeof i!="function"||i===Cs)&&{index:u.index,range:u.range};return $(0).then(function(){if(0<E.length)throw new Ge("Error modifying one or more objects",E,P,A);return O.length})})})},qe.prototype.delete=function(){var i=this._ctx,o=i.range;return lr(i)&&(i.isPrimKey||o.type===3)?this._write(function(u){var h=i.table.core.schema.primaryKey,d=o;return i.table.core.count({trans:u,query:{index:h,range:d}}).then(function(p){return i.table.core.mutate({trans:u,type:"deleteRange",range:d}).then(function(m){var _=m.failures;if(m.lastResult,m.results,m=m.numFailures,m)throw new Ge("Could not delete some values",Object.keys(_).map(function(S){return _[S]}),p-m);return p-m})})}):this.modify(Cs)},qe);function qe(){}var Cs=function(i,o){return o.value=null};function Tc(i,o){return i<o?-1:i===o?0:1}function Cc(i,o){return o<i?-1:i===o?0:1}function Nt(i,o,u){return i=i instanceof Pa?new i.Collection(i):i,i._ctx.error=new(u||TypeError)(o),i}function ur(i){return new i.Collection(i,function(){return Oa("")}).limit(0)}function vi(i,o,u,h){var d,p,m,_,S,x,T,w=u.length;if(!u.every(function(P){return typeof P=="string"}))return Nt(i,ma);function C(P){d=P==="next"?function(O){return O.toUpperCase()}:function(O){return O.toLowerCase()},p=P==="next"?function(O){return O.toLowerCase()}:function(O){return O.toUpperCase()},m=P==="next"?Tc:Cc;var A=u.map(function(O){return{lower:p(O),upper:d(O)}}).sort(function(O,$){return m(O.lower,$.lower)});_=A.map(function(O){return O.upper}),S=A.map(function(O){return O.lower}),T=(x=P)==="next"?"":h}C("next"),i=new i.Collection(i,function(){return kn(_[0],S[w-1]+h)}),i._ondirectionchange=function(P){C(P)};var E=0;return i._addAlgorithm(function(P,A,O){var $=P.key;if(typeof $!="string")return!1;var L=p($);if(o(L,S,E))return!0;for(var M=null,U=E;U<w;++U){var G=function(re,Q,te,ie,z,Pe){for(var Ae=Math.min(re.length,ie.length),Fe=-1,De=0;De<Ae;++De){var Yt=Q[De];if(Yt!==ie[De])return z(re[De],te[De])<0?re.substr(0,De)+te[De]+te.substr(De+1):z(re[De],ie[De])<0?re.substr(0,De)+ie[De]+te.substr(De+1):0<=Fe?re.substr(0,Fe)+Q[Fe]+te.substr(Fe+1):null;z(re[De],Yt)<0&&(Fe=De)}return Ae<ie.length&&Pe==="next"?re+te.substr(re.length):Ae<re.length&&Pe==="prev"?re.substr(0,te.length):Fe<0?null:re.substr(0,Fe)+ie[Fe]+te.substr(Fe+1)}($,L,_[U],S[U],m,x);G===null&&M===null?E=U+1:(M===null||0<m(M,G))&&(M=G)}return A(M!==null?function(){P.continue(M+T)}:O),!1}),i}function kn(i,o,u,h){return{type:2,lower:i,upper:o,lowerOpen:u,upperOpen:h}}function Oa(i){return{type:1,lower:i,upper:i}}var Pa=(Object.defineProperty(wt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),wt.prototype.between=function(i,o,u,h){u=u!==!1,h=h===!0;try{return 0<this._cmp(i,o)||this._cmp(i,o)===0&&(u||h)&&(!u||!h)?ur(this):new this.Collection(this,function(){return kn(i,o,!u,!h)})}catch{return Nt(this,fn)}},wt.prototype.equals=function(i){return i==null?Nt(this,fn):new this.Collection(this,function(){return Oa(i)})},wt.prototype.above=function(i){return i==null?Nt(this,fn):new this.Collection(this,function(){return kn(i,void 0,!0)})},wt.prototype.aboveOrEqual=function(i){return i==null?Nt(this,fn):new this.Collection(this,function(){return kn(i,void 0,!1)})},wt.prototype.below=function(i){return i==null?Nt(this,fn):new this.Collection(this,function(){return kn(void 0,i,!1,!0)})},wt.prototype.belowOrEqual=function(i){return i==null?Nt(this,fn):new this.Collection(this,function(){return kn(void 0,i)})},wt.prototype.startsWith=function(i){return typeof i!="string"?Nt(this,ma):this.between(i,i+Nn,!0,!0)},wt.prototype.startsWithIgnoreCase=function(i){return i===""?this.startsWith(i):vi(this,function(o,u){return o.indexOf(u[0])===0},[i],Nn)},wt.prototype.equalsIgnoreCase=function(i){return vi(this,function(o,u){return o===u[0]},[i],"")},wt.prototype.anyOfIgnoreCase=function(){var i=rt.apply(ge,arguments);return i.length===0?ur(this):vi(this,function(o,u){return u.indexOf(o)!==-1},i,"")},wt.prototype.startsWithAnyOfIgnoreCase=function(){var i=rt.apply(ge,arguments);return i.length===0?ur(this):vi(this,function(o,u){return u.some(function(h){return o.indexOf(h)===0})},i,Nn)},wt.prototype.anyOf=function(){var i=this,o=rt.apply(ge,arguments),u=this._cmp;try{o.sort(u)}catch{return Nt(this,fn)}if(o.length===0)return ur(this);var h=new this.Collection(this,function(){return kn(o[0],o[o.length-1])});h._ondirectionchange=function(p){u=p==="next"?i._ascending:i._descending,o.sort(u)};var d=0;return h._addAlgorithm(function(p,m,_){for(var S=p.key;0<u(S,o[d]);)if(++d===o.length)return m(_),!1;return u(S,o[d])===0||(m(function(){p.continue(o[d])}),!1)}),h},wt.prototype.notEqual=function(i){return this.inAnyRange([[-1/0,i],[i,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},wt.prototype.noneOf=function(){var i=rt.apply(ge,arguments);if(i.length===0)return new this.Collection(this);try{i.sort(this._ascending)}catch{return Nt(this,fn)}var o=i.reduce(function(u,h){return u?u.concat([[u[u.length-1][1],h]]):[[-1/0,h]]},null);return o.push([i[i.length-1],this.db._maxKey]),this.inAnyRange(o,{includeLowers:!1,includeUppers:!1})},wt.prototype.inAnyRange=function($,o){var u=this,h=this._cmp,d=this._ascending,p=this._descending,m=this._min,_=this._max;if($.length===0)return ur(this);if(!$.every(function(L){return L[0]!==void 0&&L[1]!==void 0&&d(L[0],L[1])<=0}))return Nt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",q.InvalidArgument);var S=!o||o.includeLowers!==!1,x=o&&o.includeUppers===!0,T,w=d;function C(L,M){return w(L[0],M[0])}try{(T=$.reduce(function(L,M){for(var U=0,G=L.length;U<G;++U){var re=L[U];if(h(M[0],re[1])<0&&0<h(M[1],re[0])){re[0]=m(re[0],M[0]),re[1]=_(re[1],M[1]);break}}return U===G&&L.push(M),L},[])).sort(C)}catch{return Nt(this,fn)}var E=0,P=x?function(L){return 0<d(L,T[E][1])}:function(L){return 0<=d(L,T[E][1])},A=S?function(L){return 0<p(L,T[E][0])}:function(L){return 0<=p(L,T[E][0])},O=P,$=new this.Collection(this,function(){return kn(T[0][0],T[T.length-1][1],!S,!x)});return $._ondirectionchange=function(L){w=L==="next"?(O=P,d):(O=A,p),T.sort(C)},$._addAlgorithm(function(L,M,U){for(var G,re=L.key;O(re);)if(++E===T.length)return M(U),!1;return!P(G=re)&&!A(G)||(u._cmp(re,T[E][1])===0||u._cmp(re,T[E][0])===0||M(function(){w===d?L.continue(T[E][0]):L.continue(T[E][1])}),!1)}),$},wt.prototype.startsWithAnyOf=function(){var i=rt.apply(ge,arguments);return i.every(function(o){return typeof o=="string"})?i.length===0?ur(this):this.inAnyRange(i.map(function(o){return[o,o+Nn]})):Nt(this,"startsWithAnyOf() only works with strings")},wt);function wt(){}function tn(i){return ft(function(o){return Ir(o),i(o.target.error),!1})}function Ir(i){i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault()}var Dr="storagemutated",As="x-storagemutated-1",xn=Ar(null,Dr),Ac=(nn.prototype._lock=function(){return ae(!pe.global),++this._reculock,this._reculock!==1||pe.global||(pe.lockOwnerFor=this),this},nn.prototype._unlock=function(){if(ae(!pe.global),--this._reculock==0)for(pe.global||(pe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var i=this._blockedFuncs.shift();try{Kn(i[1],i[0])}catch{}}return this},nn.prototype._locked=function(){return this._reculock&&pe.lockOwnerFor!==this},nn.prototype.create=function(i){var o=this;if(!this.mode)return this;var u=this.db.idbdb,h=this.db._state.dbOpenError;if(ae(!this.idbtrans),!i&&!u)switch(h&&h.name){case"DatabaseClosedError":throw new q.DatabaseClosed(h);case"MissingAPIError":throw new q.MissingAPI(h.message,h);default:throw new q.OpenFailed(h)}if(!this.active)throw new q.TransactionInactive;return ae(this._completion._state===null),(i=this.idbtrans=i||(this.db.core||u).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=ft(function(d){Ir(d),o._reject(i.error)}),i.onabort=ft(function(d){Ir(d),o.active&&o._reject(new q.Abort(i.error)),o.active=!1,o.on("abort").fire(d)}),i.oncomplete=ft(function(){o.active=!1,o._resolve(),"mutatedParts"in i&&xn.storagemutated.fire(i.mutatedParts)}),this},nn.prototype._promise=function(i,o,u){var h=this;if(i==="readwrite"&&this.mode!=="readwrite")return gt(new q.ReadOnly("Transaction is readonly"));if(!this.active)return gt(new q.TransactionInactive);if(this._locked())return new ce(function(p,m){h._blockedFuncs.push([function(){h._promise(i,o,u).then(p,m)},pe])});if(u)return _n(function(){var p=new ce(function(m,_){h._lock();var S=o(m,_,h);S&&S.then&&S.then(m,_)});return p.finally(function(){return h._unlock()}),p._lib=!0,p});var d=new ce(function(p,m){var _=o(p,m,h);_&&_.then&&_.then(p,m)});return d._lib=!0,d},nn.prototype._root=function(){return this.parent?this.parent._root():this},nn.prototype.waitFor=function(i){var o,u=this._root(),h=ce.resolve(i);u._waitingFor?u._waitingFor=u._waitingFor.then(function(){return h}):(u._waitingFor=h,u._waitingQueue=[],o=u.idbtrans.objectStore(u.storeNames[0]),function p(){for(++u._spinCount;u._waitingQueue.length;)u._waitingQueue.shift()();u._waitingFor&&(o.get(-1/0).onsuccess=p)}());var d=u._waitingFor;return new ce(function(p,m){h.then(function(_){return u._waitingQueue.push(ft(p.bind(null,_)))},function(_){return u._waitingQueue.push(ft(m.bind(null,_)))}).finally(function(){u._waitingFor===d&&(u._waitingFor=null)})})},nn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new q.Abort))},nn.prototype.table=function(i){var o=this._memoizedTables||(this._memoizedTables={});if(b(o,i))return o[i];var u=this.schema[i];if(!u)throw new q.NotFound("Table "+i+" not part of transaction");return u=new this.db.Table(i,u,this),u.core=this.db.core.table(i),o[i]=u},nn);function nn(){}function js(i,o,u,h,d,p,m){return{name:i,keyPath:o,unique:u,multi:h,auto:d,compound:p,src:(u&&!m?"&":"")+(h?"*":"")+(d?"++":"")+Ta(o)}}function Ta(i){return typeof i=="string"?i:i?"["+[].join.call(i,"+")+"]":""}function Rs(i,o,u){return{name:i,primKey:o,indexes:u,mappedClass:null,idxByName:(h=function(d){return[d.name,d]},u.reduce(function(d,p,m){return m=h(p,m),m&&(d[m[0]]=m[1]),d},{}))};var h}var $r=function(i){try{return i.only([[]]),$r=function(){return[[]]},[[]]}catch{return $r=function(){return Nn},Nn}};function Is(i){return i==null?function(){}:typeof i=="string"?(o=i).split(".").length===1?function(u){return u[o]}:function(u){return Xe(u,o)}:function(u){return Xe(u,i)};var o}function Ca(i){return[].slice.call(i)}var jc=0;function Lr(i){return i==null?":id":typeof i=="string"?i:"[".concat(i.join("+"),"]")}function Rc(i,o,S){function h(O){if(O.type===3)return null;if(O.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var E=O.lower,P=O.upper,A=O.lowerOpen,O=O.upperOpen;return E===void 0?P===void 0?null:o.upperBound(P,!!O):P===void 0?o.lowerBound(E,!!A):o.bound(E,P,!!A,!!O)}function d(C){var E,P=C.name;return{name:P,schema:C,mutate:function(A){var O=A.trans,$=A.type,L=A.keys,M=A.values,U=A.range;return new Promise(function(G,re){G=ft(G);var Q=O.objectStore(P),te=Q.keyPath==null,ie=$==="put"||$==="add";if(!ie&&$!=="delete"&&$!=="deleteRange")throw new Error("Invalid operation type: "+$);var z,Pe=(L||M||{length:1}).length;if(L&&M&&L.length!==M.length)throw new Error("Given keys array must have same length as given values array.");if(Pe===0)return G({numFailures:0,failures:{},results:[],lastResult:void 0});function Ae(Rt){++Yt,Ir(Rt)}var Fe=[],De=[],Yt=0;if($==="deleteRange"){if(U.type===4)return G({numFailures:Yt,failures:De,results:[],lastResult:void 0});U.type===3?Fe.push(z=Q.clear()):Fe.push(z=Q.delete(h(U)))}else{var te=ie?te?[M,L]:[M,null]:[L,null],$e=te[0],xt=te[1];if(ie)for(var Et=0;Et<Pe;++Et)Fe.push(z=xt&&xt[Et]!==void 0?Q[$]($e[Et],xt[Et]):Q[$]($e[Et])),z.onerror=Ae;else for(Et=0;Et<Pe;++Et)Fe.push(z=Q[$]($e[Et])),z.onerror=Ae}function ji(Rt){Rt=Rt.target.result,Fe.forEach(function(Hn,Ys){return Hn.error!=null&&(De[Ys]=Hn.error)}),G({numFailures:Yt,failures:De,results:$==="delete"?L:Fe.map(function(Hn){return Hn.result}),lastResult:Rt})}z.onerror=function(Rt){Ae(Rt),ji(Rt)},z.onsuccess=ji})},getMany:function(A){var O=A.trans,$=A.keys;return new Promise(function(L,M){L=ft(L);for(var U,G=O.objectStore(P),re=$.length,Q=new Array(re),te=0,ie=0,z=function(Fe){Fe=Fe.target,Q[Fe._pos]=Fe.result,++ie===te&&L(Q)},Pe=tn(M),Ae=0;Ae<re;++Ae)$[Ae]!=null&&((U=G.get($[Ae]))._pos=Ae,U.onsuccess=z,U.onerror=Pe,++te);te===0&&L(Q)})},get:function(A){var O=A.trans,$=A.key;return new Promise(function(L,M){L=ft(L);var U=O.objectStore(P).get($);U.onsuccess=function(G){return L(G.target.result)},U.onerror=tn(M)})},query:(E=x,function(A){return new Promise(function(O,$){O=ft(O);var L,M,U,te=A.trans,G=A.values,re=A.limit,z=A.query,Q=re===1/0?void 0:re,ie=z.index,z=z.range,te=te.objectStore(P),ie=ie.isPrimaryKey?te:te.index(ie.name),z=h(z);if(re===0)return O({result:[]});E?((Q=G?ie.getAll(z,Q):ie.getAllKeys(z,Q)).onsuccess=function(Pe){return O({result:Pe.target.result})},Q.onerror=tn($)):(L=0,M=!G&&"openKeyCursor"in ie?ie.openKeyCursor(z):ie.openCursor(z),U=[],M.onsuccess=function(Pe){var Ae=M.result;return Ae?(U.push(G?Ae.value:Ae.primaryKey),++L===re?O({result:U}):void Ae.continue()):O({result:U})},M.onerror=tn($))})}),openCursor:function(A){var O=A.trans,$=A.values,L=A.query,M=A.reverse,U=A.unique;return new Promise(function(G,re){G=ft(G);var ie=L.index,Q=L.range,te=O.objectStore(P),te=ie.isPrimaryKey?te:te.index(ie.name),ie=M?U?"prevunique":"prev":U?"nextunique":"next",z=!$&&"openKeyCursor"in te?te.openKeyCursor(h(Q),ie):te.openCursor(h(Q),ie);z.onerror=tn(re),z.onsuccess=ft(function(Pe){var Ae,Fe,De,Yt,$e=z.result;$e?($e.___id=++jc,$e.done=!1,Ae=$e.continue.bind($e),Fe=(Fe=$e.continuePrimaryKey)&&Fe.bind($e),De=$e.advance.bind($e),Yt=function(){throw new Error("Cursor not stopped")},$e.trans=O,$e.stop=$e.continue=$e.continuePrimaryKey=$e.advance=function(){throw new Error("Cursor not started")},$e.fail=ft(re),$e.next=function(){var xt=this,Et=1;return this.start(function(){return Et--?xt.continue():xt.stop()}).then(function(){return xt})},$e.start=function(xt){function Et(){if(z.result)try{xt()}catch(Rt){$e.fail(Rt)}else $e.done=!0,$e.start=function(){throw new Error("Cursor behind last entry")},$e.stop()}var ji=new Promise(function(Rt,Hn){Rt=ft(Rt),z.onerror=tn(Hn),$e.fail=Hn,$e.stop=function(Ys){$e.stop=$e.continue=$e.continuePrimaryKey=$e.advance=Yt,Rt(Ys)}});return z.onsuccess=ft(function(Rt){z.onsuccess=Et,Et()}),$e.continue=Ae,$e.continuePrimaryKey=Fe,$e.advance=De,Et(),ji},G($e)):G(null)},re)})},count:function(A){var O=A.query,$=A.trans,L=O.index,M=O.range;return new Promise(function(U,G){var re=$.objectStore(P),Q=L.isPrimaryKey?re:re.index(L.name),re=h(M),Q=re?Q.count(re):Q.count();Q.onsuccess=ft(function(te){return U(te.target.result)}),Q.onerror=tn(G)})}}}var p,m,_,T=(m=S,_=Ca((p=i).objectStoreNames),{schema:{name:p.name,tables:_.map(function(C){return m.objectStore(C)}).map(function(C){var E=C.keyPath,O=C.autoIncrement,P=f(E),A={},O={name:C.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:E==null,compound:P,keyPath:E,autoIncrement:O,unique:!0,extractKey:Is(E)},indexes:Ca(C.indexNames).map(function($){return C.index($)}).map(function(U){var L=U.name,M=U.unique,G=U.multiEntry,U=U.keyPath,G={name:L,compound:f(U),keyPath:U,unique:M,multiEntry:G,extractKey:Is(U)};return A[Lr(U)]=G}),getIndexByKeyPath:function($){return A[Lr($)]}};return A[":id"]=O.primaryKey,E!=null&&(A[Lr(E)]=O.primaryKey),O})},hasGetAll:0<_.length&&"getAll"in m.objectStore(_[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),S=T.schema,x=T.hasGetAll,T=S.tables.map(d),w={};return T.forEach(function(C){return w[C.name]=C}),{stack:"dbcore",transaction:i.transaction.bind(i),table:function(C){if(!w[C])throw new Error("Table '".concat(C,"' not found"));return w[C]},MIN_KEY:-1/0,MAX_KEY:$r(o),schema:S}}function Ic(i,o,u,h){var d=u.IDBKeyRange;return u.indexedDB,{dbcore:(h=Rc(o,d,h),i.dbcore.reduce(function(p,m){return m=m.create,r(r({},p),m(p))},h))}}function _i(i,h){var u=h.db,h=Ic(i._middlewares,u,i._deps,h);i.core=h.dbcore,i.tables.forEach(function(d){var p=d.name;i.core.schema.tables.some(function(m){return m.name===p})&&(d.core=i.core.table(p),i[p]instanceof i.Table&&(i[p].core=d.core))})}function bi(i,o,u,h){u.forEach(function(d){var p=h[d];o.forEach(function(m){var _=function S(x,T){return _e(x,T)||(x=y(x))&&S(x,T)}(m,d);(!_||"value"in _&&_.value===void 0)&&(m===i.Transaction.prototype||m instanceof i.Transaction?se(m,d,{get:function(){return this.table(d)},set:function(S){H(this,d,{value:S,writable:!0,configurable:!0,enumerable:!0})}}):m[d]=new i.Table(d,p))})})}function Ds(i,o){o.forEach(function(u){for(var h in u)u[h]instanceof i.Table&&delete u[h]})}function Dc(i,o){return i._cfg.version-o._cfg.version}function $c(i,o,u,h){var d=i._dbSchema;u.objectStoreNames.contains("$meta")&&!d.$meta&&(d.$meta=Rs("$meta",ja("")[0],[]),i._storeNames.push("$meta"));var p=i._createTransaction("readwrite",i._storeNames,d);p.create(u),p._completion.catch(h);var m=p._reject.bind(p),_=pe.transless||pe;_n(function(){return pe.trans=p,pe.transless=_,o!==0?(_i(i,u),x=o,((S=p).storeNames.includes("$meta")?S.table("$meta").get("version").then(function(T){return T??x}):ce.resolve(x)).then(function(T){return C=T,E=p,P=u,A=[],T=(w=i)._versions,O=w._dbSchema=ki(0,w.idbdb,P),(T=T.filter(function($){return $._cfg.version>=C})).length!==0?(T.forEach(function($){A.push(function(){var L=O,M=$._cfg.dbschema;xi(w,L,P),xi(w,M,P),O=w._dbSchema=M;var U=$s(L,M);U.add.forEach(function(ie){Ls(P,ie[0],ie[1].primKey,ie[1].indexes)}),U.change.forEach(function(ie){if(ie.recreate)throw new q.Upgrade("Not yet support for changing primary key");var z=P.objectStore(ie.name);ie.add.forEach(function(Pe){return wi(z,Pe)}),ie.change.forEach(function(Pe){z.deleteIndex(Pe.name),wi(z,Pe)}),ie.del.forEach(function(Pe){return z.deleteIndex(Pe)})});var G=$._cfg.contentUpgrade;if(G&&$._cfg.version>C){_i(w,P),E._memoizedTables={};var re=I(M);U.del.forEach(function(ie){re[ie]=L[ie]}),Ds(w,[w.Transaction.prototype]),bi(w,[w.Transaction.prototype],l(re),re),E.schema=re;var Q,te=Ye(G);return te&&or(),U=ce.follow(function(){var ie;(Q=G(E))&&te&&(ie=bn.bind(null,null),Q.then(ie,ie))}),Q&&typeof Q.then=="function"?ce.resolve(Q):U.then(function(){return Q})}}),A.push(function(L){var M,U,G=$._cfg.dbschema;M=G,U=L,[].slice.call(U.db.objectStoreNames).forEach(function(re){return M[re]==null&&U.db.deleteObjectStore(re)}),Ds(w,[w.Transaction.prototype]),bi(w,[w.Transaction.prototype],w._storeNames,w._dbSchema),E.schema=w._dbSchema}),A.push(function(L){w.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(w.idbdb.version/10)===$._cfg.version?(w.idbdb.deleteObjectStore("$meta"),delete w._dbSchema.$meta,w._storeNames=w._storeNames.filter(function(M){return M!=="$meta"})):L.objectStore("$meta").put($._cfg.version,"version"))})}),function $(){return A.length?ce.resolve(A.shift()(E.idbtrans)).then($):ce.resolve()}().then(function(){Aa(O,P)})):ce.resolve();var w,C,E,P,A,O}).catch(m)):(l(d).forEach(function(T){Ls(u,T,d[T].primKey,d[T].indexes)}),_i(i,u),void ce.follow(function(){return i.on.populate.fire(p)}).catch(m));var S,x})}function Lc(i,o){Aa(i._dbSchema,o),o.db.version%10!=0||o.objectStoreNames.contains("$meta")||o.db.createObjectStore("$meta").add(Math.ceil(o.db.version/10-1),"version");var u=ki(0,i.idbdb,o);xi(i,i._dbSchema,o);for(var h=0,d=$s(u,i._dbSchema).change;h<d.length;h++){var p=function(m){if(m.change.length||m.recreate)return console.warn("Unable to patch indexes of table ".concat(m.name," because it has changes on the type of index or primary key.")),{value:void 0};var _=o.objectStore(m.name);m.add.forEach(function(S){V&&console.debug("Dexie upgrade patch: Creating missing index ".concat(m.name,".").concat(S.src)),wi(_,S)})}(d[h]);if(typeof p=="object")return p.value}}function $s(i,o){var u,h={del:[],add:[],change:[]};for(u in i)o[u]||h.del.push(u);for(u in o){var d=i[u],p=o[u];if(d){var m={name:u,def:p,recreate:!1,del:[],add:[],change:[]};if(""+(d.primKey.keyPath||"")!=""+(p.primKey.keyPath||"")||d.primKey.auto!==p.primKey.auto)m.recreate=!0,h.change.push(m);else{var _=d.idxByName,S=p.idxByName,x=void 0;for(x in _)S[x]||m.del.push(x);for(x in S){var T=_[x],w=S[x];T?T.src!==w.src&&m.change.push(w):m.add.push(w)}(0<m.del.length||0<m.add.length||0<m.change.length)&&h.change.push(m)}}else h.add.push([u,p])}return h}function Ls(i,o,u,h){var d=i.db.createObjectStore(o,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});return h.forEach(function(p){return wi(d,p)}),d}function Aa(i,o){l(i).forEach(function(u){o.db.objectStoreNames.contains(u)||(V&&console.debug("Dexie: Creating missing table",u),Ls(o,u,i[u].primKey,i[u].indexes))})}function wi(i,o){i.createIndex(o.name,o.keyPath,{unique:o.unique,multiEntry:o.multi})}function ki(i,o,u){var h={};return we(o.objectStoreNames,0).forEach(function(d){for(var p=u.objectStore(d),m=js(Ta(x=p.keyPath),x||"",!0,!1,!!p.autoIncrement,x&&typeof x!="string",!0),_=[],S=0;S<p.indexNames.length;++S){var T=p.index(p.indexNames[S]),x=T.keyPath,T=js(T.name,x,!!T.unique,!!T.multiEntry,!1,x&&typeof x!="string",!1);_.push(T)}h[d]=Rs(d,m,_)}),h}function xi(i,o,u){for(var h=u.db.objectStoreNames,d=0;d<h.length;++d){var p=h[d],m=u.objectStore(p);i._hasGetAll="getAll"in m;for(var _=0;_<m.indexNames.length;++_){var S=m.indexNames[_],x=m.index(S).keyPath,T=typeof x=="string"?x:"["+we(x).join("+")+"]";!o[p]||(x=o[p].idxByName[T])&&(x.name=S,delete o[p].idxByName[T],o[p].idxByName[S]=x)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(i._hasGetAll=!1)}function ja(i){return i.split(",").map(function(o,u){var h=(o=o.trim()).replace(/([&*]|\+\+)/g,""),d=/^\[/.test(h)?h.match(/^\[(.*)\]$/)[1].split("+"):h;return js(h,d||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),f(d),u===0)})}var Mc=(Ei.prototype._parseStoresSpec=function(i,o){l(i).forEach(function(u){if(i[u]!==null){var h=ja(i[u]),d=h.shift();if(d.unique=!0,d.multi)throw new q.Schema("Primary key cannot be multi-valued");h.forEach(function(p){if(p.auto)throw new q.Schema("Only primary key can be marked as autoIncrement (++)");if(!p.keyPath)throw new q.Schema("Index must have a name and cannot be an empty string")}),o[u]=Rs(u,d,h)}})},Ei.prototype.stores=function(u){var o=this.db;this._cfg.storesSource=this._cfg.storesSource?c(this._cfg.storesSource,u):u;var u=o._versions,h={},d={};return u.forEach(function(p){c(h,p._cfg.storesSource),d=p._cfg.dbschema={},p._parseStoresSpec(h,d)}),o._dbSchema=d,Ds(o,[o._allTables,o,o.Transaction.prototype]),bi(o,[o._allTables,o,o.Transaction.prototype,this._cfg.tables],l(d),d),o._storeNames=l(d),this},Ei.prototype.upgrade=function(i){return this._cfg.contentUpgrade=J(this._cfg.contentUpgrade||xe,i),this},Ei);function Ei(){}function Ms(i,o){var u=i._dbNamesDB;return u||(u=i._dbNamesDB=new dn(pi,{addons:[],indexedDB:i,IDBKeyRange:o})).version(1).stores({dbnames:"name"}),u.table("dbnames")}function Fs(i){return i&&typeof i.databases=="function"}function Us(i){return _n(function(){return pe.letThrough=!0,i()})}function Ks(i){return!("from"in i)}var jt=function(i,o){if(!this){var u=new jt;return i&&"d"in i&&c(u,i),u}c(this,arguments.length?{d:1,from:i,to:1<arguments.length?o:i}:{d:0})};function Mr(i,o,u){var h=Be(o,u);if(!isNaN(h)){if(0<h)throw RangeError();if(Ks(i))return c(i,{from:o,to:u,d:1});var d=i.l,h=i.r;if(Be(u,i.from)<0)return d?Mr(d,o,u):i.l={from:o,to:u,d:1,l:null,r:null},Ia(i);if(0<Be(o,i.to))return h?Mr(h,o,u):i.r={from:o,to:u,d:1,l:null,r:null},Ia(i);Be(o,i.from)<0&&(i.from=o,i.l=null,i.d=h?h.d+1:1),0<Be(u,i.to)&&(i.to=u,i.r=null,i.d=i.l?i.l.d+1:1),u=!i.r,d&&!i.l&&Fr(i,d),h&&u&&Fr(i,h)}}function Fr(i,o){Ks(o)||function u(h,S){var p=S.from,m=S.to,_=S.l,S=S.r;Mr(h,p,m),_&&u(h,_),S&&u(h,S)}(i,o)}function Ra(i,o){var u=Si(o),h=u.next();if(h.done)return!1;for(var d=h.value,p=Si(i),m=p.next(d.from),_=m.value;!h.done&&!m.done;){if(Be(_.from,d.to)<=0&&0<=Be(_.to,d.from))return!0;Be(d.from,_.from)<0?d=(h=u.next(_.from)).value:_=(m=p.next(d.from)).value}return!1}function Si(i){var o=Ks(i)?null:{s:0,n:i};return{next:function(u){for(var h=0<arguments.length;o;)switch(o.s){case 0:if(o.s=1,h)for(;o.n.l&&Be(u,o.n.from)<0;)o={up:o,n:o.n.l,s:1};else for(;o.n.l;)o={up:o,n:o.n.l,s:1};case 1:if(o.s=2,!h||Be(u,o.n.to)<=0)return{value:o.n,done:!1};case 2:if(o.n.r){o.s=3,o={up:o,n:o.n.r,s:0};continue}case 3:o=o.up}return{done:!0}}}}function Ia(i){var o,u,h=(((o=i.r)===null||o===void 0?void 0:o.d)||0)-(((u=i.l)===null||u===void 0?void 0:u.d)||0),d=1<h?"r":h<-1?"l":"";d&&(o=d=="r"?"l":"r",u=r({},i),h=i[d],i.from=h.from,i.to=h.to,i[d]=h[d],u[d]=h[o],(i[o]=u).d=Da(u)),i.d=Da(i)}function Da(u){var o=u.r,u=u.l;return(o?u?Math.max(o.d,u.d):o.d:u?u.d:0)+1}function Oi(i,o){return l(o).forEach(function(u){i[u]?Fr(i[u],o[u]):i[u]=function h(d){var p,m,_={};for(p in d)b(d,p)&&(m=d[p],_[p]=!m||typeof m!="object"||he.has(m.constructor)?m:h(m));return _}(o[u])}),i}function Ns(i,o){return i.all||o.all||Object.keys(i).some(function(u){return o[u]&&Ra(o[u],i[u])})}R(jt.prototype,((Jt={add:function(i){return Fr(this,i),this},addKey:function(i){return Mr(this,i,i),this},addKeys:function(i){var o=this;return i.forEach(function(u){return Mr(o,u,u)}),this},hasKey:function(i){var o=Si(this).next(i).value;return o&&Be(o.from,i)<=0&&0<=Be(o.to,i)}})[Te]=function(){return Si(this)},Jt));var qn={},Bs={},qs=!1;function Pi(i){Oi(Bs,i),qs||(qs=!0,setTimeout(function(){qs=!1,Vs(Bs,!(Bs={}))},0))}function Vs(i,o){o===void 0&&(o=!1);var u=new Set;if(i.all)for(var h=0,d=Object.values(qn);h<d.length;h++)$a(m=d[h],i,u,o);else for(var p in i){var m,_=/^idb\:\/\/(.*)\/(.*)\//.exec(p);_&&(p=_[1],_=_[2],(m=qn["idb://".concat(p,"/").concat(_)])&&$a(m,i,u,o))}u.forEach(function(S){return S()})}function $a(i,o,u,h){for(var d=[],p=0,m=Object.entries(i.queries.query);p<m.length;p++){for(var _=m[p],S=_[0],x=[],T=0,w=_[1];T<w.length;T++){var C=w[T];Ns(o,C.obsSet)?C.subscribers.forEach(function(O){return u.add(O)}):h&&x.push(C)}h&&d.push([S,x])}if(h)for(var E=0,P=d;E<P.length;E++){var A=P[E],S=A[0],x=A[1];i.queries.query[S]=x}}function Fc(i){var o=i._state,u=i._deps.indexedDB;if(o.isBeingOpened||i.idbdb)return o.dbReadyPromise.then(function(){return o.dbOpenError?gt(o.dbOpenError):i});o.isBeingOpened=!0,o.dbOpenError=null,o.openComplete=!1;var h=o.openCanceller,d=Math.round(10*i.verno),p=!1;function m(){if(o.openCanceller!==h)throw new q.DatabaseClosed("db.open() was cancelled")}function _(){return new ce(function(C,E){if(m(),!u)throw new q.MissingAPI;var P=i.name,A=o.autoSchema||!d?u.open(P):u.open(P,d);if(!A)throw new q.MissingAPI;A.onerror=tn(E),A.onblocked=ft(i._fireOnBlocked),A.onupgradeneeded=ft(function(O){var $;T=A.transaction,o.autoSchema&&!i._options.allowEmptyDB?(A.onerror=Ir,T.abort(),A.result.close(),($=u.deleteDatabase(P)).onsuccess=$.onerror=ft(function(){E(new q.NoSuchDatabase("Database ".concat(P," doesnt exist")))})):(T.onerror=tn(E),O=O.oldVersion>Math.pow(2,62)?0:O.oldVersion,w=O<1,i.idbdb=A.result,p&&Lc(i,T),$c(i,O/10,T,E))},E),A.onsuccess=ft(function(){T=null;var O,$,L,M,U,G=i.idbdb=A.result,re=we(G.objectStoreNames);if(0<re.length)try{var Q=G.transaction((M=re).length===1?M[0]:M,"readonly");if(o.autoSchema)$=G,L=Q,(O=i).verno=$.version/10,L=O._dbSchema=ki(0,$,L),O._storeNames=we($.objectStoreNames,0),bi(O,[O._allTables],l(L),L);else if(xi(i,i._dbSchema,Q),((U=$s(ki(0,(U=i).idbdb,Q),U._dbSchema)).add.length||U.change.some(function(te){return te.add.length||te.change.length}))&&!p)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),G.close(),d=G.version+1,p=!0,C(_());_i(i,Q)}catch{}ar.push(i),G.onversionchange=ft(function(te){o.vcFired=!0,i.on("versionchange").fire(te)}),G.onclose=ft(function(te){i.on("close").fire(te)}),w&&(U=i._deps,Q=P,G=U.indexedDB,U=U.IDBKeyRange,Fs(G)||Q===pi||Ms(G,U).put({name:Q}).catch(xe)),C()},E)}).catch(function(C){switch(C==null?void 0:C.name){case"UnknownError":if(0<o.PR1398_maxLoop)return o.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),_();break;case"VersionError":if(0<d)return d=0,_()}return ce.reject(C)})}var S,x=o.dbReadyResolve,T=null,w=!1;return ce.race([h,(typeof navigator>"u"?ce.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(C){function E(){return indexedDB.databases().finally(C)}S=setInterval(E,100),E()}).finally(function(){return clearInterval(S)}):Promise.resolve()).then(_)]).then(function(){return m(),o.onReadyBeingFired=[],ce.resolve(Us(function(){return i.on.ready.fire(i.vip)})).then(function C(){if(0<o.onReadyBeingFired.length){var E=o.onReadyBeingFired.reduce(J,xe);return o.onReadyBeingFired=[],ce.resolve(Us(function(){return E(i.vip)})).then(C)}})}).finally(function(){o.openCanceller===h&&(o.onReadyBeingFired=null,o.isBeingOpened=!1)}).catch(function(C){o.dbOpenError=C;try{T&&T.abort()}catch{}return h===o.openCanceller&&i._close(),gt(C)}).finally(function(){o.openComplete=!0,x()}).then(function(){var C;return w&&(C={},i.tables.forEach(function(E){E.schema.indexes.forEach(function(P){P.name&&(C["idb://".concat(i.name,"/").concat(E.name,"/").concat(P.name)]=new jt(-1/0,[[[]]]))}),C["idb://".concat(i.name,"/").concat(E.name,"/")]=C["idb://".concat(i.name,"/").concat(E.name,"/:dels")]=new jt(-1/0,[[[]]])}),xn(Dr).fire(C),Vs(C,!0)),i})}function Hs(i){function o(p){return i.next(p)}var u=d(o),h=d(function(p){return i.throw(p)});function d(p){return function(S){var _=p(S),S=_.value;return _.done?S:S&&typeof S.then=="function"?S.then(u,h):f(S)?Promise.all(S).then(u,h):u(S)}}return d(o)()}function Ti(i,o,u){for(var h=f(i)?i.slice():[i],d=0;d<u;++d)h.push(o);return h}var Uc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(i){return r(r({},i),{table:function(o){var u=i.table(o),h=u.schema,d={},p=[];function m(w,C,E){var P=Lr(w),A=d[P]=d[P]||[],O=w==null?0:typeof w=="string"?1:w.length,$=0<C,$=r(r({},E),{name:$?"".concat(P,"(virtual-from:").concat(E.name,")"):E.name,lowLevelIndex:E,isVirtual:$,keyTail:C,keyLength:O,extractKey:Is(w),unique:!$&&E.unique});return A.push($),$.isPrimaryKey||p.push($),1<O&&m(O===2?w[0]:w.slice(0,O-1),C+1,E),A.sort(function(L,M){return L.keyTail-M.keyTail}),$}o=m(h.primaryKey.keyPath,0,h.primaryKey),d[":id"]=[o];for(var _=0,S=h.indexes;_<S.length;_++){var x=S[_];m(x.keyPath,0,x)}function T(w){var C,E=w.query.index;return E.isVirtual?r(r({},w),{query:{index:E.lowLevelIndex,range:(C=w.query.range,E=E.keyTail,{type:C.type===1?2:C.type,lower:Ti(C.lower,C.lowerOpen?i.MAX_KEY:i.MIN_KEY,E),lowerOpen:!0,upper:Ti(C.upper,C.upperOpen?i.MIN_KEY:i.MAX_KEY,E),upperOpen:!0})}}):w}return r(r({},u),{schema:r(r({},h),{primaryKey:o,indexes:p,getIndexByKeyPath:function(w){return(w=d[Lr(w)])&&w[0]}}),count:function(w){return u.count(T(w))},query:function(w){return u.query(T(w))},openCursor:function(w){var C=w.query.index,E=C.keyTail,P=C.isVirtual,A=C.keyLength;return P?u.openCursor(T(w)).then(function($){return $&&O($)}):u.openCursor(w);function O($){return Object.create($,{continue:{value:function(L){L!=null?$.continue(Ti(L,w.reverse?i.MAX_KEY:i.MIN_KEY,E)):w.unique?$.continue($.key.slice(0,A).concat(w.reverse?i.MIN_KEY:i.MAX_KEY,E)):$.continue()}},continuePrimaryKey:{value:function(L,M){$.continuePrimaryKey(Ti(L,i.MAX_KEY,E),M)}},primaryKey:{get:function(){return $.primaryKey}},key:{get:function(){var L=$.key;return A===1?L[0]:L.slice(0,A)}},value:{get:function(){return $.value}}})}}})}})}};function Ws(i,o,u,h){return u=u||{},h=h||"",l(i).forEach(function(d){var p,m,_;b(o,d)?(p=i[d],m=o[d],typeof p=="object"&&typeof m=="object"&&p&&m?(_=ut(p))!==ut(m)?u[h+d]=o[d]:_==="Object"?Ws(p,m,u,h+d+"."):p!==m&&(u[h+d]=o[d]):p!==m&&(u[h+d]=o[d])):u[h+d]=void 0}),l(o).forEach(function(d){b(i,d)||(u[h+d]=o[d])}),u}function zs(i,o){return o.type==="delete"?o.keys:o.keys||o.values.map(i.extractKey)}var Kc={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(i){return r(r({},i),{table:function(o){var u=i.table(o),h=u.schema.primaryKey;return r(r({},u),{mutate:function(d){var p=pe.trans,m=p.table(o).hook,_=m.deleting,S=m.creating,x=m.updating;switch(d.type){case"add":if(S.fire===xe)break;return p._promise("readwrite",function(){return T(d)},!0);case"put":if(S.fire===xe&&x.fire===xe)break;return p._promise("readwrite",function(){return T(d)},!0);case"delete":if(_.fire===xe)break;return p._promise("readwrite",function(){return T(d)},!0);case"deleteRange":if(_.fire===xe)break;return p._promise("readwrite",function(){return function w(C,E,P){return u.query({trans:C,values:!1,query:{index:h,range:E},limit:P}).then(function(A){var O=A.result;return T({type:"delete",keys:O,trans:C}).then(function($){return 0<$.numFailures?Promise.reject($.failures[0]):O.length<P?{failures:[],numFailures:0,lastResult:void 0}:w(C,r(r({},E),{lower:O[O.length-1],lowerOpen:!0}),P)})})}(d.trans,d.range,1e4)},!0)}return u.mutate(d);function T(w){var C,E,P,A=pe.trans,O=w.keys||zs(h,w);if(!O)throw new Error("Keys missing");return(w=w.type==="add"||w.type==="put"?r(r({},w),{keys:O}):r({},w)).type!=="delete"&&(w.values=s([],w.values)),w.keys&&(w.keys=s([],w.keys)),C=u,P=O,((E=w).type==="add"?Promise.resolve([]):C.getMany({trans:E.trans,keys:P,cache:"immutable"})).then(function($){var L=O.map(function(M,U){var G,re,Q,te=$[U],ie={onerror:null,onsuccess:null};return w.type==="delete"?_.fire.call(ie,M,te,A):w.type==="add"||te===void 0?(G=S.fire.call(ie,M,w.values[U],A),M==null&&G!=null&&(w.keys[U]=M=G,h.outbound||ke(w.values[U],h.keyPath,M))):(G=Ws(te,w.values[U]),(re=x.fire.call(ie,G,M,te,A))&&(Q=w.values[U],Object.keys(re).forEach(function(z){b(Q,z)?Q[z]=re[z]:ke(Q,z,re[z])}))),ie});return u.mutate(w).then(function(M){for(var U=M.failures,G=M.results,re=M.numFailures,M=M.lastResult,Q=0;Q<O.length;++Q){var te=(G||O)[Q],ie=L[Q];te==null?ie.onerror&&ie.onerror(U[Q]):ie.onsuccess&&ie.onsuccess(w.type==="put"&&$[Q]?w.values[Q]:te)}return{failures:U,results:G,numFailures:re,lastResult:M}}).catch(function(M){return L.forEach(function(U){return U.onerror&&U.onerror(M)}),Promise.reject(M)})})}}})}})}};function La(i,o,u){try{if(!o||o.keys.length<i.length)return null;for(var h=[],d=0,p=0;d<o.keys.length&&p<i.length;++d)Be(o.keys[d],i[p])===0&&(h.push(u?me(o.values[d]):o.values[d]),++p);return h.length===i.length?h:null}catch{return null}}var Nc={stack:"dbcore",level:-1,create:function(i){return{table:function(o){var u=i.table(o);return r(r({},u),{getMany:function(h){if(!h.cache)return u.getMany(h);var d=La(h.keys,h.trans._cache,h.cache==="clone");return d?ce.resolve(d):u.getMany(h).then(function(p){return h.trans._cache={keys:h.keys,values:h.cache==="clone"?me(p):p},p})},mutate:function(h){return h.type!=="add"&&(h.trans._cache=null),u.mutate(h)}})}}}};function Ma(i,o){return i.trans.mode==="readonly"&&!!i.subscr&&!i.trans.explicit&&i.trans.db._options.cache!=="disabled"&&!o.schema.primaryKey.outbound}function Fa(i,o){switch(i){case"query":return o.values&&!o.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Bc={stack:"dbcore",level:0,name:"Observability",create:function(i){var o=i.schema.name,u=new jt(i.MIN_KEY,i.MAX_KEY);return r(r({},i),{transaction:function(h,d,p){if(pe.subscr&&d!=="readonly")throw new q.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(pe.querier));return i.transaction(h,d,p)},table:function(h){var d=i.table(h),p=d.schema,m=p.primaryKey,w=p.indexes,_=m.extractKey,S=m.outbound,x=m.autoIncrement&&w.filter(function(E){return E.compound&&E.keyPath.includes(m.keyPath)}),T=r(r({},d),{mutate:function(E){function P(z){return z="idb://".concat(o,"/").concat(h,"/").concat(z),M[z]||(M[z]=new jt)}var A,O,$,L=E.trans,M=E.mutatedParts||(E.mutatedParts={}),U=P(""),G=P(":dels"),re=E.type,ie=E.type==="deleteRange"?[E.range]:E.type==="delete"?[E.keys]:E.values.length<50?[zs(m,E).filter(function(z){return z}),E.values]:[],Q=ie[0],te=ie[1],ie=E.trans._cache;return f(Q)?(U.addKeys(Q),(ie=re==="delete"||Q.length===te.length?La(Q,ie):null)||G.addKeys(Q),(ie||te)&&(A=P,O=ie,$=te,p.indexes.forEach(function(z){var Pe=A(z.name||"");function Ae(De){return De!=null?z.extractKey(De):null}function Fe(De){return z.multiEntry&&f(De)?De.forEach(function(Yt){return Pe.addKey(Yt)}):Pe.addKey(De)}(O||$).forEach(function(De,xt){var $e=O&&Ae(O[xt]),xt=$&&Ae($[xt]);Be($e,xt)!==0&&($e!=null&&Fe($e),xt!=null&&Fe(xt))})}))):Q?(te={from:Q.lower,to:Q.upper},G.add(te),U.add(te)):(U.add(u),G.add(u),p.indexes.forEach(function(z){return P(z.name).add(u)})),d.mutate(E).then(function(z){return!Q||E.type!=="add"&&E.type!=="put"||(U.addKeys(z.results),x&&x.forEach(function(Pe){var Ae=E.values.map(function(De){return Pe.extractKey(De)}),Fe=Pe.keyPath.findIndex(function(De){return De===m.keyPath});z.results.forEach(function(De){return Ae[Fe]=De}),P(Pe.name).addKeys(Ae)})),L.mutatedParts=Oi(L.mutatedParts||{},M),z})}}),w=function(P){var A=P.query,P=A.index,A=A.range;return[P,new jt((P=A.lower)!==null&&P!==void 0?P:i.MIN_KEY,(A=A.upper)!==null&&A!==void 0?A:i.MAX_KEY)]},C={get:function(E){return[m,new jt(E.key)]},getMany:function(E){return[m,new jt().addKeys(E.keys)]},count:w,query:w,openCursor:w};return l(C).forEach(function(E){T[E]=function(P){var A=pe.subscr,O=!!A,$=Ma(pe,d)&&Fa(E,P)?P.obsSet={}:A;if(O){var L=function(te){return te="idb://".concat(o,"/").concat(h,"/").concat(te),$[te]||($[te]=new jt)},M=L(""),U=L(":dels"),A=C[E](P),O=A[0],A=A[1];if((E==="query"&&O.isPrimaryKey&&!P.values?U:L(O.name||"")).add(A),!O.isPrimaryKey){if(E!=="count"){var G=E==="query"&&S&&P.values&&d.query(r(r({},P),{values:!1}));return d[E].apply(this,arguments).then(function(te){if(E==="query"){if(S&&P.values)return G.then(function(Ae){return Ae=Ae.result,M.addKeys(Ae),te});var ie=P.values?te.result.map(_):te.result;(P.values?M:U).addKeys(ie)}else if(E==="openCursor"){var z=te,Pe=P.values;return z&&Object.create(z,{key:{get:function(){return U.addKey(z.primaryKey),z.key}},primaryKey:{get:function(){var Ae=z.primaryKey;return U.addKey(Ae),Ae}},value:{get:function(){return Pe&&M.addKey(z.primaryKey),z.value}}})}return te})}U.add(u)}}return d[E].apply(this,arguments)}}),T}})}};function Ua(i,o,u){if(u.numFailures===0)return o;if(o.type==="deleteRange")return null;var h=o.keys?o.keys.length:"values"in o&&o.values?o.values.length:1;return u.numFailures===h?null:(o=r({},o),f(o.keys)&&(o.keys=o.keys.filter(function(d,p){return!(p in u.failures)})),"values"in o&&f(o.values)&&(o.values=o.values.filter(function(d,p){return!(p in u.failures)})),o)}function Js(i,o){return u=i,((h=o).lower===void 0||(h.lowerOpen?0<Be(u,h.lower):0<=Be(u,h.lower)))&&(i=i,(o=o).upper===void 0||(o.upperOpen?Be(i,o.upper)<0:Be(i,o.upper)<=0));var u,h}function Ka(i,o,C,h,d,p){if(!C||C.length===0)return i;var m=o.query.index,_=m.multiEntry,S=o.query.range,x=h.schema.primaryKey.extractKey,T=m.extractKey,w=(m.lowLevelIndex||m).extractKey,C=C.reduce(function(E,P){var A=E,O=[];if(P.type==="add"||P.type==="put")for(var $=new jt,L=P.values.length-1;0<=L;--L){var M,U=P.values[L],G=x(U);$.hasKey(G)||(M=T(U),(_&&f(M)?M.some(function(ie){return Js(ie,S)}):Js(M,S))&&($.addKey(G),O.push(U)))}switch(P.type){case"add":A=E.concat(o.values?O:O.map(function(z){return x(z)}));break;case"put":var re=new jt().addKeys(P.values.map(function(z){return x(z)})),A=E.filter(function(z){return!re.hasKey(o.values?x(z):z)}).concat(o.values?O:O.map(function(z){return x(z)}));break;case"delete":var Q=new jt().addKeys(P.keys);A=E.filter(function(z){return!Q.hasKey(o.values?x(z):z)});break;case"deleteRange":var te=P.range;A=E.filter(function(z){return!Js(x(z),te)})}return A},i);return C===i?i:(C.sort(function(E,P){return Be(w(E),w(P))||Be(x(E),x(P))}),o.limit&&o.limit<1/0&&(C.length>o.limit?C.length=o.limit:i.length===o.limit&&C.length<o.limit&&(d.dirty=!0)),p?Object.freeze(C):C)}function Na(i,o){return Be(i.lower,o.lower)===0&&Be(i.upper,o.upper)===0&&!!i.lowerOpen==!!o.lowerOpen&&!!i.upperOpen==!!o.upperOpen}function qc(i,o){return function(u,h,d,p){if(u===void 0)return h!==void 0?-1:0;if(h===void 0)return 1;if((h=Be(u,h))===0){if(d&&p)return 0;if(d)return 1;if(p)return-1}return h}(i.lower,o.lower,i.lowerOpen,o.lowerOpen)<=0&&0<=function(u,h,d,p){if(u===void 0)return h!==void 0?1:0;if(h===void 0)return-1;if((h=Be(u,h))===0){if(d&&p)return 0;if(d)return-1;if(p)return 1}return h}(i.upper,o.upper,i.upperOpen,o.upperOpen)}function Vc(i,o,u,h){i.subscribers.add(u),h.addEventListener("abort",function(){var d,p;i.subscribers.delete(u),i.subscribers.size===0&&(d=i,p=o,setTimeout(function(){d.subscribers.size===0&&ve(p,d)},3e3))})}var Hc={stack:"dbcore",level:0,name:"Cache",create:function(i){var o=i.schema.name;return r(r({},i),{transaction:function(u,h,d){var p,m,_=i.transaction(u,h,d);return h==="readwrite"&&(m=(p=new AbortController).signal,d=function(S){return function(){if(p.abort(),h==="readwrite"){for(var x=new Set,T=0,w=u;T<w.length;T++){var C=w[T],E=qn["idb://".concat(o,"/").concat(C)];if(E){var P=i.table(C),A=E.optimisticOps.filter(function(Pe){return Pe.trans===_});if(_._explicit&&S&&_.mutatedParts)for(var O=0,$=Object.values(E.queries.query);O<$.length;O++)for(var L=0,M=(re=$[O]).slice();L<M.length;L++)Ns((Q=M[L]).obsSet,_.mutatedParts)&&(ve(re,Q),Q.subscribers.forEach(function(Pe){return x.add(Pe)}));else if(0<A.length){E.optimisticOps=E.optimisticOps.filter(function(Pe){return Pe.trans!==_});for(var U=0,G=Object.values(E.queries.query);U<G.length;U++)for(var re,Q,te,ie=0,z=(re=G[U]).slice();ie<z.length;ie++)(Q=z[ie]).res!=null&&_.mutatedParts&&(S&&!Q.dirty?(te=Object.isFrozen(Q.res),te=Ka(Q.res,Q.req,A,P,Q,te),Q.dirty?(ve(re,Q),Q.subscribers.forEach(function(Pe){return x.add(Pe)})):te!==Q.res&&(Q.res=te,Q.promise=ce.resolve({result:te}))):(Q.dirty&&ve(re,Q),Q.subscribers.forEach(function(Pe){return x.add(Pe)})))}}}x.forEach(function(Pe){return Pe()})}}},_.addEventListener("abort",d(!1),{signal:m}),_.addEventListener("error",d(!1),{signal:m}),_.addEventListener("complete",d(!0),{signal:m})),_},table:function(u){var h=i.table(u),d=h.schema.primaryKey;return r(r({},h),{mutate:function(p){var m=pe.trans;if(d.outbound||m.db._options.cache==="disabled"||m.explicit)return h.mutate(p);var _=qn["idb://".concat(o,"/").concat(u)];return _?(m=h.mutate(p),p.type!=="add"&&p.type!=="put"||!(50<=p.values.length||zs(d,p).some(function(S){return S==null}))?(_.optimisticOps.push(p),p.mutatedParts&&Pi(p.mutatedParts),m.then(function(S){0<S.numFailures&&(ve(_.optimisticOps,p),(S=Ua(0,p,S))&&_.optimisticOps.push(S),p.mutatedParts&&Pi(p.mutatedParts))}),m.catch(function(){ve(_.optimisticOps,p),p.mutatedParts&&Pi(p.mutatedParts)})):m.then(function(S){var x=Ua(0,r(r({},p),{values:p.values.map(function(E,w){var C,E=(C=d.keyPath)!==null&&C!==void 0&&C.includes(".")?me(E):r({},E);return ke(E,d.keyPath,S.results[w]),E})}),S);_.optimisticOps.push(x),queueMicrotask(function(){return p.mutatedParts&&Pi(p.mutatedParts)})}),m):h.mutate(p)},query:function(p){if(!Ma(pe,h)||!Fa("query",p))return h.query(p);var m=((x=pe.trans)===null||x===void 0?void 0:x.db._options.cache)==="immutable",w=pe,_=w.requery,S=w.signal,x=function(P,A,O,$){var L=qn["idb://".concat(P,"/").concat(A)];if(!L)return[];if(!(A=L.queries[O]))return[null,!1,L,null];var M=A[($.query?$.query.index.name:null)||""];if(!M)return[null,!1,L,null];switch(O){case"query":var U=M.find(function(G){return G.req.limit===$.limit&&G.req.values===$.values&&Na(G.req.query.range,$.query.range)});return U?[U,!0,L,M]:[M.find(function(G){return("limit"in G.req?G.req.limit:1/0)>=$.limit&&(!$.values||G.req.values)&&qc(G.req.query.range,$.query.range)}),!1,L,M];case"count":return U=M.find(function(G){return Na(G.req.query.range,$.query.range)}),[U,!!U,L,M]}}(o,u,"query",p),T=x[0],w=x[1],C=x[2],E=x[3];return T&&w?T.obsSet=p.obsSet:(w=h.query(p).then(function(P){var A=P.result;if(T&&(T.res=A),m){for(var O=0,$=A.length;O<$;++O)Object.freeze(A[O]);Object.freeze(A)}else P.result=me(A);return P}).catch(function(P){return E&&T&&ve(E,T),Promise.reject(P)}),T={obsSet:p.obsSet,promise:w,subscribers:new Set,type:"query",req:p,dirty:!1},E?E.push(T):(E=[T],(C=C||(qn["idb://".concat(o,"/").concat(u)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[p.query.index.name||""]=E)),Vc(T,E,_,S),T.promise.then(function(P){return{result:Ka(P.result,p,C==null?void 0:C.optimisticOps,h,T,m)}})}})}})}};function Ci(i,o){return new Proxy(i,{get:function(u,h,d){return h==="db"?o:Reflect.get(u,h,d)}})}var dn=(yt.prototype.version=function(i){if(isNaN(i)||i<.1)throw new q.Type("Given version is not a positive number");if(i=Math.round(10*i)/10,this.idbdb||this._state.isBeingOpened)throw new q.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,i);var o=this._versions,u=o.filter(function(h){return h._cfg.version===i})[0];return u||(u=new this.Version(i),o.push(u),o.sort(Dc),u.stores({}),this._state.autoSchema=!1,u)},yt.prototype._whenReady=function(i){var o=this;return this.idbdb&&(this._state.openComplete||pe.letThrough||this._vip)?i():new ce(function(u,h){if(o._state.openComplete)return h(new q.DatabaseClosed(o._state.dbOpenError));if(!o._state.isBeingOpened){if(!o._state.autoOpen)return void h(new q.DatabaseClosed);o.open().catch(xe)}o._state.dbReadyPromise.then(u,h)}).then(i)},yt.prototype.use=function(i){var o=i.stack,u=i.create,h=i.level,d=i.name;return d&&this.unuse({stack:o,name:d}),i=this._middlewares[o]||(this._middlewares[o]=[]),i.push({stack:o,create:u,level:h??10,name:d}),i.sort(function(p,m){return p.level-m.level}),this},yt.prototype.unuse=function(i){var o=i.stack,u=i.name,h=i.create;return o&&this._middlewares[o]&&(this._middlewares[o]=this._middlewares[o].filter(function(d){return h?d.create!==h:!!u&&d.name!==u})),this},yt.prototype.open=function(){var i=this;return Kn(tt,function(){return Fc(i)})},yt.prototype._close=function(){var i=this._state,o=ar.indexOf(this);if(0<=o&&ar.splice(o,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}i.isBeingOpened||(i.dbReadyPromise=new ce(function(u){i.dbReadyResolve=u}),i.openCanceller=new ce(function(u,h){i.cancelOpen=h}))},yt.prototype.close=function(u){var o=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,u=this._state;o?(u.isBeingOpened&&u.cancelOpen(new q.DatabaseClosed),this._close(),u.autoOpen=!1,u.dbOpenError=new q.DatabaseClosed):(this._close(),u.autoOpen=this._options.autoOpen||u.isBeingOpened,u.openComplete=!1,u.dbOpenError=null)},yt.prototype.delete=function(i){var o=this;i===void 0&&(i={disableAutoOpen:!0});var u=0<arguments.length&&typeof arguments[0]!="object",h=this._state;return new ce(function(d,p){function m(){o.close(i);var _=o._deps.indexedDB.deleteDatabase(o.name);_.onsuccess=ft(function(){var S,x,T;S=o._deps,x=o.name,T=S.indexedDB,S=S.IDBKeyRange,Fs(T)||x===pi||Ms(T,S).delete(x).catch(xe),d()}),_.onerror=tn(p),_.onblocked=o._fireOnBlocked}if(u)throw new q.InvalidArgument("Invalid closeOptions argument to db.delete()");h.isBeingOpened?h.dbReadyPromise.then(m):m()})},yt.prototype.backendDB=function(){return this.idbdb},yt.prototype.isOpen=function(){return this.idbdb!==null},yt.prototype.hasBeenClosed=function(){var i=this._state.dbOpenError;return i&&i.name==="DatabaseClosed"},yt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},yt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(yt.prototype,"tables",{get:function(){var i=this;return l(this._allTables).map(function(o){return i._allTables[o]})},enumerable:!1,configurable:!0}),yt.prototype.transaction=function(){var i=(function(o,u,h){var d=arguments.length;if(d<2)throw new q.InvalidArgument("Too few arguments");for(var p=new Array(d-1);--d;)p[d-1]=arguments[d];return h=p.pop(),[o,W(p),h]}).apply(this,arguments);return this._transaction.apply(this,i)},yt.prototype._transaction=function(i,o,u){var h=this,d=pe.trans;d&&d.db===this&&i.indexOf("!")===-1||(d=null);var p,m,_=i.indexOf("?")!==-1;i=i.replace("!","").replace("?","");try{if(m=o.map(function(x){if(x=x instanceof h.Table?x.name:x,typeof x!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return x}),i=="r"||i===Ss)p=Ss;else{if(i!="rw"&&i!=Os)throw new q.InvalidArgument("Invalid transaction mode: "+i);p=Os}if(d){if(d.mode===Ss&&p===Os){if(!_)throw new q.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");d=null}d&&m.forEach(function(x){if(d&&d.storeNames.indexOf(x)===-1){if(!_)throw new q.SubTransaction("Table "+x+" not included in parent transaction.");d=null}}),_&&d&&!d.active&&(d=null)}}catch(x){return d?d._promise(null,function(T,w){w(x)}):gt(x)}var S=(function x(T,w,C,E,P){return ce.resolve().then(function(){var A=pe.transless||pe,O=T._createTransaction(w,C,T._dbSchema,E);if(O.explicit=!0,A={trans:O,transless:A},E)O.idbtrans=E.idbtrans;else try{O.create(),O.idbtrans._explicit=!0,T._state.PR1398_maxLoop=3}catch(M){return M.name===Ze.InvalidState&&T.isOpen()&&0<--T._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),T.close({disableAutoOpen:!1}),T.open().then(function(){return x(T,w,C,null,P)})):gt(M)}var $,L=Ye(P);return L&&or(),A=ce.follow(function(){var M;($=P.call(O,O))&&(L?(M=bn.bind(null,null),$.then(M,M)):typeof $.next=="function"&&typeof $.throw=="function"&&($=Hs($)))},A),($&&typeof $.then=="function"?ce.resolve($).then(function(M){return O.active?M:gt(new q.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):A.then(function(){return $})).then(function(M){return E&&O._resolve(),O._completion.then(function(){return M})}).catch(function(M){return O._reject(M),gt(M)})})}).bind(null,this,p,m,d,u);return d?d._promise(p,S,"lock"):pe.trans?Kn(pe.transless,function(){return h._whenReady(S)}):this._whenReady(S)},yt.prototype.table=function(i){if(!b(this._allTables,i))throw new q.InvalidTable("Table ".concat(i," does not exist"));return this._allTables[i]},yt);function yt(i,o){var u=this;this._middlewares={},this.verno=0;var h=yt.dependencies;this._options=o=r({addons:yt.addons,autoOpen:!0,indexedDB:h.indexedDB,IDBKeyRange:h.IDBKeyRange,cache:"cloned"},o),this._deps={indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange},h=o.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var d,p,m,_,S,x={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:xe,dbReadyPromise:null,cancelOpen:xe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:o.autoOpen};x.dbReadyPromise=new ce(function(w){x.dbReadyResolve=w}),x.openCanceller=new ce(function(w,C){x.cancelOpen=C}),this._state=x,this.name=i,this.on=Ar(this,"populate","blocked","versionchange","close",{ready:[J,xe]}),this.on.ready.subscribe=be(this.on.ready.subscribe,function(w){return function(C,E){yt.vip(function(){var P,A=u._state;A.openComplete?(A.dbOpenError||ce.resolve().then(C),E&&w(C)):A.onReadyBeingFired?(A.onReadyBeingFired.push(C),E&&w(C)):(w(C),P=u,E||w(function O(){P.on.ready.unsubscribe(C),P.on.ready.unsubscribe(O)}))})}}),this.Collection=(d=this,jr(Pc.prototype,function($,O){this.db=d;var E=va,P=null;if(O)try{E=O()}catch(L){P=L}var A=$._ctx,O=A.table,$=O.hook.reading.fire;this._ctx={table:O,index:A.index,isPrimKey:!A.index||O.schema.primKey.keyPath&&A.index===O.schema.primKey.name,range:E,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:P,or:A.or,valueMapper:$!==v?$:null}})),this.Table=(p=this,jr(ka.prototype,function(w,C,E){this.db=p,this._tx=E,this.name=w,this.schema=C,this.hook=p._allTables[w]?p._allTables[w].hook:Ar(null,{creating:[F,xe],reading:[k,v],updating:[B,xe],deleting:[N,xe]})})),this.Transaction=(m=this,jr(Ac.prototype,function(w,C,E,P,A){var O=this;this.db=m,this.mode=w,this.storeNames=C,this.schema=E,this.chromeTransactionDurability=P,this.idbtrans=null,this.on=Ar(this,"complete","error","abort"),this.parent=A||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ce(function($,L){O._resolve=$,O._reject=L}),this._completion.then(function(){O.active=!1,O.on.complete.fire()},function($){var L=O.active;return O.active=!1,O.on.error.fire($),O.parent?O.parent._reject($):L&&O.idbtrans&&O.idbtrans.abort(),gt($)})})),this.Version=(_=this,jr(Mc.prototype,function(w){this.db=_,this._cfg={version:w,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(S=this,jr(Pa.prototype,function(w,C,E){if(this.db=S,this._ctx={table:w,index:C===":id"?null:C,or:E},this._cmp=this._ascending=Be,this._descending=function(P,A){return Be(A,P)},this._max=function(P,A){return 0<Be(P,A)?P:A},this._min=function(P,A){return Be(P,A)<0?P:A},this._IDBKeyRange=S._deps.IDBKeyRange,!this._IDBKeyRange)throw new q.MissingAPI})),this.on("versionchange",function(w){0<w.newVersion?console.warn("Another connection wants to upgrade database '".concat(u.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(u.name,"'. Closing db now to resume the delete request.")),u.close({disableAutoOpen:!1})}),this.on("blocked",function(w){!w.newVersion||w.newVersion<w.oldVersion?console.warn("Dexie.delete('".concat(u.name,"') was blocked")):console.warn("Upgrade '".concat(u.name,"' blocked by other connection holding version ").concat(w.oldVersion/10))}),this._maxKey=$r(o.IDBKeyRange),this._createTransaction=function(w,C,E,P){return new u.Transaction(w,C,E,u._options.chromeTransactionDurability,P)},this._fireOnBlocked=function(w){u.on("blocked").fire(w),ar.filter(function(C){return C.name===u.name&&C!==u&&!C._state.vcFired}).map(function(C){return C.on("versionchange").fire(w)})},this.use(Nc),this.use(Hc),this.use(Bc),this.use(Uc),this.use(Kc);var T=new Proxy(this,{get:function(w,C,E){if(C==="_vip")return!0;if(C==="table")return function(A){return Ci(u.table(A),T)};var P=Reflect.get(w,C,E);return P instanceof ka?Ci(P,T):C==="tables"?P.map(function(A){return Ci(A,T)}):C==="_createTransaction"?function(){return Ci(P.apply(this,arguments),T)}:P}});this.vip=T,h.forEach(function(w){return w(u)})}var Ai,Jt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Wc=(Gs.prototype.subscribe=function(i,o,u){return this._subscribe(i&&typeof i!="function"?i:{next:i,error:o,complete:u})},Gs.prototype[Jt]=function(){return this},Gs);function Gs(i){this._subscribe=i}try{Ai={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{Ai={indexedDB:null,IDBKeyRange:null}}function Ba(i){var o,u=!1,h=new Wc(function(d){var p=Ye(i),m,_=!1,S={},x={},T={get closed(){return _},unsubscribe:function(){_||(_=!0,m&&m.abort(),w&&xn.storagemutated.unsubscribe(E))}};d.start&&d.start(T);var w=!1,C=function(){return Es(P)},E=function(A){Oi(S,A),Ns(x,S)&&C()},P=function(){var A,O,$;!_&&Ai.indexedDB&&(S={},A={},m&&m.abort(),m=new AbortController,$=function(L){var M=ir();try{p&&or();var U=_n(i,L);return U=p?U.finally(bn):U}finally{M&&sr()}}(O={subscr:A,signal:m.signal,requery:C,querier:i,trans:null}),Promise.resolve($).then(function(L){u=!0,o=L,_||O.signal.aborted||(S={},function(M){for(var U in M)if(b(M,U))return;return 1}(x=A)||w||(xn(Dr,E),w=!0),Es(function(){return!_&&d.next&&d.next(L)}))},function(L){u=!1,["DatabaseClosedError","AbortError"].includes(L==null?void 0:L.name)||_||Es(function(){_||d.error&&d.error(L)})}))};return setTimeout(C,0),T});return h.hasValue=function(){return u},h.getValue=function(){return o},h}var Vn=dn;function Qs(i){var o=En;try{En=!0,xn.storagemutated.fire(i),Vs(i,!0)}finally{En=o}}R(Vn,r(r({},He),{delete:function(i){return new Vn(i,{addons:[]}).delete()},exists:function(i){return new Vn(i,{addons:[]}).open().then(function(o){return o.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(i){try{return o=Vn.dependencies,u=o.indexedDB,o=o.IDBKeyRange,(Fs(u)?Promise.resolve(u.databases()).then(function(h){return h.map(function(d){return d.name}).filter(function(d){return d!==pi})}):Ms(u,o).toCollection().primaryKeys()).then(i)}catch{return gt(new q.MissingAPI)}var o,u},defineClass:function(){return function(i){c(this,i)}},ignoreTransaction:function(i){return pe.trans?Kn(pe.transless,i):i()},vip:Us,async:function(i){return function(){try{var o=Hs(i.apply(this,arguments));return o&&typeof o.then=="function"?o:ce.resolve(o)}catch(u){return gt(u)}}},spawn:function(i,o,u){try{var h=Hs(i.apply(u,o||[]));return h&&typeof h.then=="function"?h:ce.resolve(h)}catch(d){return gt(d)}},currentTransaction:{get:function(){return pe.trans||null}},waitFor:function(i,o){return o=ce.resolve(typeof i=="function"?Vn.ignoreTransaction(i):i).timeout(o||6e4),pe.trans?pe.trans.waitFor(o):o},Promise:ce,debug:{get:function(){return V},set:function(i){K(i)}},derive:fe,extend:c,props:R,override:be,Events:Ar,on:xn,liveQuery:Ba,extendObservabilitySet:Oi,getByKeyPath:Xe,setByKeyPath:ke,delByKeyPath:function(i,o){typeof o=="string"?ke(i,o,void 0):"length"in o&&[].map.call(o,function(u){ke(i,u,void 0)})},shallowClone:I,deepClone:me,getObjectDiff:Ws,cmp:Be,asap:Oe,minKey:-1/0,addons:[],connections:ar,errnames:Ze,dependencies:Ai,cache:qn,semVer:"4.0.8",version:"4.0.8".split(".").map(function(i){return parseInt(i)}).reduce(function(i,o,u){return i+o/Math.pow(10,2*u)})})),Vn.maxKey=$r(Vn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(xn(Dr,function(i){En||(i=new CustomEvent(As,{detail:i}),En=!0,dispatchEvent(i),En=!1)}),addEventListener(As,function(i){i=i.detail,En||Qs(i)}));var cr,En=!1,qa=function(){};return typeof BroadcastChannel<"u"&&((qa=function(){(cr=new BroadcastChannel(As)).onmessage=function(i){return i.data&&Qs(i.data)}})(),typeof cr.unref=="function"&&cr.unref(),xn(Dr,function(i){En||cr.postMessage(i)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(i){if(!dn.disableBfCache&&i.persisted){V&&console.debug("Dexie: handling persisted pagehide"),cr!=null&&cr.close();for(var o=0,u=ar;o<u.length;o++)u[o].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(i){!dn.disableBfCache&&i.persisted&&(V&&console.debug("Dexie: handling persisted pageshow"),qa(),Qs({all:new jt(-1/0,[[]])}))})),ce.rejectionMapper=function(i,o){return!i||i instanceof Ke||i instanceof TypeError||i instanceof SyntaxError||!i.name||!Me[i.name]?i:(o=new Me[i.name](o||i.message,i),"stack"in i&&se(o,"stack",{get:function(){return this.inner.stack}}),o)},K(V),r(dn,Object.freeze({__proto__:null,Dexie:dn,liveQuery:Ba,Entity:_a,cmp:Be,PropModSymbol:hn,PropModification:Rr,replacePrefix:function(i,o){return new Rr({replacePrefix:[i,o]})},add:function(i){return new Rr({add:i})},remove:function(i){return new Rr({remove:i})},default:dn,RangeSet:jt,mergeRanges:Fr,rangesOverlap:Ra}),{default:dn}),dn})})(Gu);var Cd=Gu.exports;const Ao=zu(Cd),Ol=Symbol.for("Dexie"),jo=globalThis[Ol]||(globalThis[Ol]=Ao);if(Ao.semVer!==jo.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Ao.semVer} and ${jo.semVer}`);const Dn=new jo("DictionaryDB");Dn.version(1).stores({words:"id,type,chinese,romaji,classification,audioid,english",definitions:"defid,wordid,partofspeech,def_chinese,def_english"});async function Ad(){try{const e=await(await fetch("./src/assets/taigiwords.csv")).text(),r=await(await fetch("./src/assets/taigidefs.csv")).text();Sl.parse(e,{header:!0,dynamicTyping:!0,complete:async s=>{console.log("CSV Data:",s.data);const a=s.data;await Dn.words.clear(),await Dn.words.bulkAdd(a)},error:s=>{console.error("CSV Parsing Error:",s)}}),Sl.parse(r,{header:!0,dynamicTyping:!0,complete:async s=>{console.log("CSV Data:",s.data);const a=s.data;await Dn.definitions.clear(),await Dn.definitions.bulkAdd(a)},error:s=>{console.error("CSV Parsing Error:",s)}})}catch(t){console.error("Error loading CSV file:",t)}}async function Qu(t){let e=window.speechSynthesis.getVoices();e.length===0&&(await new Promise(r=>window.speechSynthesis.addEventListener("voiceschanged",r,{once:!0})),e=window.speechSynthesis.getVoices());const n=new SpeechSynthesisUtterance(t);n.lang="zh-TW",n.voice=e.find(r=>r.name==="Meijia"),window.speechSynthesis.speak(n)}async function Yu(t){let e=window.speechSynthesis.getVoices();e.length===0&&(await new Promise(s=>window.speechSynthesis.addEventListener("voiceschanged",s,{once:!0})),e=window.speechSynthesis.getVoices());const n=e.filter(s=>s.lang==="en-US");console.log(n);const r=new SpeechSynthesisUtterance(t);r.lang="en-US",r.voice=e.find(s=>s.name==="Samantha"),window.speechSynthesis.speak(r)}const hs=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},jd={},Rd={class:"icon-play-container"};function Id(t,e){return Ve(),ot("div",Rd,e[0]||(e[0]=[ne("svg",{class:"play-audio",width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[ne("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.9177 4.9473L19.4897 4.3313L18.2577 5.1873L18.6857 5.8023C21.3027 9.5713 21.3027 14.4363 18.6857 18.1973L18.2577 18.8123L19.4887 19.6693L19.9177 19.0533C22.8497 14.8393 22.8497 9.1703 19.9177 4.9473Z"}),ne("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.2312 7.6226L16.8582 6.9716L15.5572 7.7166L15.9292 8.3676C17.2142 10.6126 17.2142 13.3966 15.9302 15.6336L15.5562 16.2836L16.8572 17.0306L17.2312 16.3806C18.7792 13.6836 18.7792 10.3276 17.2312 7.6226Z"}),ne("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.0788 7.564H2.3848V8.064C2.3828 10.688 2.3828 13.312 2.3848 15.937V16.436H7.0788L11.2048 20.013H12.6678V3.987H11.2048L7.0788 7.564Z"})],-1)]))}const Gr=hs(jd,[["render",Id],["__scopeId","data-v-10fa8cd0"]]),Dd={props:{audioID:{type:String,required:!0}},components:{IconPlayAudio:Gr},data(){return{isPlaying:!1,baseSrc:"src/assets/audio_taigi/"}},computed:{fullSrc(){return`${this.baseSrc}${getAudioFolder(this.audioid)}/${audioid}.mp3`}},methods:{togglePlay(){const t=this.$refs.audio;this.isPlaying?t.pause():t.play(),this.isPlaying=!this.isPlaying},audioEnded(){this.isPlaying=!1,console.log("Audio has finished playing.")},getAudioFolder(t){if(console.log(t),t){const e=parseInt(t.match(/^(\d+)\(/)[1]);return e<1e3?"0":e>=1e3&&e<2e3?"1":e>=2e3&&e<3e3?"2":e>=3e3&&e<4e3?"3":e>=4e3&&e<5e3?"4":e>=5e3&&e<6e3?"5":e>=6e3&&e<7e3?"6":e>=7e3&&e<8e3?"7":e>=8e3&&e<9e3?"8":e>=9e3&&e<1e4?"9":e>=1e4&&e<11e3?"10":e>=11e3&&e<12e3?"11":e>=12e3&&e<13e3?"12":e>=13e3&&e<14e3?"13":e>=14e3&&e<15e3?"14":e>=15e3&&e<16e3?"15":e>=16e3&&e<17e3?"16":e>=17e3&&e<18e3?"17":e>=18e3&&e<19e3?"18":e>=19e3&&e<2e4?"19":e>=2e4&&e<21e3?"20":e>=21e3&&e<22e3?"21":e>=22e3&&e<23e3?"22":e>=23e3&&e<24e3?"23":e>=24e3&&e<25e3?"24":e>=25e3&&e<26e3?"25":e>=26e3&&e<27e3?"26":e>=27e3&&e<28e3?"27":e>=28e3&&e<29e3?"28":"Out of range"}}},mounted(){this.$refs.audio},beforeDestroy(){this.$refs.audio}},$d={class:"audio-player"},Ld=["src"];function Md(t,e,n,r,s,a){const l=xo("IconPlayAudio");return Ve(),ot("div",$d,[ne("audio",{ref:"audio",src:`${this.baseSrc}${a.getAudioFolder(n.audioID)}/${n.audioID}.mp3`,onEnded:e[0]||(e[0]=(...f)=>a.audioEnded&&a.audioEnded(...f))},null,40,Ld),$t(l,{onClick:a.togglePlay},null,8,["onClick"])])}const Xu=hs(Dd,[["render",Md],["__scopeId","data-v-68cbd314"]]),Fd="modulepreload",Ud=function(t){return"/taigi-dict-app/"+t},Pl={},Or=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),f=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=Ud(c),c in Pl)return;Pl[c]=!0;const y=c.endsWith(".css"),g=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${g}`))return;const b=document.createElement("link");if(b.rel=y?"stylesheet":Fd,y||(b.as="script"),b.crossOrigin="",b.href=c,f&&b.setAttribute("nonce",f),document.head.appendChild(b),y)return new Promise((R,H)=>{b.addEventListener("load",R),b.addEventListener("error",()=>H(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(l){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=l,window.dispatchEvent(f),!f.defaultPrevented)throw l}return s.then(l=>{for(const f of l||[])f.status==="rejected"&&a(f.reason);return e().catch(a)})},Kd=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Or(async()=>{const{default:r}=await Promise.resolve().then(()=>Tr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class la extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Nd extends la{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Bd extends la{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class qd extends la{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ro;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ro||(Ro={}));var Vd=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function f(g){try{y(r.next(g))}catch(b){l(b)}}function c(g){try{y(r.throw(g))}catch(b){l(b)}}function y(g){g.done?a(g.value):s(g.value).then(f,c)}y((r=r.apply(t,e||[])).next())})};class Hd{constructor(e,{headers:n={},customFetch:r,region:s=Ro.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Kd(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Vd(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:l}=n;let f={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(f["x-region"]=c);let y;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=l):typeof l=="string"?(f["Content-Type"]="text/plain",y=l):typeof FormData<"u"&&l instanceof FormData?y=l:(f["Content-Type"]="application/json",y=JSON.stringify(l)));const g=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),s),body:y}).catch(se=>{throw new Nd(se)}),b=g.headers.get("x-relay-error");if(b&&b==="true")throw new Bd(g);if(!g.ok)throw new qd(g);let R=((r=g.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),H;return R==="application/json"?H=yield g.json():R==="application/octet-stream"?H=yield g.blob():R==="text/event-stream"?H=g:R==="multipart/form-data"?H=yield g.formData():H=yield g.text(),{data:H,error:null}}catch(s){return{data:null,error:s}}})}}var Kt={},ua={},ds={},ai={},ps={},gs={},Wd=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Pr=Wd();const zd=Pr.fetch,Zu=Pr.fetch.bind(Pr),ec=Pr.Headers,Jd=Pr.Request,Gd=Pr.Response,Tr=Object.freeze(Object.defineProperty({__proto__:null,Headers:ec,Request:Jd,Response:Gd,default:Zu,fetch:zd},Symbol.toStringTag,{value:"Module"})),Qd=Pd(Tr);var ys={};Object.defineProperty(ys,"__esModule",{value:!0});class Yd extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}ys.default=Yd;var tc=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gs,"__esModule",{value:!0});const Xd=tc(Qd),Zd=tc(ys);let ep=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Xd.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var l,f,c;let y=null,g=null,b=null,R=a.status,H=a.statusText;if(a.ok){if(this.method!=="HEAD"){const le=await a.text();le===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?g=le:g=JSON.parse(le))}const fe=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),_e=(f=a.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");fe&&_e&&_e.length>1&&(b=parseInt(_e[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(y={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,b=null,R=406,H="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const fe=await a.text();try{y=JSON.parse(fe),Array.isArray(y)&&a.status===404&&(g=[],y=null,R=200,H="OK")}catch{a.status===404&&fe===""?(R=204,H="No Content"):y={message:fe}}if(y&&this.isMaybeSingle&&(!((c=y==null?void 0:y.details)===null||c===void 0)&&c.includes("0 rows"))&&(y=null,R=200,H="OK"),y&&this.shouldThrowOnError)throw new Zd.default(y)}return{error:y,data:g,count:b,status:R,statusText:H}});return this.shouldThrowOnError||(s=s.catch(a=>{var l,f,c;return{error:{message:`${(l=a==null?void 0:a.name)!==null&&l!==void 0?l:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(f=a==null?void 0:a.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}};gs.default=ep;var tp=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ps,"__esModule",{value:!0});const np=tp(gs);let rp=class extends np.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:a=s}={}){const l=a?`${a}.order`:"order",f=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${f?`${f},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const a=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(l,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:a=!1,format:l="text"}={}){var f;const c=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),y=(f=this.headers.Accept)!==null&&f!==void 0?f:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${y}"; options=${c};`,l==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ps.default=rp;var ip=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ai,"__esModule",{value:!0});const sp=ip(ps);let op=class extends sp.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${l}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ai.default=op;var ap=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ds,"__esModule",{value:!0});const Nr=ap(ai);let lp=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let a=!1;const l=(e??"*").split("").map(f=>/\s/.test(f)&&!a?"":(f==='"'&&(a=!a),f)).join("");return this.url.searchParams.set("select",l),r&&(this.headers.Prefer=`count=${r}`),new Nr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((f,c)=>f.concat(Object.keys(c)),[]);if(l.length>0){const f=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",f.join(","))}}return new Nr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:a=!0}={}){const l="POST",f=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&f.push(this.headers.Prefer),s&&f.push(`count=${s}`),a||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(e)){const c=e.reduce((y,g)=>y.concat(Object.keys(g)),[]);if(c.length>0){const y=[...new Set(c)].map(g=>`"${g}"`);this.url.searchParams.set("columns",y.join(","))}}return new Nr.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Nr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Nr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ds.default=lp;var ms={},vs={};Object.defineProperty(vs,"__esModule",{value:!0});vs.version=void 0;vs.version="0.0.0-automated";Object.defineProperty(ms,"__esModule",{value:!0});ms.DEFAULT_HEADERS=void 0;const up=vs;ms.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${up.version}`};var nc=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ua,"__esModule",{value:!0});const cp=nc(ds),fp=nc(ai),hp=ms;let dp=class rc{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},hp.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new cp.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new rc(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:a}={}){let l;const f=new URL(`${this.url}/rpc/${e}`);let c;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([g,b])=>b!==void 0).map(([g,b])=>[g,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([g,b])=>{f.searchParams.append(g,b)})):(l="POST",c=n);const y=Object.assign({},this.headers);return a&&(y.Prefer=`count=${a}`),new fp.default({method:l,url:f,headers:y,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};ua.default=dp;var Cr=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.PostgrestError=Kt.PostgrestBuilder=Kt.PostgrestTransformBuilder=Kt.PostgrestFilterBuilder=Kt.PostgrestQueryBuilder=Kt.PostgrestClient=void 0;const ic=Cr(ua);Kt.PostgrestClient=ic.default;const sc=Cr(ds);Kt.PostgrestQueryBuilder=sc.default;const oc=Cr(ai);Kt.PostgrestFilterBuilder=oc.default;const ac=Cr(ps);Kt.PostgrestTransformBuilder=ac.default;const lc=Cr(gs);Kt.PostgrestBuilder=lc.default;const uc=Cr(ys);Kt.PostgrestError=uc.default;var pp=Kt.default={PostgrestClient:ic.default,PostgrestQueryBuilder:sc.default,PostgrestFilterBuilder:oc.default,PostgrestTransformBuilder:ac.default,PostgrestBuilder:lc.default,PostgrestError:uc.default};const{PostgrestClient:gp,PostgrestQueryBuilder:Iy,PostgrestFilterBuilder:Dy,PostgrestTransformBuilder:$y,PostgrestBuilder:Ly}=pp,yp="2.10.7",mp={"X-Client-Info":`realtime-js/${yp}`},vp="1.0.0",cc=1e4,_p=1e3;var Er;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Er||(Er={}));var Vt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Vt||(Vt={}));var Zt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Zt||(Zt={}));var Io;(function(t){t.websocket="websocket"})(Io||(Io={}));var Xn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Xn||(Xn={}));class bp{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),a=n.getUint8(2);let l=this.HEADER_LENGTH+2;const f=r.decode(e.slice(l,l+s));l=l+s;const c=r.decode(e.slice(l,l+a));l=l+a;const y=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{ref:null,topic:f,event:c,payload:y}}}class fc{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var it;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(it||(it={}));const Tl=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,l)=>(a[l]=wp(l,t,e,s),a),{})},wp=(t,e,n,r)=>{const s=e.find(f=>f.name===t),a=s==null?void 0:s.type,l=n[t];return a&&!r.includes(a)?hc(a,l):Do(l)},hc=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Sp(e,n)}switch(t){case it.bool:return kp(e);case it.float4:case it.float8:case it.int2:case it.int4:case it.int8:case it.numeric:case it.oid:return xp(e);case it.json:case it.jsonb:return Ep(e);case it.timestamp:return Op(e);case it.abstime:case it.date:case it.daterange:case it.int4range:case it.int8range:case it.money:case it.reltime:case it.text:case it.time:case it.timestamptz:case it.timetz:case it.tsrange:case it.tstzrange:return Do(e);default:return Do(e)}},Do=t=>t,kp=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},xp=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Ep=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Sp=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const l=t.slice(1,n);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(f=>hc(e,f))}return t},Op=t=>typeof t=="string"?t.replace(" ","T"):t,dc=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class fo{constructor(e,n,r={},s=cc){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Cl;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Cl||(Cl={}));class Qr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:a,onLeave:l,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qr.syncState(this.state,s,a,l),this.pendingDiffs.forEach(c=>{this.state=Qr.syncDiff(this.state,c,a,l)}),this.pendingDiffs=[],f()}),this.channel._on(r.diff,{},s=>{const{onJoin:a,onLeave:l,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Qr.syncDiff(this.state,s,a,l),f())}),this.onJoin((s,a,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:l})}),this.onLeave((s,a,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const a=this.cloneDeep(e),l=this.transformState(n),f={},c={};return this.map(a,(y,g)=>{l[y]||(c[y]=g)}),this.map(l,(y,g)=>{const b=a[y];if(b){const R=g.map(_e=>_e.presence_ref),H=b.map(_e=>_e.presence_ref),se=g.filter(_e=>H.indexOf(_e.presence_ref)<0),fe=b.filter(_e=>R.indexOf(_e.presence_ref)<0);se.length>0&&(f[y]=se),fe.length>0&&(c[y]=fe)}else f[y]=g}),this.syncDiff(a,{joins:f,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:a,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,(f,c)=>{var y;const g=(y=e[f])!==null&&y!==void 0?y:[];if(e[f]=this.cloneDeep(c),g.length>0){const b=e[f].map(H=>H.presence_ref),R=g.filter(H=>b.indexOf(H.presence_ref)<0);e[f].unshift(...R)}r(f,g,c)}),this.map(l,(f,c)=>{let y=e[f];if(!y)return;const g=c.map(b=>b.presence_ref);y=y.filter(b=>g.indexOf(b.presence_ref)<0),e[f]=y,s(f,y,c),y.length===0&&delete e[f]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Al;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Al||(Al={}));var jl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(jl||(jl={}));var Rl;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Rl||(Rl={}));class ca{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new fo(this,Zt.join,this.params,this.timeout),this.rejoinTimer=new fc(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zt.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Qr(this),this.broadcastEndpointURL=dc(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:l,private:f}}=this.params;this._onError(g=>e&&e("CHANNEL_ERROR",g)),this._onClose(()=>e&&e("CLOSED"));const c={},y={broadcast:a,presence:l,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&s!==void 0?s:[],private:f};this.socket.accessToken&&(c.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:y},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:g})=>{var b;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),g===void 0){e&&e("SUBSCRIBED");return}else{const R=this.bindings.postgres_changes,H=(b=R==null?void 0:R.length)!==null&&b!==void 0?b:0,se=[];for(let fe=0;fe<H;fe++){const _e=R[fe],{filter:{event:le,schema:we,table:be,filter:ae}}=_e,Oe=g&&g[fe];if(Oe&&Oe.event===le&&Oe.schema===we&&Oe.table===be&&Oe.filter===ae)se.push(Object.assign(Object.assign({},_e),{id:Oe.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=se,e&&e("SUBSCRIBED");return}}).receive("error",g=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:l}=e,f={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,f,c;const y=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(f=(l=this.params)===null||l===void 0?void 0:l.config)===null||f===void 0?void 0:f.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),y.receive("ok",()=>a("ok")),y.receive("error",()=>a("error")),y.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Vt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new fo(this,Zt.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,a=setTimeout(()=>s.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),l}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new fo(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,a;const l=e.toLocaleLowerCase(),{close:f,error:c,leave:y,join:g}=Zt;if(r&&[f,c,y,g].indexOf(l)>=0&&r!==this._joinRef())return;let R=this._onMessage(l,n,r);if(n&&!R)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(H=>{var se,fe,_e;return((se=H.filter)===null||se===void 0?void 0:se.event)==="*"||((_e=(fe=H.filter)===null||fe===void 0?void 0:fe.event)===null||_e===void 0?void 0:_e.toLocaleLowerCase())===l}).map(H=>H.callback(R,r)):(a=this.bindings[l])===null||a===void 0||a.filter(H=>{var se,fe,_e,le,we,be;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in H){const ae=H.id,Oe=(se=H.filter)===null||se===void 0?void 0:se.event;return ae&&((fe=n.ids)===null||fe===void 0?void 0:fe.includes(ae))&&(Oe==="*"||(Oe==null?void 0:Oe.toLocaleLowerCase())===((_e=n.data)===null||_e===void 0?void 0:_e.type.toLocaleLowerCase()))}else{const ae=(we=(le=H==null?void 0:H.filter)===null||le===void 0?void 0:le.event)===null||we===void 0?void 0:we.toLocaleLowerCase();return ae==="*"||ae===((be=n==null?void 0:n.event)===null||be===void 0?void 0:be.toLocaleLowerCase())}else return H.type.toLocaleLowerCase()===l}).map(H=>{if(typeof R=="object"&&"ids"in R){const se=R.data,{schema:fe,table:_e,commit_timestamp:le,type:we,errors:be}=se;R=Object.assign(Object.assign({},{schema:fe,table:_e,commit_timestamp:le,eventType:we,new:{},old:{},errors:be}),this._getPayloadRecords(se))}H.callback(R,r)})}_isClosed(){return this.state===Vt.closed}_isJoined(){return this.state===Vt.joined}_isJoining(){return this.state===Vt.joining}_isLeaving(){return this.state===Vt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),a={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&ca.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Zt.close,{},e)}_onError(e){this._on(Zt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Tl(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Tl(e.columns,e.old_record)),n}}const Pp=()=>{},Tp=typeof WebSocket<"u",Cp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ap{constructor(e,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=mp,this.params={},this.timeout=cc,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Pp,this.conn=null,this.sendBuffer=[],this.serializer=new bp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=a=>{let l;return a?l=a:typeof fetch>"u"?l=(...f)=>Or(async()=>{const{default:c}=await Promise.resolve().then(()=>Tr);return{default:c}},void 0).then(({default:c})=>c(...f)):l=fetch,(...f)=>l(...f)},this.endPoint=`${e}/${Io.websocket}`,this.httpEndpoint=dc(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,l)=>l(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new fc(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Tp){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new jp(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Or(async()=>{const{default:e}=await import("./browser-Bkp4PAVH.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Er.connecting:return Xn.Connecting;case Er.open:return Xn.Open;case Er.closing:return Xn.Closing;default:return Xn.Closed}}isConnected(){return this.connectionState()===Xn.Open}channel(e,n={config:{}}){const r=new ca(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:a}=e,l=()=>{this.encode(e,f=>{var c;(c=this.conn)===null||c===void 0||c.send(f)})};this.log("push",`${n} ${r} (${a})`,s),this.isConnected()?l():this.sendBuffer.push(l)}setAuth(e){this.accessToken=e,this.channels.forEach(n=>{e&&n.updateJoinPayload({access_token:e}),n.joinedOnce&&n._isJoined()&&n._push(Zt.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:vp}))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:a,ref:l}=n;(l&&l===this.pendingHeartbeatRef||s===(a==null?void 0:a.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${s} ${l&&"("+l+")"||""}`,a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(s,a,l)),this.stateChangeCallbacks.message.forEach(f=>f(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Zt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(_p,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Cp],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class jp{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Er.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class fa extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function kt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Rp extends fa{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class $o extends fa{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Ip=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function f(g){try{y(r.next(g))}catch(b){l(b)}}function c(g){try{y(r.throw(g))}catch(b){l(b)}}function y(g){g.done?a(g.value):s(g.value).then(f,c)}y((r=r.apply(t,e||[])).next())})};const pc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Or(async()=>{const{default:r}=await Promise.resolve().then(()=>Tr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Dp=()=>Ip(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Or(()=>Promise.resolve().then(()=>Tr),void 0)).Response:Response}),Lo=t=>{if(Array.isArray(t))return t.map(n=>Lo(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[s]=Lo(r)}),e};var nr=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function f(g){try{y(r.next(g))}catch(b){l(b)}}function c(g){try{y(r.throw(g))}catch(b){l(b)}}function y(g){g.done?a(g.value):s(g.value).then(f,c)}y((r=r.apply(t,e||[])).next())})};const ho=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$p=(t,e,n)=>nr(void 0,void 0,void 0,function*(){const r=yield Dp();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new Rp(ho(s),t.status||500))}).catch(s=>{e(new $o(ho(s),s))}):e(new $o(ho(t),t))}),Lp=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function li(t,e,n,r,s,a){return nr(this,void 0,void 0,function*(){return new Promise((l,f)=>{t(n,Lp(e,r,s,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>$p(c,f,r))})})}function Xi(t,e,n,r){return nr(this,void 0,void 0,function*(){return li(t,"GET",e,n,r)})}function jn(t,e,n,r,s){return nr(this,void 0,void 0,function*(){return li(t,"POST",e,r,s,n)})}function Mp(t,e,n,r,s){return nr(this,void 0,void 0,function*(){return li(t,"PUT",e,r,s,n)})}function Fp(t,e,n,r){return nr(this,void 0,void 0,function*(){return li(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function gc(t,e,n,r,s){return nr(this,void 0,void 0,function*(){return li(t,"DELETE",e,r,s,n)})}var Ft=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function f(g){try{y(r.next(g))}catch(b){l(b)}}function c(g){try{y(r.throw(g))}catch(b){l(b)}}function y(g){g.done?a(g.value):s(g.value).then(f,c)}y((r=r.apply(t,e||[])).next())})};const Up={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Il={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Kp{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=pc(s)}uploadOrUpdate(e,n,r,s){return Ft(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},Il),s);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",l.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,f["cache-control"]=`max-age=${l.cacheControl}`,f["content-type"]=l.contentType,c&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(f=Object.assign(Object.assign({},f),s.headers));const y=this._removeEmptyFolders(n),g=this._getFinalPath(y),b=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:e,body:a,headers:f},l!=null&&l.duplex?{duplex:l.duplex}:{})),R=yield b.json();return b.ok?{data:{path:y,id:R.Id,fullPath:R.Key},error:null}:{data:null,error:R}}catch(a){if(kt(a))return{data:null,error:a};throw a}})}upload(e,n,r){return Ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Ft(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),l=this._getFinalPath(a),f=new URL(this.url+`/object/upload/sign/${l}`);f.searchParams.set("token",n);try{let c;const y=Object.assign({upsert:Il.upsert},s),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",y.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",y.cacheControl)):(c=r,g["cache-control"]=`max-age=${y.cacheControl}`,g["content-type"]=y.contentType);const b=yield this.fetch(f.toString(),{method:"PUT",body:c,headers:g}),R=yield b.json();return b.ok?{data:{path:a,fullPath:R.Key},error:null}:{data:null,error:R}}catch(c){if(kt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return Ft(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const a=yield jn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),l=new URL(this.url+a.url),f=l.searchParams.get("token");if(!f)throw new fa("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:f},error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ft(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Ft(this,void 0,void 0,function*(){try{return{data:{path:(yield jn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Ft(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),a=yield jn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Ft(this,void 0,void 0,function*(){try{const s=yield jn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}download(e,n){return Ft(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=a?`?${a}`:"";try{const f=this._getFinalPath(e);return{data:yield(yield Xi(this.fetch,`${this.url}/${s}/${f}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(f){if(kt(f))return{data:null,error:f};throw f}})}info(e){return Ft(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Xi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Lo(r),error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}})}exists(e){return Ft(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Fp(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(kt(r)&&r instanceof $o){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&s.push(a);const f=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let y=s.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${r}${y}`)}}}remove(e){return Ft(this,void 0,void 0,function*(){try{return{data:yield gc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ft(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Up),n),{prefix:e||""});return{data:yield jn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Np="2.7.1",Bp={"X-Client-Info":`storage-js/${Np}`};var hr=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function f(g){try{y(r.next(g))}catch(b){l(b)}}function c(g){try{y(r.throw(g))}catch(b){l(b)}}function y(g){g.done?a(g.value):s(g.value).then(f,c)}y((r=r.apply(t,e||[])).next())})};class qp{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},Bp),n),this.fetch=pc(r)}listBuckets(){return hr(this,void 0,void 0,function*(){try{return{data:yield Xi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(kt(e))return{data:null,error:e};throw e}})}getBucket(e){return hr(this,void 0,void 0,function*(){try{return{data:yield Xi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return hr(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return hr(this,void 0,void 0,function*(){try{return{data:yield Mp(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return hr(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return hr(this,void 0,void 0,function*(){try{return{data:yield gc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}}class Vp extends qp{constructor(e,n={},r){super(e,n,r)}from(e){return new Kp(this.url,this.headers,e,this.fetch)}}const Hp="2.46.1";let Vr="";typeof Deno<"u"?Vr="deno":typeof document<"u"?Vr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vr="react-native":Vr="node";const Wp={"X-Client-Info":`supabase-js-${Vr}/${Hp}`},zp={headers:Wp},Jp={schema:"public"},Gp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Qp={};var Yp=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function f(g){try{y(r.next(g))}catch(b){l(b)}}function c(g){try{y(r.throw(g))}catch(b){l(b)}}function y(g){g.done?a(g.value):s(g.value).then(f,c)}y((r=r.apply(t,e||[])).next())})};const Xp=t=>{let e;return t?e=t:typeof fetch>"u"?e=Zu:e=fetch,(...n)=>e(...n)},Zp=()=>typeof Headers>"u"?ec:Headers,eg=(t,e,n)=>{const r=Xp(n),s=Zp();return(a,l)=>Yp(void 0,void 0,void 0,function*(){var f;const c=(f=yield e())!==null&&f!==void 0?f:t;let y=new s(l==null?void 0:l.headers);return y.has("apikey")||y.set("apikey",t),y.has("Authorization")||y.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},l),{headers:y}))})};var tg=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function f(g){try{y(r.next(g))}catch(b){l(b)}}function c(g){try{y(r.throw(g))}catch(b){l(b)}}function y(g){g.done?a(g.value):s(g.value).then(f,c)}y((r=r.apply(t,e||[])).next())})};function ng(t){return t.replace(/\/$/,"")}function rg(t,e){const{db:n,auth:r,realtime:s,global:a}=t,{db:l,auth:f,realtime:c,global:y}=e,g={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},f),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},y),a),accessToken:()=>tg(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}const yc="2.65.1",ig="http://localhost:9999",sg="supabase.auth.token",og={"X-Client-Info":`gotrue-js/${yc}`},Dl=10,Mo="X-Supabase-Api-Version",mc={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function ag(t){return Math.round(Date.now()/1e3)+t}function lg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Xt=()=>typeof document<"u",Jn={tested:!1,writable:!1},Yr=()=>{if(!Xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jn.tested)return Jn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Jn.tested=!0,Jn.writable=!0}catch{Jn.tested=!0,Jn.writable=!1}return Jn.writable};function po(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{e[a]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const vc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Or(async()=>{const{default:r}=await Promise.resolve().then(()=>Tr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},ug=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",_c=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Fi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ui=async(t,e)=>{await t.removeItem(e)};function cg(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,a,l,f,c,y,g=0;for(t=t.replace("-","+").replace("_","/");g<t.length;)l=e.indexOf(t.charAt(g++)),f=e.indexOf(t.charAt(g++)),c=e.indexOf(t.charAt(g++)),y=e.indexOf(t.charAt(g++)),r=l<<2|f>>4,s=(f&15)<<4|c>>2,a=(c&3)<<6|y,n=n+String.fromCharCode(r),c!=64&&s!=0&&(n=n+String.fromCharCode(s)),y!=64&&a!=0&&(n=n+String.fromCharCode(a));return n}class _s{constructor(){this.promise=new _s.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}_s.promiseConstructor=Promise;function $l(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(cg(r))}async function fg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function hg(t,e){return new Promise((r,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await t(a);if(!e(a,null,l)){r(l);return}}catch(l){if(!e(a,l)){s(l);return}}})()})}function dg(t){return("0"+t.toString(16)).substr(-2)}function pg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,dg).join("")}async function gg(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}function yg(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await gg(t);return yg(n)}async function dr(t,e,n=!1){const r=pg();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await _c(t,`${e}-code-verifier`,s);const a=await mg(r);return[a,r===a?"plain":"s256"]}const vg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _g(t){const e=t.headers.get(Mo);if(!e||!e.match(vg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class ha extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Le(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class bg extends ha{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function wg(t){return Le(t)&&t.name==="AuthApiError"}class bc extends ha{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class rr extends ha{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class On extends rr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function kg(t){return Le(t)&&t.name==="AuthSessionMissingError"}class go extends rr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ki extends rr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ni extends rr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ll extends rr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fo extends rr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function yo(t){return Le(t)&&t.name==="AuthRetryableFetchError"}class Ml extends rr{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var xg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Qn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Eg=[502,503,504];async function Fl(t){var e;if(!ug(t))throw new Fo(Qn(t),0);if(Eg.includes(t.status))throw new Fo(Qn(t),t.status);let n;try{n=await t.json()}catch(a){throw new bc(Qn(a),a)}let r;const s=_g(t);if(s&&s.getTime()>=mc["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ml(Qn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new On}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new Ml(Qn(n),t.status,n.weak_password.reasons);throw new bg(Qn(n),t.status||500,r)}const Sg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Ue(t,e,n,r){var s;const a=Object.assign({},r==null?void 0:r.headers);a[Mo]||(a[Mo]=mc["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const f=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await Og(t,e,n+f,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Og(t,e,n,r,s,a){const l=Sg(e,r,s,a);let f;try{f=await t(n,Object.assign({},l))}catch(c){throw console.error(c),new Fo(Qn(c),0)}if(f.ok||await Fl(f),r!=null&&r.noResolveJson)return f;try{return await f.json()}catch(c){await Fl(c)}}function Pn(t){var e;let n=null;Ag(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=ag(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Ul(t){const e=Pn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Rn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Pg(t){return{data:t,error:null}}function Tg(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a}=t,l=xg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a},c=Object.assign({},l);return{data:{properties:f,user:c},error:null}}function Cg(t){return t}function Ag(t){return t.access_token&&t.refresh_token&&t.expires_in}var jg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class Rg{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=vc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await Ue(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Rn})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=jg(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Tg,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Le(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ue(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Rn})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,a,l,f,c;try{const y={nextPage:null,lastPage:0,total:0},g=await Ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Cg});if(g.error)throw g.error;const b=await g.json(),R=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,H=(c=(f=g.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&c!==void 0?c:[];return H.length>0&&(H.forEach(se=>{const fe=parseInt(se.split(";")[0].split("=")[1].substring(0,1)),_e=JSON.parse(se.split(";")[1].split("=")[1]);y[`${_e}Page`]=fe}),y.total=parseInt(R)),{data:Object.assign(Object.assign({},b),y),error:null}}catch(y){if(Le(y))return{data:{users:[]},error:y};throw y}}async getUserById(e){try{return await Ue(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Rn})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await Ue(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Rn})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Rn})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await Ue(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}}}const Ig={getItem:t=>Yr()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Yr()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Yr()&&globalThis.localStorage.removeItem(t)}};function Kl(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Dg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const pr={debug:!!(globalThis&&Yr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wc extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class $g extends wc{}async function Lg(t,e,n){pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),pr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new $g(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(pr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}Dg();const Mg={url:ig,storageKey:sg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:og,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Br=30*1e3,Nl=3;async function Bl(t,e,n){return await n()}class ri{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ri.nextInstanceID,ri.nextInstanceID+=1,this.instanceID>0&&Xt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Mg),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Rg({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=vc(s.fetch),this.lock=s.lock||Bl,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Xt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Lg:this.lock=Bl,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Yr()?this.storage=Ig:(this.memoryStorage={},this.storage=Kl(this.memoryStorage)):(this.memoryStorage={},this.storage=Kl(this.memoryStorage)),Xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yc}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=Xt()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.code)==="identity_already_exists"?{error:r}:(await this._removeSession(),{error:r});const{session:s,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return Le(e)?{error:e}:{error:new bc("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const a=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Pn}),{data:l,error:f}=a;if(f||!l)return{data:{user:null,session:null},error:f};const c=l.session,y=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:y,session:c},error:null}}catch(a){if(Le(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,s;try{let a;if("email"in e){const{email:g,password:b,options:R}=e;let H=null,se=null;this.flowType==="pkce"&&([H,se]=await dr(this.storage,this.storageKey)),a=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:R==null?void 0:R.emailRedirectTo,body:{email:g,password:b,data:(n=R==null?void 0:R.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:R==null?void 0:R.captchaToken},code_challenge:H,code_challenge_method:se},xform:Pn})}else if("phone"in e){const{phone:g,password:b,options:R}=e;a=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:b,data:(r=R==null?void 0:R.data)!==null&&r!==void 0?r:{},channel:(s=R==null?void 0:R.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:R==null?void 0:R.captchaToken}},xform:Pn})}else throw new Ki("You must provide either an email or phone number and a password");const{data:l,error:f}=a;if(f||!l)return{data:{user:null,session:null},error:f};const c=l.session,y=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:y,session:c},error:null}}catch(a){if(Le(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:l,options:f}=e;n=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ul})}else if("phone"in e){const{phone:a,password:l,options:f}=e;n=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ul})}else throw new Ki("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new go}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Le(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Fi(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:a,error:l}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Pn});if(await Ui(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new go}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:l})}catch(a){if(Le(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:a,nonce:l}=e,f=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Pn}),{data:c,error:y}=f;return y?{data:{user:null,session:null},error:y}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new go}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:y})}catch(n){if(Le(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,a,l;try{if("email"in e){const{email:f,options:c}=e;let y=null,g=null;this.flowType==="pkce"&&([y,g]=await dr(this.storage,this.storageKey));const{error:b}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:y,code_challenge_method:g},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in e){const{phone:f,options:c}=e,{data:y,error:g}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:y==null?void 0:y.message_id},error:g}}throw new Ki("You must provide either an email or phone number.")}catch(f){if(Le(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(e){var n,r;try{let s,a;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:f}=await Ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Pn});if(f)throw f;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,y=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:y,session:c},error:null}}catch(s){if(Le(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await dr(this.storage,this.storageKey)),await Ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Pg})}catch(a){if(Le(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new On;const{error:s}=await Ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Le(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:a}=e,{error:l}=await Ue(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:r,type:s,options:a}=e,{data:l,error:f}=await Ue(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:f}}throw new Ki("You must provide either an email or phone number and a type")}catch(n){if(Le(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Fi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,y,g)=>(!l&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,y,g))})}return{data:{session:e},error:null}}const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Rn}):await this._useSession(async n=>{var r,s,a;const{data:l,error:f}=n;if(f)throw f;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new On}:await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Rn})})}catch(n){if(Le(n))return kg(n)&&(await this._removeSession(),await Ui(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:a}=r;if(a)throw a;if(!s.session)throw new On;const l=s.session;let f=null,c=null;this.flowType==="pkce"&&e.email!=null&&([f,c]=await dr(this.storage,this.storageKey));const{data:y,error:g}=await Ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:c}),jwt:l.access_token,xform:Rn});if(g)throw g;return l.user=y.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return $l(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new On;const n=Date.now()/1e3;let r=n,s=!0,a=null;const l=$l(e.access_token);if(l.exp&&(r=l.exp,s=r<=n),s){const{session:f,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!f)return{data:{user:null,session:null},error:null};a=f}else{const{data:f,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Le(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:l,error:f}=n;if(f)throw f;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new On;const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Le(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e){try{if(!Xt())throw new Ni("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Ni("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new Ll("Not a valid PKCE flow url.");const n=po(window.location.href);if(e){if(!n.code)throw new Ll("No code detected.");const{data:we,error:be}=await this._exchangeCodeForSession(n.code);if(be)throw be;const ae=new URL(window.location.href);return ae.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ae.toString()),{data:{session:we.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new Ni(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:l,expires_in:f,expires_at:c,token_type:y}=n;if(!a||!f||!l||!y)throw new Ni("No session defined in URL");const g=Math.round(Date.now()/1e3),b=parseInt(f);let R=g+b;c&&(R=parseInt(c));const H=R-g;H*1e3<=Br&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${H}s, should have been closer to ${b}s`);const se=R-b;g-se>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",se,R,g):g-se<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",se,R,g);const{data:fe,error:_e}=await this._getUser(a);if(_e)throw _e;const le={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:b,expires_at:R,refresh_token:l,token_type:y,user:fe.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:le,redirectType:n.type},error:null}}catch(n){if(Le(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const e=po(window.location.href);return!!(Xt()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=po(window.location.href),n=await Fi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{error:a};const l=(r=s.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:f}=await this.admin.signOut(l,e);if(f&&!(wg(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return e!=="others"&&(await this._removeSession(),await Ui(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=lg(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:a},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await dr(this.storage,this.storageKey,!0));try{return await Ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Le(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async a=>{var l,f,c,y,g;const{data:b,error:R}=a;if(R)throw R;const H=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ue(this.fetch,"GET",H,{headers:this.headers,jwt:(g=(y=b.session)===null||y===void 0?void 0:y.access_token)!==null&&g!==void 0?g:void 0})});if(s)throw s;return Xt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Le(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:a,error:l}=n;if(l)throw l;return await Ue(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await hg(async s=>(s>0&&await fg(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Pn})),(s,a)=>{const l=200*Math.pow(2,s);return a&&yo(a)&&Date.now()+l-r<Br})}catch(r){if(this._debug(n,"error",r),Le(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Xt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Fi(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),a=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+Dl;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Dl}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:l}=await this._callRefreshToken(r.refresh_token);l&&(console.error(l),yo(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new On;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new _s;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new On;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const f={session:a.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(a){if(this._debug(s,"error",a),Le(a)){const l={session:null,error:a};return yo(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,n)}catch(c){a.push(c)}});if(await Promise.all(l),a.length>0){for(let f=0;f<a.length;f+=1)console.error(a[f]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await _c(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ui(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Br);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Br);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Br}ms, refresh threshold is ${Nl} ticks`),s<=Nl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof wc)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await dr(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(f.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);s.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await Ue(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:a,error:l}=n;if(l)return{data:null,error:l};const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:y}=await Ue(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return y?{data:null,error:y}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{data:null,error:a};const{data:l,error:f}=await Ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:f})})}catch(n){if(Le(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await Ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Le(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),a=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:a}=e;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const l=this._decodeJWT(s.access_token);let f=null;l.aal&&(f=l.aal);let c=f;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(b=>b.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const g=l.amr||[];return{data:{currentLevel:f,nextLevel:c,currentAuthenticationMethods:g},error:null}}))}}ri.nextInstanceID=0;const Fg=ri;class Ug extends Fg{constructor(e){super(e)}}var Kg=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function f(g){try{y(r.next(g))}catch(b){l(b)}}function c(g){try{y(r.throw(g))}catch(b){l(b)}}function y(g){g.done?a(g.value):s(g.value).then(f,c)}y((r=r.apply(t,e||[])).next())})};class Ng{constructor(e,n,r){var s,a,l;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const f=ng(e);this.realtimeUrl=`${f}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${f}/auth/v1`,this.storageUrl=`${f}/storage/v1`,this.functionsUrl=`${f}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,y={db:Jp,realtime:Qp,auth:Object.assign(Object.assign({},Gp),{storageKey:c}),global:zp},g=rg(r??{},y);this.storageKey=(s=g.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=g.global.headers)!==null&&a!==void 0?a:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(b,R)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(R)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=g.auth)!==null&&l!==void 0?l:{},this.headers,g.global.fetch),this.fetch=eg(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},g.realtime)),this.rest=new gp(`${f}/rest/v1`,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),g.accessToken||this._listenForAuthEvents()}get functions(){return new Hd(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Vp(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Kg(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:a,flowType:l,lock:f,debug:c},y,g){var b;const R={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ug({url:this.authUrl,headers:Object.assign(Object.assign({},R),y),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:l,lock:f,debug:c,fetch:g,hasCustomAuthorizationHeader:(b="Authorization"in this.headers)!==null&&b!==void 0?b:!1})}_initRealtimeClient(e){return new Ap(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Bg=(t,e,n)=>new Ng(t,e,n),qg="https://oqwvljqwtearyepyaslo.supabase.co",Vg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xd3ZsanF3dGVhcnllcHlhc2xvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzEwODA1NjIsImV4cCI6MjA0NjY1NjU2Mn0.31HmSCfXawvkzhevPCaKWoVCZyD_elcQOCtgFWJMRKI",In=Bg(qg,Vg),Hg={components:{AudioPlayerTaigi:Xu,IconPlayAudio:Gr},setup(){const t=Tn([]),e=Tn(""),n=Tn(!0),r=Tn(null),s=Tn(!1),a=Tn({partofspeech:"",def_english:"",def_chinese:""});return{words:t,searchQuery:e,exactSearch:n,word:r,showDialog:s,newDefinition:a,clearInput:()=>{e.value="",t.value=[]},openEditDialog:le=>{s.value=!0,r.value={...le,definitions:le.definitions||[]}},closeDialog:()=>{s.value=!1},updateWord:async()=>{const{data:le,error:we}=await In.from("words").upsert({id:r.value.id,chinese:r.value.chinese,romaji:r.value.romaji,classification:r.value.classification,english:r.value.english});we?console.error("Error updating word:",we.message):console.log("Word updated successfully:",le)},updateDefinition:async(le,we)=>{const be=r.value.definitions[we],{data:ae,error:Oe}=await In.from("definitions").upsert({defid:le,wordid:r.value.id,partofspeech:be.partofspeech,def_english:be.def_english,def_chinese:be.def_chinese});Oe?console.error("Error updating definition:",Oe.message):console.log("Definition updated successfully:",ae)},deleteDefinition:async(le,we)=>{try{const{data:be,error:ae}=await In.from("definitions").delete().eq("defid",le);if(ae){console.error("Error deleting definition:",ae.message);return}r.value.definitions.splice(we,1),console.log("Definition deleted successfully:",be)}catch(be){console.error("Error in deleteDefinition:",be.message)}},addDefinition:async le=>{try{if(!le)throw new Error("No word ID provided.");const we={wordid:le,partofspeech:a.value.partofspeech,def_english:a.value.def_english,def_chinese:a.value.def_chinese},{data:be,error:ae}=await In.from("definitions").insert([we]).select();if(ae){console.error("Error adding definition:",ae.message);return}if(be&&be.length>0){const Oe=be[0];r.value.definitions||(r.value.definitions=[]),r.value.definitions.push(Oe),a.value={partofspeech:"",def_english:"",def_chinese:""},console.log("Definition added successfully:",Oe)}}catch(we){console.error("Error in addDefinition:",we.message)}},searchWords:async()=>{try{let le=In.from("words").select("id, english, chinese, romaji, audioid, taiwanese, english_mknoll, definitions (defid, def_english, def_chinese)");n.value?le=le.or(`chinese.eq.${e.value},english.eq.${e.value},english_mknoll.eq.${e.value},romaji.eq.${e.value},taiwanese.eq.${e.value}`):le=le.or(`chinese.ilike.%${e.value}%,english.ilike.%${e.value}%,english_mknoll.ilike.%${e.value}%,romaji.ilike.%${e.value}%,taiwanese.ilike.%${e.value}%`);const{data:we,error:be}=await le;be?console.error("Error fetching words:",be.message):t.value=we}catch(le){console.error("Error in searchWords:",le.message)}},readChinese:le=>Qu(le),readEnglish:le=>Yu(le),resetVoice:()=>window.speechSynthesis.cancel()}}},Wg={id:"supasearch"},zg={class:"search-words"},Jg={class:"exact-search-container"},Gg={class:"search-actions"},Qg={key:0,class:"results-count"},Yg={class:"results"},Xg={class:"word"},Zg={key:0,class:"word-item word-taigi alphabetic"},ey={key:1,class:"word-item word-taigi alphabetic"},ty={key:2,class:"word-item word-chinese logographic"},ny={key:0,class:"word-item word-english alphabetic"},ry={key:1,class:"word-item word-english alphabetic"},iy={class:"alphabetic"},sy={class:"logographic"},oy=["onClick"],ay={key:0,class:"edit-dialog"},ly={key:0},uy=["onSubmit"],cy=["onUpdate:modelValue"],fy=["onUpdate:modelValue"],hy=["onUpdate:modelValue"],dy=["onClick"];function py(t,e,n,r,s,a){const l=xo("AudioPlayerTaigi"),f=xo("IconPlayAudio");return Ve(),ot("div",Wg,[ne("div",zg,[Mt(ne("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=c=>r.searchQuery=c),onKeyup:e[1]||(e[1]=wd((...c)=>r.searchWords&&r.searchWords(...c),["enter"])),placeholder:"Search for a word...",class:"text-field search-words-text-field",autocapitalize:"off"},null,544),[[Bt,r.searchQuery]]),ne("div",Jg,[Mt(ne("input",{id:"exact-search",type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=c=>r.exactSearch=c)},null,512),[[yd,r.exactSearch]]),e[18]||(e[18]=ne("label",{for:"exact-search"},"Exact Search",-1))]),ne("div",Gg,[ne("button",{onClick:e[3]||(e[3]=(...c)=>r.searchWords&&r.searchWords(...c))},"Search"),ne("button",{onClick:e[4]||(e[4]=(...c)=>r.clearInput&&r.clearInput(...c))},"Clear"),ne("button",{onClick:e[5]||(e[5]=(...c)=>r.resetVoice&&r.resetVoice(...c))},"Reset Voice")]),r.words.length?(Ve(),ot("div",Qg,St(r.words.length)+" results found ",1)):vt("",!0)]),ne("ul",Yg,[(Ve(!0),ot(Ut,null,qi(r.words,c=>(Ve(),ot("li",{key:c.id,class:"entry"},[ne("div",Xg,[c.romaji!=null?(Ve(),ot("div",Zg,[an(St(c.romaji)+" ",1),c.audioid?(Ve(),mr(l,{key:0,audioID:c.audioid},null,8,["audioID"])):vt("",!0)])):vt("",!0),c.taiwanese!=null?(Ve(),ot("div",ey,St(c.taiwanese),1)):vt("",!0),c.chinese!=null?(Ve(),ot("div",ty,[an(St(c.chinese)+" ",1),$t(f,{onClick:y=>r.readChinese(c.chinese)},null,8,["onClick"])])):vt("",!0)]),c.english!=null?(Ve(),ot("div",ny,[an(St(c.english)+" ",1),$t(f,{onClick:y=>r.readEnglish(c.english)},null,8,["onClick"])])):vt("",!0),c.english_mknoll!=null?(Ve(),ot("div",ry,[an(St(c.english_mknoll)+" ",1),$t(f,{onClick:y=>r.readEnglish(c.english_mknoll)},null,8,["onClick"])])):vt("",!0),ne("ul",null,[(Ve(!0),ot(Ut,null,qi(c.definitions,y=>(Ve(),ot("li",{key:y.id},[ne("ul",null,[ne("li",iy,St(y.def_english),1),ne("li",sy,St(y.def_chinese),1)])]))),128))]),ne("button",{class:"edit-word",onClick:y=>r.openEditDialog(c)}," Edit word ",8,oy)]))),128))]),r.showDialog?(Ve(),ot("div",ay,[ne("button",{onClick:e[6]||(e[6]=(...c)=>r.closeDialog&&r.closeDialog(...c))},"Close"),ne("form",{onSubmit:e[13]||(e[13]=co((...c)=>r.updateWord&&r.updateWord(...c),["prevent"]))},[ne("div",null,[e[19]||(e[19]=ne("label",{for:"romaji"},"Romaji",-1)),Mt(ne("input",{"onUpdate:modelValue":e[7]||(e[7]=c=>r.word.romaji=c),type:"text",id:"romaji"},null,512),[[Bt,r.word.romaji]])]),ne("div",null,[e[20]||(e[20]=ne("label",{for:"romaji"},"Taiwanese",-1)),Mt(ne("input",{"onUpdate:modelValue":e[8]||(e[8]=c=>r.word.taiwanese=c),type:"text",id:"taiwanese"},null,512),[[Bt,r.word.taiwanese]])]),ne("div",null,[e[21]||(e[21]=ne("label",{for:"english"},"English",-1)),Mt(ne("input",{"onUpdate:modelValue":e[9]||(e[9]=c=>r.word.english=c),type:"text",id:"english"},null,512),[[Bt,r.word.english]])]),ne("div",null,[e[22]||(e[22]=ne("label",{for:"english_mknoll"},"English Mary Knoll",-1)),Mt(ne("input",{"onUpdate:modelValue":e[10]||(e[10]=c=>r.word.english_mknoll=c),type:"text",id:"english_mknoll"},null,512),[[Bt,r.word.english_mknoll]])]),ne("div",null,[e[23]||(e[23]=ne("label",{for:"chinese"},"Chinese",-1)),Mt(ne("input",{"onUpdate:modelValue":e[11]||(e[11]=c=>r.word.chinese=c),type:"text",id:"chinese"},null,512),[[Bt,r.word.chinese]])]),ne("div",null,[e[24]||(e[24]=ne("label",{for:"classification"},"Classification:",-1)),Mt(ne("input",{"onUpdate:modelValue":e[12]||(e[12]=c=>r.word.classification=c),type:"text",id:"classification"},null,512),[[Bt,r.word.classification]])]),e[25]||(e[25]=ne("button",{type:"submit"},"Save Word",-1))],32),r.word.definitions.length>0?(Ve(),ot("div",ly,[(Ve(!0),ot(Ut,null,qi(r.word.definitions,(c,y)=>(Ve(),ot("div",{key:c.defid},[ne("form",{onSubmit:co(g=>r.updateDefinition(c.defid,y),["prevent"])},[ne("div",null,[e[26]||(e[26]=ne("label",{for:"def_english"},"English Definition:",-1)),Mt(ne("textarea",{"onUpdate:modelValue":g=>c.def_english=g,id:"def_english"},null,8,cy),[[Bt,c.def_english]])]),ne("div",null,[e[27]||(e[27]=ne("label",{for:"def_chinese"},"Chinese Definition:",-1)),Mt(ne("input",{"onUpdate:modelValue":g=>c.def_chinese=g,type:"text",id:"def_chinese"},null,8,fy),[[Bt,c.def_chinese]])]),ne("div",null,[e[28]||(e[28]=ne("label",{for:"partofspeech"},"Part of Speech:",-1)),Mt(ne("input",{"onUpdate:modelValue":g=>c.partofspeech=g,type:"text",id:"partofspeech"},null,8,hy),[[Bt,c.partofspeech]])]),e[29]||(e[29]=ne("button",{type:"submit"},"Save Definition",-1)),ne("button",{type:"button",onClick:g=>r.deleteDefinition(c.defid,y)}," Delete Definition ",8,dy)],40,uy)]))),128))])):vt("",!0),ne("div",null,[e[34]||(e[34]=an(" add a new definition ")),ne("form",{onSubmit:e[17]||(e[17]=co(c=>r.addDefinition(r.word.id),["prevent"]))},[ne("div",null,[e[30]||(e[30]=ne("label",{for:"partofspeech"},"Part of Speech:",-1)),Mt(ne("input",{"onUpdate:modelValue":e[14]||(e[14]=c=>r.newDefinition.partofspeech=c),id:"partofspeech"},null,512),[[Bt,r.newDefinition.partofspeech]])]),ne("div",null,[e[31]||(e[31]=ne("label",{for:"def_english"},"English Definition:",-1)),Mt(ne("textarea",{"onUpdate:modelValue":e[15]||(e[15]=c=>r.newDefinition.def_english=c),id:"def_english"},null,512),[[Bt,r.newDefinition.def_english]])]),ne("div",null,[e[32]||(e[32]=ne("label",{for:"def_chinese"},"Chinese Definition:",-1)),Mt(ne("textarea",{"onUpdate:modelValue":e[16]||(e[16]=c=>r.newDefinition.def_chinese=c),id:"def_chinese"},null,512),[[Bt,r.newDefinition.def_chinese]])]),e[33]||(e[33]=ne("button",{type:"submit"},"Add Definition",-1))],32)])])):vt("",!0)])}const gy=hs(Hg,[["render",py],["__scopeId","data-v-559dc473"]]),yy={key:0,class:"rw"},my={class:"rw-words"},vy={class:"rw-words-main"},_y={key:0,class:"rw-word-item rw-taigi alphabetic"},by={key:1,class:"rw-word-item rw-taigi alphabetic"},wy={key:2,class:"rw-word-item rw-chinese logographic"},ky={key:0,class:"rw-word-item rw-english alphabetic"},xy={key:1,class:"rw-word-item rw-english alphabetic"},Ey={class:"logographic"},Sy={class:"alphabetic"},Oy={__name:"RandomWord",setup(t){const e=Tn(null),n=async()=>{try{const{count:a}=await In.from("words").select("*",{count:"exact",head:!0}),l=Math.floor(Math.random()*a),{data:f,error:c}=await In.from("words").select("*").range(l,l).limit(1);if(c)throw new Error(c.message);const y=f[0],{data:g,error:b}=await In.from("definitions").select("*").eq("wordid",y.id);if(b)throw new Error(b.message);y.definitions=g,e.value=y,console.log(e)}catch(a){console.error("Error fetching random word and definitions:",a.message)}};ia(n);const r=async a=>{Qu(a)},s=async a=>{Yu(a)};return(a,l)=>e.value?(Ve(),ot("div",yy,[l[3]||(l[3]=ne("h4",null,"Random word",-1)),ne("div",my,[ne("div",vy,[e.value.romaji?(Ve(),ot("div",_y,[an(St(e.value.romaji)+" ",1),e.value.audioid?(Ve(),mr(Xu,{key:0,audioID:e.value.audioid},null,8,["audioID"])):vt("",!0)])):vt("",!0),e.value.taiwanese?(Ve(),ot("div",by,St(e.value.taiwanese),1)):vt("",!0),e.value.chinese?(Ve(),ot("div",wy,[an(St(e.value.chinese)+" ",1),e.value.chinese?(Ve(),mr(Gr,{key:0,onClick:l[0]||(l[0]=f=>r(e.value.chinese))})):vt("",!0)])):vt("",!0)]),e.value.english?(Ve(),ot("div",ky,[an(St(e.value.english)+" ",1),e.value.english?(Ve(),mr(Gr,{key:0,onClick:l[1]||(l[1]=f=>s(e.value.english))})):vt("",!0)])):vt("",!0),e.value.english_mknoll?(Ve(),ot("div",xy,[an(St(e.value.english_mknoll)+" ",1),e.value.english_mknoll?(Ve(),mr(Gr,{key:0,onClick:l[2]||(l[2]=f=>s(e.value.english_mknoll))})):vt("",!0)])):vt("",!0)]),(Ve(!0),ot(Ut,null,qi(e.value.definitions,(f,c)=>(Ve(),ot("div",{key:f.defid,class:"rw-definitions"},[ne("ul",null,[ne("li",Ey,St(f.def_chinese),1),ne("li",Sy,St(f.def_english),1)])]))),128)),ne("button",{onClick:n},"Next word")])):vt("",!0)}},Py=hs(Oy,[["__scopeId","data-v-32914035"]]),Ty={__name:"App",setup(t){const e=Tn(!1);return ia(async()=>{e.value=await Dn.words.count()>0&&await Dn.definitions.count()>0,console.log(Dn),e.value?console.log("Data is available in IndexedDB."):(console.log("No data in IndexedDB."),Ad())}),(n,r)=>(Ve(),ot(Ut,null,[r[0]||(r[0]=ne("header",null,[ne("div")],-1)),ne("main",null,[$t(gy),$t(Py)]),r[1]||(r[1]=ne("footer",null,null,-1))],64))}};Ed(Ty).mount("#app");export{zu as g};
