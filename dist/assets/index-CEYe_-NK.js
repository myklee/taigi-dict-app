(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();/**
* @vue/shared v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Uo(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const rt={},vr=[],un=()=>{},Jc=()=>!1,ts=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ko=t=>t.startsWith("onUpdate:"),At=Object.assign,Bo=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Gc=Object.prototype.hasOwnProperty,ze=(t,e)=>Gc.call(t,e),xe=Array.isArray,_r=t=>ii(t)==="[object Map]",ns=t=>ii(t)==="[object Set]",Va=t=>ii(t)==="[object Date]",Te=t=>typeof t=="function",vt=t=>typeof t=="string",cn=t=>typeof t=="symbol",lt=t=>t!==null&&typeof t=="object",Vl=t=>(lt(t)||Te(t))&&Te(t.then)&&Te(t.catch),Hl=Object.prototype.toString,ii=t=>Hl.call(t),Qc=t=>ii(t).slice(8,-1),Wl=t=>ii(t)==="[object Object]",No=t=>vt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Hr=Uo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),rs=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Yc=/-(\w)/g,Qt=rs(t=>t.replace(Yc,(e,n)=>n?n.toUpperCase():"")),Xc=/\B([A-Z])/g,Ln=rs(t=>t.replace(Xc,"-$1").toLowerCase()),is=rs(t=>t.charAt(0).toUpperCase()+t.slice(1)),Zs=rs(t=>t?`on${is(t)}`:""),$n=(t,e)=>!Object.is(t,e),qi=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},zl=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},vo=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Ha;const Jl=()=>Ha||(Ha=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function qo(t){if(xe(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=vt(r)?nf(r):qo(r);if(s)for(const a in s)e[a]=s[a]}return e}else if(vt(t)||lt(t))return t}const Zc=/;(?![^(]*\))/g,ef=/:([^]+)/,tf=/\/\*[^]*?\*\//g;function nf(t){const e={};return t.replace(tf,"").split(Zc).forEach(n=>{if(n){const r=n.split(ef);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Vo(t){let e="";if(vt(t))e=t;else if(xe(t))for(let n=0;n<t.length;n++){const r=Vo(t[n]);r&&(e+=r+" ")}else if(lt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const rf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",sf=Uo(rf);function Gl(t){return!!t||t===""}function of(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=ss(t[r],e[r]);return n}function ss(t,e){if(t===e)return!0;let n=Va(t),r=Va(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=cn(t),r=cn(e),n||r)return t===e;if(n=xe(t),r=xe(e),n||r)return n&&r?of(t,e):!1;if(n=lt(t),r=lt(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,a=Object.keys(e).length;if(s!==a)return!1;for(const l in t){const c=t.hasOwnProperty(l),h=e.hasOwnProperty(l);if(c&&!h||!c&&h||!ss(t[l],e[l]))return!1}}return String(t)===String(e)}function Ql(t,e){return t.findIndex(n=>ss(n,e))}const Yl=t=>!!(t&&t.__v_isRef===!0),St=t=>vt(t)?t:t==null?"":xe(t)||lt(t)&&(t.toString===Hl||!Te(t.toString))?Yl(t)?St(t.value):JSON.stringify(t,Xl,2):String(t),Xl=(t,e)=>Yl(e)?Xl(t,e.value):_r(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],a)=>(n[eo(r,a)+" =>"]=s,n),{})}:ns(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>eo(n))}:cn(e)?eo(e):lt(e)&&!xe(e)&&!Wl(e)?String(e):e,eo=(t,e="")=>{var n;return cn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ht;class af{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ht,!e&&Ht&&(this.index=(Ht.scopes||(Ht.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Ht;try{return Ht=this,e()}finally{Ht=n}}}on(){Ht=this}off(){Ht=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function lf(){return Ht}let ot;const to=new WeakSet;class Zl{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ht&&Ht.active&&Ht.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,to.has(this)&&(to.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||tu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Wa(this),nu(this);const e=ot,n=tn;ot=this,tn=!0;try{return this.fn()}finally{ru(this),ot=e,tn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)zo(e);this.deps=this.depsTail=void 0,Wa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?to.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){_o(this)&&this.run()}get dirty(){return _o(this)}}let eu=0,yr;function tu(t){t.flags|=8,t.next=yr,yr=t}function Ho(){eu++}function Wo(){if(--eu>0)return;let t;for(;yr;){let e=yr,n;for(;e;)e.flags&1||(e.flags&=-9),e=e.next;for(e=yr,yr=void 0;e;){if(n=e.next,e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function nu(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function ru(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),zo(r),uf(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function _o(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(iu(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function iu(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Xr))return;t.globalVersion=Xr;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!_o(t)){t.flags&=-3;return}const n=ot,r=tn;ot=t,tn=!0;try{nu(t);const s=t.fn(t._value);(e.version===0||$n(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{ot=n,tn=r,ru(t),t.flags&=-3}}function zo(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r),!n.subs&&n.computed){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)zo(a,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function uf(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let tn=!0;const su=[];function Mn(){su.push(tn),tn=!1}function Fn(){const t=su.pop();tn=t===void 0?!0:t}function Wa(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=ot;ot=void 0;try{e()}finally{ot=n}}}let Xr=0;class cf{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Jo{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.target=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!ot||!tn||ot===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ot)n=this.activeLink=new cf(ot,this),ot.deps?(n.prevDep=ot.depsTail,ot.depsTail.nextDep=n,ot.depsTail=n):ot.deps=ot.depsTail=n,ou(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=ot.depsTail,n.nextDep=void 0,ot.depsTail.nextDep=n,ot.depsTail=n,ot.deps===n&&(ot.deps=r)}return n}trigger(e){this.version++,Xr++,this.notify(e)}notify(e){Ho();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Wo()}}}function ou(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)ou(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const bo=new WeakMap,Zn=Symbol(""),wo=Symbol(""),Zr=Symbol("");function jt(t,e,n){if(tn&&ot){let r=bo.get(t);r||bo.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new Jo),s.target=t,s.map=r,s.key=n),s.track()}}function vn(t,e,n,r,s,a){const l=bo.get(t);if(!l){Xr++;return}const c=h=>{h&&h.trigger()};if(Ho(),e==="clear")l.forEach(c);else{const h=xe(t),y=h&&No(n);if(h&&n==="length"){const p=Number(r);l.forEach((b,j)=>{(j==="length"||j===Zr||!cn(j)&&j>=p)&&c(b)})}else switch(n!==void 0&&c(l.get(n)),y&&c(l.get(Zr)),e){case"add":h?y&&c(l.get("length")):(c(l.get(Zn)),_r(t)&&c(l.get(wo)));break;case"delete":h||(c(l.get(Zn)),_r(t)&&c(l.get(wo)));break;case"set":_r(t)&&c(l.get(Zn));break}}Wo()}function fr(t){const e=Je(t);return e===t?e:(jt(e,"iterate",Zr),Gt(t)?e:e.map(Ot))}function os(t){return jt(t=Je(t),"iterate",Zr),t}const ff={__proto__:null,[Symbol.iterator](){return no(this,Symbol.iterator,Ot)},concat(...t){return fr(this).concat(...t.map(e=>xe(e)?fr(e):e))},entries(){return no(this,"entries",t=>(t[1]=Ot(t[1]),t))},every(t,e){return gn(this,"every",t,e,void 0,arguments)},filter(t,e){return gn(this,"filter",t,e,n=>n.map(Ot),arguments)},find(t,e){return gn(this,"find",t,e,Ot,arguments)},findIndex(t,e){return gn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return gn(this,"findLast",t,e,Ot,arguments)},findLastIndex(t,e){return gn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return gn(this,"forEach",t,e,void 0,arguments)},includes(...t){return ro(this,"includes",t)},indexOf(...t){return ro(this,"indexOf",t)},join(t){return fr(this).join(t)},lastIndexOf(...t){return ro(this,"lastIndexOf",t)},map(t,e){return gn(this,"map",t,e,void 0,arguments)},pop(){return Ur(this,"pop")},push(...t){return Ur(this,"push",t)},reduce(t,...e){return za(this,"reduce",t,e)},reduceRight(t,...e){return za(this,"reduceRight",t,e)},shift(){return Ur(this,"shift")},some(t,e){return gn(this,"some",t,e,void 0,arguments)},splice(...t){return Ur(this,"splice",t)},toReversed(){return fr(this).toReversed()},toSorted(t){return fr(this).toSorted(t)},toSpliced(...t){return fr(this).toSpliced(...t)},unshift(...t){return Ur(this,"unshift",t)},values(){return no(this,"values",Ot)}};function no(t,e,n){const r=os(t),s=r[e]();return r!==t&&!Gt(t)&&(s._next=s.next,s.next=()=>{const a=s._next();return a.value&&(a.value=n(a.value)),a}),s}const hf=Array.prototype;function gn(t,e,n,r,s,a){const l=os(t),c=l!==t&&!Gt(t),h=l[e];if(h!==hf[e]){const b=h.apply(t,a);return c?Ot(b):b}let y=n;l!==t&&(c?y=function(b,j){return n.call(this,Ot(b),j,t)}:n.length>2&&(y=function(b,j){return n.call(this,b,j,t)}));const p=h.call(l,y,r);return c&&s?s(p):p}function za(t,e,n,r){const s=os(t);let a=n;return s!==t&&(Gt(t)?n.length>3&&(a=function(l,c,h){return n.call(this,l,c,h,t)}):a=function(l,c,h){return n.call(this,l,Ot(c),h,t)}),s[e](a,...r)}function ro(t,e,n){const r=Je(t);jt(r,"iterate",Zr);const s=r[e](...n);return(s===-1||s===!1)&&Zo(n[0])?(n[0]=Je(n[0]),r[e](...n)):s}function Ur(t,e,n=[]){Mn(),Ho();const r=Je(t)[e].apply(t,n);return Wo(),Fn(),r}const df=Uo("__proto__,__v_isRef,__isVue"),au=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(cn));function pf(t){cn(t)||(t=String(t));const e=Je(this);return jt(e,"has",t),e.hasOwnProperty(t)}class lu{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const s=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return a;if(n==="__v_raw")return r===(s?a?Pf:hu:a?fu:cu).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const l=xe(e);if(!s){let h;if(l&&(h=ff[n]))return h;if(n==="hasOwnProperty")return pf}const c=Reflect.get(e,n,Ct(e)?e:r);return(cn(n)?au.has(n):df(n))||(s||jt(e,"get",n),a)?c:Ct(c)?l&&No(n)?c:c.value:lt(c)?s?du(c):Yo(c):c}}class uu extends lu{constructor(e=!1){super(!1,e)}set(e,n,r,s){let a=e[n];if(!this._isShallow){const h=er(a);if(!Gt(r)&&!er(r)&&(a=Je(a),r=Je(r)),!xe(e)&&Ct(a)&&!Ct(r))return h?!1:(a.value=r,!0)}const l=xe(e)&&No(n)?Number(n)<e.length:ze(e,n),c=Reflect.set(e,n,r,Ct(e)?e:s);return e===Je(s)&&(l?$n(r,a)&&vn(e,"set",n,r):vn(e,"add",n,r)),c}deleteProperty(e,n){const r=ze(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&vn(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!cn(n)||!au.has(n))&&jt(e,"has",n),r}ownKeys(e){return jt(e,"iterate",xe(e)?"length":Zn),Reflect.ownKeys(e)}}class gf extends lu{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const yf=new uu,mf=new gf,vf=new uu(!0);const Go=t=>t,as=t=>Reflect.getPrototypeOf(t);function Ii(t,e,n=!1,r=!1){t=t.__v_raw;const s=Je(t),a=Je(e);n||($n(e,a)&&jt(s,"get",e),jt(s,"get",a));const{has:l}=as(s),c=r?Go:n?ea:Ot;if(l.call(s,e))return c(t.get(e));if(l.call(s,a))return c(t.get(a));t!==s&&t.get(e)}function Di(t,e=!1){const n=this.__v_raw,r=Je(n),s=Je(t);return e||($n(t,s)&&jt(r,"has",t),jt(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function $i(t,e=!1){return t=t.__v_raw,!e&&jt(Je(t),"iterate",Zn),Reflect.get(t,"size",t)}function Ja(t,e=!1){!e&&!Gt(t)&&!er(t)&&(t=Je(t));const n=Je(this);return as(n).has.call(n,t)||(n.add(t),vn(n,"add",t,t)),this}function Ga(t,e,n=!1){!n&&!Gt(e)&&!er(e)&&(e=Je(e));const r=Je(this),{has:s,get:a}=as(r);let l=s.call(r,t);l||(t=Je(t),l=s.call(r,t));const c=a.call(r,t);return r.set(t,e),l?$n(e,c)&&vn(r,"set",t,e):vn(r,"add",t,e),this}function Qa(t){const e=Je(this),{has:n,get:r}=as(e);let s=n.call(e,t);s||(t=Je(t),s=n.call(e,t)),r&&r.call(e,t);const a=e.delete(t);return s&&vn(e,"delete",t,void 0),a}function Ya(){const t=Je(this),e=t.size!==0,n=t.clear();return e&&vn(t,"clear",void 0,void 0),n}function Li(t,e){return function(r,s){const a=this,l=a.__v_raw,c=Je(l),h=e?Go:t?ea:Ot;return!t&&jt(c,"iterate",Zn),l.forEach((y,p)=>r.call(s,h(y),h(p),a))}}function Mi(t,e,n){return function(...r){const s=this.__v_raw,a=Je(s),l=_r(a),c=t==="entries"||t===Symbol.iterator&&l,h=t==="keys"&&l,y=s[t](...r),p=n?Go:e?ea:Ot;return!e&&jt(a,"iterate",h?wo:Zn),{next(){const{value:b,done:j}=y.next();return j?{value:b,done:j}:{value:c?[p(b[0]),p(b[1])]:p(b),done:j}},[Symbol.iterator](){return this}}}}function On(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function _f(){const t={get(a){return Ii(this,a)},get size(){return $i(this)},has:Di,add:Ja,set:Ga,delete:Qa,clear:Ya,forEach:Li(!1,!1)},e={get(a){return Ii(this,a,!1,!0)},get size(){return $i(this)},has:Di,add(a){return Ja.call(this,a,!0)},set(a,l){return Ga.call(this,a,l,!0)},delete:Qa,clear:Ya,forEach:Li(!1,!0)},n={get(a){return Ii(this,a,!0)},get size(){return $i(this,!0)},has(a){return Di.call(this,a,!0)},add:On("add"),set:On("set"),delete:On("delete"),clear:On("clear"),forEach:Li(!0,!1)},r={get(a){return Ii(this,a,!0,!0)},get size(){return $i(this,!0)},has(a){return Di.call(this,a,!0)},add:On("add"),set:On("set"),delete:On("delete"),clear:On("clear"),forEach:Li(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{t[a]=Mi(a,!1,!1),n[a]=Mi(a,!0,!1),e[a]=Mi(a,!1,!0),r[a]=Mi(a,!0,!0)}),[t,n,e,r]}const[bf,wf,kf,xf]=_f();function Qo(t,e){const n=e?t?xf:kf:t?wf:bf;return(r,s,a)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(ze(n,s)&&s in r?n:r,s,a)}const Ef={get:Qo(!1,!1)},Sf={get:Qo(!1,!0)},Of={get:Qo(!0,!1)};const cu=new WeakMap,fu=new WeakMap,hu=new WeakMap,Pf=new WeakMap;function Tf(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Cf(t){return t.__v_skip||!Object.isExtensible(t)?0:Tf(Qc(t))}function Yo(t){return er(t)?t:Xo(t,!1,yf,Ef,cu)}function Af(t){return Xo(t,!1,vf,Sf,fu)}function du(t){return Xo(t,!0,mf,Of,hu)}function Xo(t,e,n,r,s){if(!lt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const a=s.get(t);if(a)return a;const l=Cf(t);if(l===0)return t;const c=new Proxy(t,l===2?r:n);return s.set(t,c),c}function br(t){return er(t)?br(t.__v_raw):!!(t&&t.__v_isReactive)}function er(t){return!!(t&&t.__v_isReadonly)}function Gt(t){return!!(t&&t.__v_isShallow)}function Zo(t){return t?!!t.__v_raw:!1}function Je(t){const e=t&&t.__v_raw;return e?Je(e):t}function jf(t){return!ze(t,"__v_skip")&&Object.isExtensible(t)&&zl(t,"__v_skip",!0),t}const Ot=t=>lt(t)?Yo(t):t,ea=t=>lt(t)?du(t):t;function Ct(t){return t?t.__v_isRef===!0:!1}function an(t){return Rf(t,!1)}function Rf(t,e){return Ct(t)?t:new If(t,e)}class If{constructor(e,n){this.dep=new Jo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Je(e),this._value=n?e:Ot(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Gt(e)||er(e);e=r?e:Je(e),$n(e,n)&&(this._rawValue=e,this._value=r?e:Ot(e),this.dep.trigger())}}function Df(t){return Ct(t)?t.value:t}const $f={get:(t,e,n)=>e==="__v_raw"?t:Df(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Ct(s)&&!Ct(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function pu(t){return br(t)?t:new Proxy(t,$f)}class Lf{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Jo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Xr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ot!==this)return tu(this),!0}get value(){const e=this.dep.track();return iu(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Mf(t,e,n=!1){let r,s;return Te(t)?r=t:(r=t.get,s=t.set),new Lf(r,s,n)}const Fi={},Ji=new WeakMap;let Gn;function Ff(t,e=!1,n=Gn){if(n){let r=Ji.get(n);r||Ji.set(n,r=[]),r.push(t)}}function Uf(t,e,n=rt){const{immediate:r,deep:s,once:a,scheduler:l,augmentJob:c,call:h}=n,y=fe=>s?fe:Gt(fe)||s===!1||s===0?mn(fe,1):mn(fe);let p,b,j,H,Y=!1,ae=!1;if(Ct(t)?(b=()=>t.value,Y=Gt(t)):br(t)?(b=()=>y(t),Y=!0):xe(t)?(ae=!0,Y=t.some(fe=>br(fe)||Gt(fe)),b=()=>t.map(fe=>{if(Ct(fe))return fe.value;if(br(fe))return y(fe);if(Te(fe))return h?h(fe,2):fe()})):Te(t)?e?b=h?()=>h(t,2):t:b=()=>{if(j){Mn();try{j()}finally{Fn()}}const fe=Gn;Gn=p;try{return h?h(t,3,[H]):t(H)}finally{Gn=fe}}:b=un,e&&s){const fe=b,Le=s===!0?1/0:s;b=()=>mn(fe(),Le)}const ye=lf(),we=()=>{p.stop(),ye&&Bo(ye.effects,p)};if(a&&e){const fe=e;e=(...Le)=>{fe(...Le),we()}}let je=ae?new Array(t.length).fill(Fi):Fi;const Re=fe=>{if(!(!(p.flags&1)||!p.dirty&&!fe))if(e){const Le=p.run();if(s||Y||(ae?Le.some((Ze,_e)=>$n(Ze,je[_e])):$n(Le,je))){j&&j();const Ze=Gn;Gn=p;try{const _e=[Le,je===Fi?void 0:ae&&je[0]===Fi?[]:je,H];h?h(e,3,_e):e(..._e),je=Le}finally{Gn=Ze}}}else p.run()};return c&&c(Re),p=new Zl(b),p.scheduler=l?()=>l(Re,!1):Re,H=fe=>Ff(fe,!1,p),j=p.onStop=()=>{const fe=Ji.get(p);if(fe){if(h)h(fe,4);else for(const Le of fe)Le();Ji.delete(p)}},e?r?Re(!0):je=p.run():l?l(Re.bind(null,!0),!0):p.run(),we.pause=p.pause.bind(p),we.resume=p.resume.bind(p),we.stop=we,we}function mn(t,e=1/0,n){if(e<=0||!lt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Ct(t))mn(t.value,e,n);else if(xe(t))for(let r=0;r<t.length;r++)mn(t[r],e,n);else if(ns(t)||_r(t))t.forEach(r=>{mn(r,e,n)});else if(Wl(t)){for(const r in t)mn(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&mn(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function si(t,e,n,r){try{return r?t(...r):t()}catch(s){ls(s,e,n)}}function fn(t,e,n,r){if(Te(t)){const s=si(t,e,n,r);return s&&Vl(s)&&s.catch(a=>{ls(a,e,n)}),s}if(xe(t)){const s=[];for(let a=0;a<t.length;a++)s.push(fn(t[a],e,n,r));return s}}function ls(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:l}=e&&e.appContext.config||rt;if(e){let c=e.parent;const h=e.proxy,y=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const p=c.ec;if(p){for(let b=0;b<p.length;b++)if(p[b](t,h,y)===!1)return}c=c.parent}if(a){Mn(),si(a,null,10,[t,h,y]),Fn();return}}Kf(t,n,s,r,l)}function Kf(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}let ei=!1,ko=!1;const $t=[];let on=0;const wr=[];let Cn=null,gr=0;const gu=Promise.resolve();let ta=null;function Bf(t){const e=ta||gu;return t?e.then(this?t.bind(this):t):e}function Nf(t){let e=ei?on+1:0,n=$t.length;for(;e<n;){const r=e+n>>>1,s=$t[r],a=ti(s);a<t||a===t&&s.flags&2?e=r+1:n=r}return e}function na(t){if(!(t.flags&1)){const e=ti(t),n=$t[$t.length-1];!n||!(t.flags&2)&&e>=ti(n)?$t.push(t):$t.splice(Nf(e),0,t),t.flags|=1,yu()}}function yu(){!ei&&!ko&&(ko=!0,ta=gu.then(vu))}function qf(t){xe(t)?wr.push(...t):Cn&&t.id===-1?Cn.splice(gr+1,0,t):t.flags&1||(wr.push(t),t.flags|=1),yu()}function Xa(t,e,n=ei?on+1:0){for(;n<$t.length;n++){const r=$t[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;$t.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function mu(t){if(wr.length){const e=[...new Set(wr)].sort((n,r)=>ti(n)-ti(r));if(wr.length=0,Cn){Cn.push(...e);return}for(Cn=e,gr=0;gr<Cn.length;gr++){const n=Cn[gr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Cn=null,gr=0}}const ti=t=>t.id==null?t.flags&2?-1:1/0:t.id;function vu(t){ko=!1,ei=!0;try{for(on=0;on<$t.length;on++){const e=$t[on];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),si(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;on<$t.length;on++){const e=$t[on];e&&(e.flags&=-2)}on=0,$t.length=0,mu(),ei=!1,ta=null,($t.length||wr.length)&&vu()}}let Wt=null,_u=null;function Gi(t){const e=Wt;return Wt=t,_u=t&&t.type.__scopeId||null,e}function Vf(t,e=Wt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&al(-1);const a=Gi(e);let l;try{l=t(...s)}finally{Gi(a),r._d&&al(1)}return l};return r._n=!0,r._c=!0,r._d=!0,r}function Ft(t,e){if(Wt===null)return t;const n=ds(Wt),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[a,l,c,h=rt]=e[s];a&&(Te(a)&&(a={mounted:a,updated:a}),a.deep&&mn(l),r.push({dir:a,instance:n,value:l,oldValue:void 0,arg:c,modifiers:h}))}return t}function Wn(t,e,n,r){const s=t.dirs,a=e&&e.dirs;for(let l=0;l<s.length;l++){const c=s[l];a&&(c.oldValue=a[l].value);let h=c.dir[r];h&&(Mn(),fn(h,n,8,[t.el,c,t,e]),Fn())}}const Hf=Symbol("_vte"),Wf=t=>t.__isTeleport;function ra(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ra(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function bu(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function xo(t,e,n,r,s=!1){if(xe(t)){t.forEach((Y,ae)=>xo(Y,e&&(xe(e)?e[ae]:e),n,r,s));return}if(Wr(r)&&!s)return;const a=r.shapeFlag&4?ds(r.component):r.el,l=s?null:a,{i:c,r:h}=t,y=e&&e.r,p=c.refs===rt?c.refs={}:c.refs,b=c.setupState,j=Je(b),H=b===rt?()=>!1:Y=>ze(j,Y);if(y!=null&&y!==h&&(vt(y)?(p[y]=null,H(y)&&(b[y]=null)):Ct(y)&&(y.value=null)),Te(h))si(h,c,12,[l,p]);else{const Y=vt(h),ae=Ct(h);if(Y||ae){const ye=()=>{if(t.f){const we=Y?H(h)?b[h]:p[h]:h.value;s?xe(we)&&Bo(we,a):xe(we)?we.includes(a)||we.push(a):Y?(p[h]=[a],H(h)&&(b[h]=p[h])):(h.value=[a],t.k&&(p[t.k]=h.value))}else Y?(p[h]=l,H(h)&&(b[h]=l)):ae&&(h.value=l,t.k&&(p[t.k]=l))};l?(ye.id=-1,qt(ye,n)):ye()}}}const Wr=t=>!!t.type.__asyncLoader,wu=t=>t.type.__isKeepAlive;function zf(t,e){ku(t,"a",e)}function Jf(t,e){ku(t,"da",e)}function ku(t,e,n=Pt){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(us(e,r,n),n){let s=n.parent;for(;s&&s.parent;)wu(s.parent.vnode)&&Gf(r,e,n,s),s=s.parent}}function Gf(t,e,n,r){const s=us(e,t,r,!0);xu(()=>{Bo(r[e],s)},n)}function us(t,e,n=Pt,r=!1){if(n){const s=n[t]||(n[t]=[]),a=e.__weh||(e.__weh=(...l)=>{Mn();const c=oi(n),h=fn(e,n,t,l);return c(),Fn(),h});return r?s.unshift(a):s.push(a),a}}const _n=t=>(e,n=Pt)=>{(!hs||t==="sp")&&us(t,(...r)=>e(...r),n)},Qf=_n("bm"),ia=_n("m"),Yf=_n("bu"),Xf=_n("u"),Zf=_n("bum"),xu=_n("um"),eh=_n("sp"),th=_n("rtg"),nh=_n("rtc");function rh(t,e=Pt){us("ec",t,e)}const ih="components";function Vi(t,e){return oh(ih,t,!0,e)||t}const sh=Symbol.for("v-ndc");function oh(t,e,n=!0,r=!1){const s=Wt||Pt;if(s){const a=s.type;{const c=zh(a,!1);if(c&&(c===e||c===Qt(e)||c===is(Qt(e))))return a}const l=Za(s[t]||a[t],e)||Za(s.appContext[t],e);return!l&&r?a:l}}function Za(t,e){return t&&(t[e]||t[Qt(e)]||t[is(Qt(e))])}function Qi(t,e,n,r){let s;const a=n,l=xe(t);if(l||vt(t)){const c=l&&br(t);let h=!1;c&&(h=!Gt(t),t=os(t)),s=new Array(t.length);for(let y=0,p=t.length;y<p;y++)s[y]=e(h?Ot(t[y]):t[y],y,void 0,a)}else if(typeof t=="number"){s=new Array(t);for(let c=0;c<t;c++)s[c]=e(c+1,c,void 0,a)}else if(lt(t))if(t[Symbol.iterator])s=Array.from(t,(c,h)=>e(c,h,void 0,a));else{const c=Object.keys(t);s=new Array(c.length);for(let h=0,y=c.length;h<y;h++){const p=c[h];s[h]=e(t[p],p,h,a)}}else s=[];return s}const Eo=t=>t?Vu(t)?ds(t):Eo(t.parent):null,zr=At(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Eo(t.parent),$root:t=>Eo(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>sa(t),$forceUpdate:t=>t.f||(t.f=()=>{na(t.update)}),$nextTick:t=>t.n||(t.n=Bf.bind(t.proxy)),$watch:t=>Th.bind(t)}),io=(t,e)=>t!==rt&&!t.__isScriptSetup&&ze(t,e),ah={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:a,accessCache:l,type:c,appContext:h}=t;let y;if(e[0]!=="$"){const H=l[e];if(H!==void 0)switch(H){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return a[e]}else{if(io(r,e))return l[e]=1,r[e];if(s!==rt&&ze(s,e))return l[e]=2,s[e];if((y=t.propsOptions[0])&&ze(y,e))return l[e]=3,a[e];if(n!==rt&&ze(n,e))return l[e]=4,n[e];So&&(l[e]=0)}}const p=zr[e];let b,j;if(p)return e==="$attrs"&&jt(t.attrs,"get",""),p(t);if((b=c.__cssModules)&&(b=b[e]))return b;if(n!==rt&&ze(n,e))return l[e]=4,n[e];if(j=h.config.globalProperties,ze(j,e))return j[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:a}=t;return io(s,e)?(s[e]=n,!0):r!==rt&&ze(r,e)?(r[e]=n,!0):ze(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(a[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:a}},l){let c;return!!n[l]||t!==rt&&ze(t,l)||io(e,l)||(c=a[0])&&ze(c,l)||ze(r,l)||ze(zr,l)||ze(s.config.globalProperties,l)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ze(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function el(t){return xe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let So=!0;function lh(t){const e=sa(t),n=t.proxy,r=t.ctx;So=!1,e.beforeCreate&&tl(e.beforeCreate,t,"bc");const{data:s,computed:a,methods:l,watch:c,provide:h,inject:y,created:p,beforeMount:b,mounted:j,beforeUpdate:H,updated:Y,activated:ae,deactivated:ye,beforeDestroy:we,beforeUnmount:je,destroyed:Re,unmounted:fe,render:Le,renderTracked:Ze,renderTriggered:_e,errorCaptured:I,serverPrefetch:R,expose:W,inheritAttrs:ce,components:he,directives:me,filters:Ce}=e;if(y&&uh(y,r,null),l)for(const te in l){const ve=l[te];Te(ve)&&(r[te]=ve.bind(n))}if(s){const te=s.call(n,n);lt(te)&&(t.data=Yo(te))}if(So=!0,a)for(const te in a){const ve=a[te],pe=Te(ve)?ve.bind(n,n):Te(ve.get)?ve.get.bind(n,n):un,it=!Te(ve)&&Te(ve.set)?ve.set.bind(n):un,Ye=Gh({get:pe,set:it});Object.defineProperty(r,te,{enumerable:!0,configurable:!0,get:()=>Ye.value,set:le=>Ye.value=le})}if(c)for(const te in c)Eu(c[te],r,n,te);if(h){const te=Te(h)?h.call(n):h;Reflect.ownKeys(te).forEach(ve=>{gh(ve,te[ve])})}p&&tl(p,t,"c");function Se(te,ve){xe(ve)?ve.forEach(pe=>te(pe.bind(n))):ve&&te(ve.bind(n))}if(Se(Qf,b),Se(ia,j),Se(Yf,H),Se(Xf,Y),Se(zf,ae),Se(Jf,ye),Se(rh,I),Se(nh,Ze),Se(th,_e),Se(Zf,je),Se(xu,fe),Se(eh,R),xe(W))if(W.length){const te=t.exposed||(t.exposed={});W.forEach(ve=>{Object.defineProperty(te,ve,{get:()=>n[ve],set:pe=>n[ve]=pe})})}else t.exposed||(t.exposed={});Le&&t.render===un&&(t.render=Le),ce!=null&&(t.inheritAttrs=ce),he&&(t.components=he),me&&(t.directives=me),R&&bu(t)}function uh(t,e,n=un){xe(t)&&(t=Oo(t));for(const r in t){const s=t[r];let a;lt(s)?"default"in s?a=Hi(s.from||r,s.default,!0):a=Hi(s.from||r):a=Hi(s),Ct(a)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):e[r]=a}}function tl(t,e,n){fn(xe(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Eu(t,e,n,r){let s=r.includes(".")?Fu(n,r):()=>n[r];if(vt(t)){const a=e[t];Te(a)&&oo(s,a)}else if(Te(t))oo(s,t.bind(n));else if(lt(t))if(xe(t))t.forEach(a=>Eu(a,e,n,r));else{const a=Te(t.handler)?t.handler.bind(n):e[t.handler];Te(a)&&oo(s,a,t)}}function sa(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:a,config:{optionMergeStrategies:l}}=t.appContext,c=a.get(e);let h;return c?h=c:!s.length&&!n&&!r?h=e:(h={},s.length&&s.forEach(y=>Yi(h,y,l,!0)),Yi(h,e,l)),lt(e)&&a.set(e,h),h}function Yi(t,e,n,r=!1){const{mixins:s,extends:a}=e;a&&Yi(t,a,n,!0),s&&s.forEach(l=>Yi(t,l,n,!0));for(const l in e)if(!(r&&l==="expose")){const c=ch[l]||n&&n[l];t[l]=c?c(t[l],e[l]):e[l]}return t}const ch={data:nl,props:rl,emits:rl,methods:qr,computed:qr,beforeCreate:Dt,created:Dt,beforeMount:Dt,mounted:Dt,beforeUpdate:Dt,updated:Dt,beforeDestroy:Dt,beforeUnmount:Dt,destroyed:Dt,unmounted:Dt,activated:Dt,deactivated:Dt,errorCaptured:Dt,serverPrefetch:Dt,components:qr,directives:qr,watch:hh,provide:nl,inject:fh};function nl(t,e){return e?t?function(){return At(Te(t)?t.call(this,this):t,Te(e)?e.call(this,this):e)}:e:t}function fh(t,e){return qr(Oo(t),Oo(e))}function Oo(t){if(xe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Dt(t,e){return t?[...new Set([].concat(t,e))]:e}function qr(t,e){return t?At(Object.create(null),t,e):e}function rl(t,e){return t?xe(t)&&xe(e)?[...new Set([...t,...e])]:At(Object.create(null),el(t),el(e??{})):e}function hh(t,e){if(!t)return e;if(!e)return t;const n=At(Object.create(null),t);for(const r in e)n[r]=Dt(t[r],e[r]);return n}function Su(){return{app:null,config:{isNativeTag:Jc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let dh=0;function ph(t,e){return function(r,s=null){Te(r)||(r=At({},r)),s!=null&&!lt(s)&&(s=null);const a=Su(),l=new WeakSet,c=[];let h=!1;const y=a.app={_uid:dh++,_component:r,_props:s,_container:null,_context:a,_instance:null,version:Qh,get config(){return a.config},set config(p){},use(p,...b){return l.has(p)||(p&&Te(p.install)?(l.add(p),p.install(y,...b)):Te(p)&&(l.add(p),p(y,...b))),y},mixin(p){return a.mixins.includes(p)||a.mixins.push(p),y},component(p,b){return b?(a.components[p]=b,y):a.components[p]},directive(p,b){return b?(a.directives[p]=b,y):a.directives[p]},mount(p,b,j){if(!h){const H=y._ceVNode||Tt(r,s);return H.appContext=a,j===!0?j="svg":j===!1&&(j=void 0),b&&e?e(H,p):t(H,p,j),h=!0,y._container=p,p.__vue_app__=y,ds(H.component)}},onUnmount(p){c.push(p)},unmount(){h&&(fn(c,y._instance,16),t(null,y._container),delete y._container.__vue_app__)},provide(p,b){return a.provides[p]=b,y},runWithContext(p){const b=kr;kr=y;try{return p()}finally{kr=b}}};return y}}let kr=null;function gh(t,e){if(Pt){let n=Pt.provides;const r=Pt.parent&&Pt.parent.provides;r===n&&(n=Pt.provides=Object.create(r)),n[t]=e}}function Hi(t,e,n=!1){const r=Pt||Wt;if(r||kr){const s=kr?kr._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Te(e)?e.call(r&&r.proxy):e}}const Ou={},Pu=()=>Object.create(Ou),Tu=t=>Object.getPrototypeOf(t)===Ou;function yh(t,e,n,r=!1){const s={},a=Pu();t.propsDefaults=Object.create(null),Cu(t,e,s,a);for(const l in t.propsOptions[0])l in s||(s[l]=void 0);n?t.props=r?s:Af(s):t.type.props?t.props=s:t.props=a,t.attrs=a}function mh(t,e,n,r){const{props:s,attrs:a,vnode:{patchFlag:l}}=t,c=Je(s),[h]=t.propsOptions;let y=!1;if((r||l>0)&&!(l&16)){if(l&8){const p=t.vnode.dynamicProps;for(let b=0;b<p.length;b++){let j=p[b];if(cs(t.emitsOptions,j))continue;const H=e[j];if(h)if(ze(a,j))H!==a[j]&&(a[j]=H,y=!0);else{const Y=Qt(j);s[Y]=Po(h,c,Y,H,t,!1)}else H!==a[j]&&(a[j]=H,y=!0)}}}else{Cu(t,e,s,a)&&(y=!0);let p;for(const b in c)(!e||!ze(e,b)&&((p=Ln(b))===b||!ze(e,p)))&&(h?n&&(n[b]!==void 0||n[p]!==void 0)&&(s[b]=Po(h,c,b,void 0,t,!0)):delete s[b]);if(a!==c)for(const b in a)(!e||!ze(e,b))&&(delete a[b],y=!0)}y&&vn(t.attrs,"set","")}function Cu(t,e,n,r){const[s,a]=t.propsOptions;let l=!1,c;if(e)for(let h in e){if(Hr(h))continue;const y=e[h];let p;s&&ze(s,p=Qt(h))?!a||!a.includes(p)?n[p]=y:(c||(c={}))[p]=y:cs(t.emitsOptions,h)||(!(h in r)||y!==r[h])&&(r[h]=y,l=!0)}if(a){const h=Je(n),y=c||rt;for(let p=0;p<a.length;p++){const b=a[p];n[b]=Po(s,h,b,y[b],t,!ze(y,b))}}return l}function Po(t,e,n,r,s,a){const l=t[n];if(l!=null){const c=ze(l,"default");if(c&&r===void 0){const h=l.default;if(l.type!==Function&&!l.skipFactory&&Te(h)){const{propsDefaults:y}=s;if(n in y)r=y[n];else{const p=oi(s);r=y[n]=h.call(null,e),p()}}else r=h;s.ce&&s.ce._setProp(n,r)}l[0]&&(a&&!c?r=!1:l[1]&&(r===""||r===Ln(n))&&(r=!0))}return r}const vh=new WeakMap;function Au(t,e,n=!1){const r=n?vh:e.propsCache,s=r.get(t);if(s)return s;const a=t.props,l={},c=[];let h=!1;if(!Te(t)){const p=b=>{h=!0;const[j,H]=Au(b,e,!0);At(l,j),H&&c.push(...H)};!n&&e.mixins.length&&e.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}if(!a&&!h)return lt(t)&&r.set(t,vr),vr;if(xe(a))for(let p=0;p<a.length;p++){const b=Qt(a[p]);il(b)&&(l[b]=rt)}else if(a)for(const p in a){const b=Qt(p);if(il(b)){const j=a[p],H=l[b]=xe(j)||Te(j)?{type:j}:At({},j),Y=H.type;let ae=!1,ye=!0;if(xe(Y))for(let we=0;we<Y.length;++we){const je=Y[we],Re=Te(je)&&je.name;if(Re==="Boolean"){ae=!0;break}else Re==="String"&&(ye=!1)}else ae=Te(Y)&&Y.name==="Boolean";H[0]=ae,H[1]=ye,(ae||ze(H,"default"))&&c.push(b)}}const y=[l,c];return lt(t)&&r.set(t,y),y}function il(t){return t[0]!=="$"&&!Hr(t)}const ju=t=>t[0]==="_"||t==="$stable",oa=t=>xe(t)?t.map(ln):[ln(t)],_h=(t,e,n)=>{if(e._n)return e;const r=Vf((...s)=>oa(e(...s)),n);return r._c=!1,r},Ru=(t,e,n)=>{const r=t._ctx;for(const s in t){if(ju(s))continue;const a=t[s];if(Te(a))e[s]=_h(s,a,r);else if(a!=null){const l=oa(a);e[s]=()=>l}}},Iu=(t,e)=>{const n=oa(e);t.slots.default=()=>n},Du=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},bh=(t,e,n)=>{const r=t.slots=Pu();if(t.vnode.shapeFlag&32){const s=e._;s?(Du(r,e,n),n&&zl(r,"_",s,!0)):Ru(e,r)}else e&&Iu(t,e)},wh=(t,e,n)=>{const{vnode:r,slots:s}=t;let a=!0,l=rt;if(r.shapeFlag&32){const c=e._;c?n&&c===1?a=!1:Du(s,e,n):(a=!e.$stable,Ru(e,s)),l=e}else e&&(Iu(t,e),l={default:1});if(a)for(const c in s)!ju(c)&&l[c]==null&&delete s[c]},qt=$h;function kh(t){return xh(t)}function xh(t,e){const n=Jl();n.__VUE__=!0;const{insert:r,remove:s,patchProp:a,createElement:l,createText:c,createComment:h,setText:y,setElementText:p,parentNode:b,nextSibling:j,setScopeId:H=un,insertStaticContent:Y}=t,ae=(v,k,D,F=null,B=null,N=null,Z=void 0,J=null,V=!!k.dynamicChildren)=>{if(v===k)return;v&&!Kr(v,k)&&(F=et(v),le(v,B,N,!0),v=null),k.patchFlag===-2&&(V=!1,k.dynamicChildren=null);const{type:K,ref:oe,shapeFlag:ne}=k;switch(K){case fs:ye(v,k,D,F);break;case tr:we(v,k,D,F);break;case lo:v==null&&je(k,D,F,Z);break;case Ut:he(v,k,D,F,B,N,Z,J,V);break;default:ne&1?Le(v,k,D,F,B,N,Z,J,V):ne&6?me(v,k,D,F,B,N,Z,J,V):(ne&64||ne&128)&&K.process(v,k,D,F,B,N,Z,J,V,Me)}oe!=null&&B&&xo(oe,v&&v.ref,N,k||v,!k)},ye=(v,k,D,F)=>{if(v==null)r(k.el=c(k.children),D,F);else{const B=k.el=v.el;k.children!==v.children&&y(B,k.children)}},we=(v,k,D,F)=>{v==null?r(k.el=h(k.children||""),D,F):k.el=v.el},je=(v,k,D,F)=>{[v.el,v.anchor]=Y(v.children,k,D,F,v.el,v.anchor)},Re=({el:v,anchor:k},D,F)=>{let B;for(;v&&v!==k;)B=j(v),r(v,D,F),v=B;r(k,D,F)},fe=({el:v,anchor:k})=>{let D;for(;v&&v!==k;)D=j(v),s(v),v=D;s(k)},Le=(v,k,D,F,B,N,Z,J,V)=>{k.type==="svg"?Z="svg":k.type==="math"&&(Z="mathml"),v==null?Ze(k,D,F,B,N,Z,J,V):R(v,k,B,N,Z,J,V)},Ze=(v,k,D,F,B,N,Z,J)=>{let V,K;const{props:oe,shapeFlag:ne,transition:X,dirs:ge}=v;if(V=v.el=l(v.type,N,oe&&oe.is,oe),ne&8?p(V,v.children):ne&16&&I(v.children,V,null,F,B,so(v,N),Z,J),ge&&Wn(v,null,F,"created"),_e(V,v,v.scopeId,Z,F),oe){for(const Ae in oe)Ae!=="value"&&!Hr(Ae)&&a(V,Ae,null,oe[Ae],N,F);"value"in oe&&a(V,"value",null,oe.value,N),(K=oe.onVnodeBeforeMount)&&sn(K,F,v)}ge&&Wn(v,null,F,"beforeMount");const ke=Eh(B,X);ke&&X.beforeEnter(V),r(V,k,D),((K=oe&&oe.onVnodeMounted)||ke||ge)&&qt(()=>{K&&sn(K,F,v),ke&&X.enter(V),ge&&Wn(v,null,F,"mounted")},B)},_e=(v,k,D,F,B)=>{if(D&&H(v,D),F)for(let N=0;N<F.length;N++)H(v,F[N]);if(B){let N=B.subTree;if(k===N||Ku(N.type)&&(N.ssContent===k||N.ssFallback===k)){const Z=B.vnode;_e(v,Z,Z.scopeId,Z.slotScopeIds,B.parent)}}},I=(v,k,D,F,B,N,Z,J,V=0)=>{for(let K=V;K<v.length;K++){const oe=v[K]=J?An(v[K]):ln(v[K]);ae(null,oe,k,D,F,B,N,Z,J)}},R=(v,k,D,F,B,N,Z)=>{const J=k.el=v.el;let{patchFlag:V,dynamicChildren:K,dirs:oe}=k;V|=v.patchFlag&16;const ne=v.props||rt,X=k.props||rt;let ge;if(D&&zn(D,!1),(ge=X.onVnodeBeforeUpdate)&&sn(ge,D,k,v),oe&&Wn(k,v,D,"beforeUpdate"),D&&zn(D,!0),(ne.innerHTML&&X.innerHTML==null||ne.textContent&&X.textContent==null)&&p(J,""),K?W(v.dynamicChildren,K,J,D,F,so(k,B),N):Z||ve(v,k,J,null,D,F,so(k,B),N,!1),V>0){if(V&16)ce(J,ne,X,D,B);else if(V&2&&ne.class!==X.class&&a(J,"class",null,X.class,B),V&4&&a(J,"style",ne.style,X.style,B),V&8){const ke=k.dynamicProps;for(let Ae=0;Ae<ke.length;Ae++){const Oe=ke[Ae],tt=ne[Oe],Ne=X[Oe];(Ne!==tt||Oe==="value")&&a(J,Oe,tt,Ne,B,D)}}V&1&&v.children!==k.children&&p(J,k.children)}else!Z&&K==null&&ce(J,ne,X,D,B);((ge=X.onVnodeUpdated)||oe)&&qt(()=>{ge&&sn(ge,D,k,v),oe&&Wn(k,v,D,"updated")},F)},W=(v,k,D,F,B,N,Z)=>{for(let J=0;J<k.length;J++){const V=v[J],K=k[J],oe=V.el&&(V.type===Ut||!Kr(V,K)||V.shapeFlag&70)?b(V.el):D;ae(V,K,oe,null,F,B,N,Z,!0)}},ce=(v,k,D,F,B)=>{if(k!==D){if(k!==rt)for(const N in k)!Hr(N)&&!(N in D)&&a(v,N,k[N],null,B,F);for(const N in D){if(Hr(N))continue;const Z=D[N],J=k[N];Z!==J&&N!=="value"&&a(v,N,J,Z,B,F)}"value"in D&&a(v,"value",k.value,D.value,B)}},he=(v,k,D,F,B,N,Z,J,V)=>{const K=k.el=v?v.el:c(""),oe=k.anchor=v?v.anchor:c("");let{patchFlag:ne,dynamicChildren:X,slotScopeIds:ge}=k;ge&&(J=J?J.concat(ge):ge),v==null?(r(K,D,F),r(oe,D,F),I(k.children||[],D,oe,B,N,Z,J,V)):ne>0&&ne&64&&X&&v.dynamicChildren?(W(v.dynamicChildren,X,D,B,N,Z,J),(k.key!=null||B&&k===B.subTree)&&$u(v,k,!0)):ve(v,k,D,oe,B,N,Z,J,V)},me=(v,k,D,F,B,N,Z,J,V)=>{k.slotScopeIds=J,v==null?k.shapeFlag&512?B.ctx.activate(k,D,F,Z,V):Ce(k,D,F,B,N,Z,V):ut(v,k,V)},Ce=(v,k,D,F,B,N,Z)=>{const J=v.component=Nh(v,F,B);if(wu(v)&&(J.ctx.renderer=Me),qh(J,!1,Z),J.asyncDep){if(B&&B.registerDep(J,Se,Z),!v.el){const V=J.subTree=Tt(tr);we(null,V,k,D)}}else Se(J,v,k,D,B,N,Z)},ut=(v,k,D)=>{const F=k.component=v.component;if(Ih(v,k,D))if(F.asyncDep&&!F.asyncResolved){te(F,k,D);return}else F.next=k,F.update();else k.el=v.el,F.vnode=k},Se=(v,k,D,F,B,N,Z)=>{const J=()=>{if(v.isMounted){let{next:ne,bu:X,u:ge,parent:ke,vnode:Ae}=v;{const dt=Lu(v);if(dt){ne&&(ne.el=Ae.el,te(v,ne,Z)),dt.asyncDep.then(()=>{v.isUnmounted||J()});return}}let Oe=ne,tt;zn(v,!1),ne?(ne.el=Ae.el,te(v,ne,Z)):ne=Ae,X&&qi(X),(tt=ne.props&&ne.props.onVnodeBeforeUpdate)&&sn(tt,ke,ne,Ae),zn(v,!0);const Ne=ao(v),Qe=v.subTree;v.subTree=Ne,ae(Qe,Ne,b(Qe.el),et(Qe),v,B,N),ne.el=Ne.el,Oe===null&&Dh(v,Ne.el),ge&&qt(ge,B),(tt=ne.props&&ne.props.onVnodeUpdated)&&qt(()=>sn(tt,ke,ne,Ae),B)}else{let ne;const{el:X,props:ge}=k,{bm:ke,m:Ae,parent:Oe,root:tt,type:Ne}=v,Qe=Wr(k);if(zn(v,!1),ke&&qi(ke),!Qe&&(ne=ge&&ge.onVnodeBeforeMount)&&sn(ne,Oe,k),zn(v,!0),X&&be){const dt=()=>{v.subTree=ao(v),be(X,v.subTree,v,B,null)};Qe&&Ne.__asyncHydrate?Ne.__asyncHydrate(X,v,dt):dt()}else{tt.ce&&tt.ce._injectChildStyle(Ne);const dt=v.subTree=ao(v);ae(null,dt,D,F,v,B,N),k.el=dt.el}if(Ae&&qt(Ae,B),!Qe&&(ne=ge&&ge.onVnodeMounted)){const dt=k;qt(()=>sn(ne,Oe,dt),B)}(k.shapeFlag&256||Oe&&Wr(Oe.vnode)&&Oe.vnode.shapeFlag&256)&&v.a&&qt(v.a,B),v.isMounted=!0,k=D=F=null}};v.scope.on();const V=v.effect=new Zl(J);v.scope.off();const K=v.update=V.run.bind(V),oe=v.job=V.runIfDirty.bind(V);oe.i=v,oe.id=v.uid,V.scheduler=()=>na(oe),zn(v,!0),K()},te=(v,k,D)=>{k.component=v;const F=v.vnode.props;v.vnode=k,v.next=null,mh(v,k.props,F,D),wh(v,k.children,D),Mn(),Xa(v),Fn()},ve=(v,k,D,F,B,N,Z,J,V=!1)=>{const K=v&&v.children,oe=v?v.shapeFlag:0,ne=k.children,{patchFlag:X,shapeFlag:ge}=k;if(X>0){if(X&128){it(K,ne,D,F,B,N,Z,J,V);return}else if(X&256){pe(K,ne,D,F,B,N,Z,J,V);return}}ge&8?(oe&16&&We(K,B,N),ne!==K&&p(D,ne)):oe&16?ge&16?it(K,ne,D,F,B,N,Z,J,V):We(K,B,N,!0):(oe&8&&p(D,""),ge&16&&I(ne,D,F,B,N,Z,J,V))},pe=(v,k,D,F,B,N,Z,J,V)=>{v=v||vr,k=k||vr;const K=v.length,oe=k.length,ne=Math.min(K,oe);let X;for(X=0;X<ne;X++){const ge=k[X]=V?An(k[X]):ln(k[X]);ae(v[X],ge,D,null,B,N,Z,J,V)}K>oe?We(v,B,N,!0,!1,ne):I(k,D,F,B,N,Z,J,V,ne)},it=(v,k,D,F,B,N,Z,J,V)=>{let K=0;const oe=k.length;let ne=v.length-1,X=oe-1;for(;K<=ne&&K<=X;){const ge=v[K],ke=k[K]=V?An(k[K]):ln(k[K]);if(Kr(ge,ke))ae(ge,ke,D,null,B,N,Z,J,V);else break;K++}for(;K<=ne&&K<=X;){const ge=v[ne],ke=k[X]=V?An(k[X]):ln(k[X]);if(Kr(ge,ke))ae(ge,ke,D,null,B,N,Z,J,V);else break;ne--,X--}if(K>ne){if(K<=X){const ge=X+1,ke=ge<oe?k[ge].el:F;for(;K<=X;)ae(null,k[K]=V?An(k[K]):ln(k[K]),D,ke,B,N,Z,J,V),K++}}else if(K>X)for(;K<=ne;)le(v[K],B,N,!0),K++;else{const ge=K,ke=K,Ae=new Map;for(K=ke;K<=X;K++){const ht=k[K]=V?An(k[K]):ln(k[K]);ht.key!=null&&Ae.set(ht.key,K)}let Oe,tt=0;const Ne=X-ke+1;let Qe=!1,dt=0;const nt=new Array(Ne);for(K=0;K<Ne;K++)nt[K]=0;for(K=ge;K<=ne;K++){const ht=v[K];if(tt>=Ne){le(ht,B,N,!0);continue}let _t;if(ht.key!=null)_t=Ae.get(ht.key);else for(Oe=ke;Oe<=X;Oe++)if(nt[Oe-ke]===0&&Kr(ht,k[Oe])){_t=Oe;break}_t===void 0?le(ht,B,N,!0):(nt[_t-ke]=K+1,_t>=dt?dt=_t:Qe=!0,ae(ht,k[_t],D,null,B,N,Z,J,V),tt++)}const de=Qe?Sh(nt):vr;for(Oe=de.length-1,K=Ne-1;K>=0;K--){const ht=ke+K,_t=k[ht],Un=ht+1<oe?k[ht+1].el:F;nt[K]===0?ae(null,_t,D,Un,B,N,Z,J,V):Qe&&(Oe<0||K!==de[Oe]?Ye(_t,D,Un,2):Oe--)}}},Ye=(v,k,D,F,B=null)=>{const{el:N,type:Z,transition:J,children:V,shapeFlag:K}=v;if(K&6){Ye(v.component.subTree,k,D,F);return}if(K&128){v.suspense.move(k,D,F);return}if(K&64){Z.move(v,k,D,Me);return}if(Z===Ut){r(N,k,D);for(let ne=0;ne<V.length;ne++)Ye(V[ne],k,D,F);r(v.anchor,k,D);return}if(Z===lo){Re(v,k,D);return}if(F!==2&&K&1&&J)if(F===0)J.beforeEnter(N),r(N,k,D),qt(()=>J.enter(N),B);else{const{leave:ne,delayLeave:X,afterLeave:ge}=J,ke=()=>r(N,k,D),Ae=()=>{ne(N,()=>{ke(),ge&&ge()})};X?X(N,ke,Ae):Ae()}else r(N,k,D)},le=(v,k,D,F=!1,B=!1)=>{const{type:N,props:Z,ref:J,children:V,dynamicChildren:K,shapeFlag:oe,patchFlag:ne,dirs:X,cacheIndex:ge}=v;if(ne===-2&&(B=!1),J!=null&&xo(J,null,D,v,!0),ge!=null&&(k.renderCache[ge]=void 0),oe&256){k.ctx.deactivate(v);return}const ke=oe&1&&X,Ae=!Wr(v);let Oe;if(Ae&&(Oe=Z&&Z.onVnodeBeforeUnmount)&&sn(Oe,k,v),oe&6)Ge(v.component,D,F);else{if(oe&128){v.suspense.unmount(D,F);return}ke&&Wn(v,null,k,"beforeUnmount"),oe&64?v.type.remove(v,k,D,Me,F):K&&!K.hasOnce&&(N!==Ut||ne>0&&ne&64)?We(K,k,D,!1,!0):(N===Ut&&ne&384||!B&&oe&16)&&We(V,k,D),F&&Ke(v)}(Ae&&(Oe=Z&&Z.onVnodeUnmounted)||ke)&&qt(()=>{Oe&&sn(Oe,k,v),ke&&Wn(v,null,k,"unmounted")},D)},Ke=v=>{const{type:k,el:D,anchor:F,transition:B}=v;if(k===Ut){pt(D,F);return}if(k===lo){fe(v);return}const N=()=>{s(D),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(v.shapeFlag&1&&B&&!B.persisted){const{leave:Z,delayLeave:J}=B,V=()=>Z(D,N);J?J(v.el,N,V):V()}else N()},pt=(v,k)=>{let D;for(;v!==k;)D=j(v),s(v),v=D;s(k)},Ge=(v,k,D)=>{const{bum:F,scope:B,job:N,subTree:Z,um:J,m:V,a:K}=v;sl(V),sl(K),F&&qi(F),B.stop(),N&&(N.flags|=8,le(Z,v,k,D)),J&&qt(J,k),qt(()=>{v.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},We=(v,k,D,F=!1,B=!1,N=0)=>{for(let Z=N;Z<v.length;Z++)le(v[Z],k,D,F,B)},et=v=>{if(v.shapeFlag&6)return et(v.component.subTree);if(v.shapeFlag&128)return v.suspense.next();const k=j(v.anchor||v.el),D=k&&k[Hf];return D?j(D):k};let ct=!1;const q=(v,k,D)=>{v==null?k._vnode&&le(k._vnode,null,null,!0):ae(k._vnode||null,v,k,null,null,null,D),k._vnode=v,ct||(ct=!0,Xa(),mu(),ct=!1)},Me={p:ae,um:le,m:Ye,r:Ke,mt:Ce,mc:I,pc:ve,pbc:W,n:et,o:t};let He,be;return{render:q,hydrate:He,createApp:ph(q,He)}}function so({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function zn({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Eh(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function $u(t,e,n=!1){const r=t.children,s=e.children;if(xe(r)&&xe(s))for(let a=0;a<r.length;a++){const l=r[a];let c=s[a];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[a]=An(s[a]),c.el=l.el),!n&&c.patchFlag!==-2&&$u(l,c)),c.type===fs&&(c.el=l.el)}}function Sh(t){const e=t.slice(),n=[0];let r,s,a,l,c;const h=t.length;for(r=0;r<h;r++){const y=t[r];if(y!==0){if(s=n[n.length-1],t[s]<y){e[r]=s,n.push(r);continue}for(a=0,l=n.length-1;a<l;)c=a+l>>1,t[n[c]]<y?a=c+1:l=c;y<t[n[a]]&&(a>0&&(e[r]=n[a-1]),n[a]=r)}}for(a=n.length,l=n[a-1];a-- >0;)n[a]=l,l=e[l];return n}function Lu(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Lu(e)}function sl(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Oh=Symbol.for("v-scx"),Ph=()=>Hi(Oh);function oo(t,e,n){return Mu(t,e,n)}function Mu(t,e,n=rt){const{immediate:r,deep:s,flush:a,once:l}=n,c=At({},n);let h;if(hs)if(a==="sync"){const j=Ph();h=j.__watcherHandles||(j.__watcherHandles=[])}else if(!e||r)c.once=!0;else{const j=()=>{};return j.stop=un,j.resume=un,j.pause=un,j}const y=Pt;c.call=(j,H,Y)=>fn(j,y,H,Y);let p=!1;a==="post"?c.scheduler=j=>{qt(j,y&&y.suspense)}:a!=="sync"&&(p=!0,c.scheduler=(j,H)=>{H?j():na(j)}),c.augmentJob=j=>{e&&(j.flags|=4),p&&(j.flags|=2,y&&(j.id=y.uid,j.i=y))};const b=Uf(t,e,c);return h&&h.push(b),b}function Th(t,e,n){const r=this.proxy,s=vt(t)?t.includes(".")?Fu(r,t):()=>r[t]:t.bind(r,r);let a;Te(e)?a=e:(a=e.handler,n=e);const l=oi(this),c=Mu(s,a.bind(r),n);return l(),c}function Fu(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const Ch=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Qt(e)}Modifiers`]||t[`${Ln(e)}Modifiers`];function Ah(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||rt;let s=n;const a=e.startsWith("update:"),l=a&&Ch(r,e.slice(7));l&&(l.trim&&(s=n.map(p=>vt(p)?p.trim():p)),l.number&&(s=n.map(vo)));let c,h=r[c=Zs(e)]||r[c=Zs(Qt(e))];!h&&a&&(h=r[c=Zs(Ln(e))]),h&&fn(h,t,6,s);const y=r[c+"Once"];if(y){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,fn(y,t,6,s)}}function Uu(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const a=t.emits;let l={},c=!1;if(!Te(t)){const h=y=>{const p=Uu(y,e,!0);p&&(c=!0,At(l,p))};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}return!a&&!c?(lt(t)&&r.set(t,null),null):(xe(a)?a.forEach(h=>l[h]=null):At(l,a),lt(t)&&r.set(t,l),l)}function cs(t,e){return!t||!ts(e)?!1:(e=e.slice(2).replace(/Once$/,""),ze(t,e[0].toLowerCase()+e.slice(1))||ze(t,Ln(e))||ze(t,e))}function ao(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[a],slots:l,attrs:c,emit:h,render:y,renderCache:p,props:b,data:j,setupState:H,ctx:Y,inheritAttrs:ae}=t,ye=Gi(t);let we,je;try{if(n.shapeFlag&4){const fe=s||r,Le=fe;we=ln(y.call(Le,fe,p,b,H,j,Y)),je=c}else{const fe=e;we=ln(fe.length>1?fe(b,{attrs:c,slots:l,emit:h}):fe(b,null)),je=e.props?c:jh(c)}}catch(fe){Jr.length=0,ls(fe,t,1),we=Tt(tr)}let Re=we;if(je&&ae!==!1){const fe=Object.keys(je),{shapeFlag:Le}=Re;fe.length&&Le&7&&(a&&fe.some(Ko)&&(je=Rh(je,a)),Re=Sr(Re,je,!1,!0))}return n.dirs&&(Re=Sr(Re,null,!1,!0),Re.dirs=Re.dirs?Re.dirs.concat(n.dirs):n.dirs),n.transition&&ra(Re,n.transition),we=Re,Gi(ye),we}const jh=t=>{let e;for(const n in t)(n==="class"||n==="style"||ts(n))&&((e||(e={}))[n]=t[n]);return e},Rh=(t,e)=>{const n={};for(const r in t)(!Ko(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Ih(t,e,n){const{props:r,children:s,component:a}=t,{props:l,children:c,patchFlag:h}=e,y=a.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&h>=0){if(h&1024)return!0;if(h&16)return r?ol(r,l,y):!!l;if(h&8){const p=e.dynamicProps;for(let b=0;b<p.length;b++){const j=p[b];if(l[j]!==r[j]&&!cs(y,j))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:r===l?!1:r?l?ol(r,l,y):!0:!!l;return!1}function ol(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const a=r[s];if(e[a]!==t[a]&&!cs(n,a))return!0}return!1}function Dh({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Ku=t=>t.__isSuspense;function $h(t,e){e&&e.pendingBranch?xe(t)?e.effects.push(...t):e.effects.push(t):qf(t)}const Ut=Symbol.for("v-fgt"),fs=Symbol.for("v-txt"),tr=Symbol.for("v-cmt"),lo=Symbol.for("v-stc"),Jr=[];let zt=null;function Be(t=!1){Jr.push(zt=t?null:[])}function Lh(){Jr.pop(),zt=Jr[Jr.length-1]||null}let ni=1;function al(t){ni+=t,t<0&&zt&&(zt.hasOnce=!0)}function Bu(t){return t.dynamicChildren=ni>0?zt||vr:null,Lh(),ni>0&&zt&&zt.push(t),t}function Xe(t,e,n,r,s,a){return Bu(ee(t,e,n,r,s,a,!0))}function mr(t,e,n,r,s){return Bu(Tt(t,e,n,r,s,!0))}function Nu(t){return t?t.__v_isVNode===!0:!1}function Kr(t,e){return t.type===e.type&&t.key===e.key}const qu=({key:t})=>t??null,Wi=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?vt(t)||Ct(t)||Te(t)?{i:Wt,r:t,k:e,f:!!n}:t:null);function ee(t,e=null,n=null,r=0,s=null,a=t===Ut?0:1,l=!1,c=!1){const h={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&qu(e),ref:e&&Wi(e),scopeId:_u,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Wt};return c?(aa(h,n),a&128&&t.normalize(h)):n&&(h.shapeFlag|=vt(n)?8:16),ni>0&&!l&&zt&&(h.patchFlag>0||a&6)&&h.patchFlag!==32&&zt.push(h),h}const Tt=Mh;function Mh(t,e=null,n=null,r=0,s=null,a=!1){if((!t||t===sh)&&(t=tr),Nu(t)){const c=Sr(t,e,!0);return n&&aa(c,n),ni>0&&!a&&zt&&(c.shapeFlag&6?zt[zt.indexOf(t)]=c:zt.push(c)),c.patchFlag=-2,c}if(Jh(t)&&(t=t.__vccOpts),e){e=Fh(e);let{class:c,style:h}=e;c&&!vt(c)&&(e.class=Vo(c)),lt(h)&&(Zo(h)&&!xe(h)&&(h=At({},h)),e.style=qo(h))}const l=vt(t)?1:Ku(t)?128:Wf(t)?64:lt(t)?4:Te(t)?2:0;return ee(t,e,n,r,s,l,a,!0)}function Fh(t){return t?Zo(t)||Tu(t)?At({},t):t:null}function Sr(t,e,n=!1,r=!1){const{props:s,ref:a,patchFlag:l,children:c,transition:h}=t,y=e?Uh(s||{},e):s,p={__v_isVNode:!0,__v_skip:!0,type:t.type,props:y,key:y&&qu(y),ref:e&&e.ref?n&&a?xe(a)?a.concat(Wi(e)):[a,Wi(e)]:Wi(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ut?l===-1?16:l|16:l,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:h,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Sr(t.ssContent),ssFallback:t.ssFallback&&Sr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return h&&r&&ra(p,h.clone(p)),p}function en(t=" ",e=0){return Tt(fs,null,t,e)}function mt(t="",e=!1){return e?(Be(),mr(tr,null,t)):Tt(tr,null,t)}function ln(t){return t==null||typeof t=="boolean"?Tt(tr):xe(t)?Tt(Ut,null,t.slice()):Nu(t)?An(t):Tt(fs,null,String(t))}function An(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Sr(t)}function aa(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(xe(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),aa(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!Tu(e)?e._ctx=Wt:s===3&&Wt&&(Wt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Te(e)?(e={default:e,_ctx:Wt},n=32):(e=String(e),r&64?(n=16,e=[en(e)]):n=8);t.children=e,t.shapeFlag|=n}function Uh(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Vo([e.class,r.class]));else if(s==="style")e.style=qo([e.style,r.style]);else if(ts(s)){const a=e[s],l=r[s];l&&a!==l&&!(xe(a)&&a.includes(l))&&(e[s]=a?[].concat(a,l):l)}else s!==""&&(e[s]=r[s])}return e}function sn(t,e,n,r=null){fn(t,e,7,[n,r])}const Kh=Su();let Bh=0;function Nh(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||Kh,a={uid:Bh++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new af(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Au(r,s),emitsOptions:Uu(r,s),emit:null,emitted:null,propsDefaults:rt,inheritAttrs:r.inheritAttrs,ctx:rt,data:rt,props:rt,attrs:rt,slots:rt,refs:rt,setupState:rt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=Ah.bind(null,a),t.ce&&t.ce(a),a}let Pt=null,Xi,To;{const t=Jl(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),a=>{s.length>1?s.forEach(l=>l(a)):s[0](a)}};Xi=e("__VUE_INSTANCE_SETTERS__",n=>Pt=n),To=e("__VUE_SSR_SETTERS__",n=>hs=n)}const oi=t=>{const e=Pt;return Xi(t),t.scope.on(),()=>{t.scope.off(),Xi(e)}},ll=()=>{Pt&&Pt.scope.off(),Xi(null)};function Vu(t){return t.vnode.shapeFlag&4}let hs=!1;function qh(t,e=!1,n=!1){e&&To(e);const{props:r,children:s}=t.vnode,a=Vu(t);yh(t,r,a,e),bh(t,s,n);const l=a?Vh(t,e):void 0;return e&&To(!1),l}function Vh(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,ah);const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?Wh(t):null,a=oi(t);Mn();const l=si(r,t,0,[t.props,s]);if(Fn(),a(),Vl(l)){if(Wr(t)||bu(t),l.then(ll,ll),e)return l.then(c=>{ul(t,c,e)}).catch(c=>{ls(c,t,0)});t.asyncDep=l}else ul(t,l,e)}else Hu(t,e)}function ul(t,e,n){Te(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:lt(e)&&(t.setupState=pu(e)),Hu(t,n)}let cl;function Hu(t,e,n){const r=t.type;if(!t.render){if(!e&&cl&&!r.render){const s=r.template||sa(t).template;if(s){const{isCustomElement:a,compilerOptions:l}=t.appContext.config,{delimiters:c,compilerOptions:h}=r,y=At(At({isCustomElement:a,delimiters:c},l),h);r.render=cl(s,y)}}t.render=r.render||un}{const s=oi(t);Mn();try{lh(t)}finally{Fn(),s()}}}const Hh={get(t,e){return jt(t,"get",""),t[e]}};function Wh(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Hh),slots:t.slots,emit:t.emit,expose:e}}function ds(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(pu(jf(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in zr)return zr[n](t)},has(e,n){return n in e||n in zr}})):t.proxy}function zh(t,e=!0){return Te(t)?t.displayName||t.name:t.name||e&&t.__name}function Jh(t){return Te(t)&&"__vccOpts"in t}const Gh=(t,e)=>Mf(t,e,hs),Qh="3.5.10";/**
* @vue/runtime-dom v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Co;const fl=typeof window<"u"&&window.trustedTypes;if(fl)try{Co=fl.createPolicy("vue",{createHTML:t=>t})}catch{}const Wu=Co?t=>Co.createHTML(t):t=>t,Yh="http://www.w3.org/2000/svg",Xh="http://www.w3.org/1998/Math/MathML",yn=typeof document<"u"?document:null,hl=yn&&yn.createElement("template"),Zh={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?yn.createElementNS(Yh,t):e==="mathml"?yn.createElementNS(Xh,t):n?yn.createElement(t,{is:n}):yn.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>yn.createTextNode(t),createComment:t=>yn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>yn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,a){const l=n?n.previousSibling:e.lastChild;if(s&&(s===a||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===a||!(s=s.nextSibling)););else{hl.innerHTML=Wu(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const c=hl.content;if(r==="svg"||r==="mathml"){const h=c.firstChild;for(;h.firstChild;)c.appendChild(h.firstChild);c.removeChild(h)}e.insertBefore(c,n)}return[l?l.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},ed=Symbol("_vtc");function td(t,e,n){const r=t[ed];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const dl=Symbol("_vod"),nd=Symbol("_vsh"),rd=Symbol(""),id=/(^|;)\s*display\s*:/;function sd(t,e,n){const r=t.style,s=vt(n);let a=!1;if(n&&!s){if(e)if(vt(e))for(const l of e.split(";")){const c=l.slice(0,l.indexOf(":")).trim();n[c]==null&&zi(r,c,"")}else for(const l in e)n[l]==null&&zi(r,l,"");for(const l in n)l==="display"&&(a=!0),zi(r,l,n[l])}else if(s){if(e!==n){const l=r[rd];l&&(n+=";"+l),r.cssText=n,a=id.test(n)}}else e&&t.removeAttribute("style");dl in t&&(t[dl]=a?r.display:"",t[nd]&&(r.display="none"))}const pl=/\s*!important$/;function zi(t,e,n){if(xe(n))n.forEach(r=>zi(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=od(t,e);pl.test(n)?t.setProperty(Ln(r),n.replace(pl,""),"important"):t[r]=n}}const gl=["Webkit","Moz","ms"],uo={};function od(t,e){const n=uo[e];if(n)return n;let r=Qt(e);if(r!=="filter"&&r in t)return uo[e]=r;r=is(r);for(let s=0;s<gl.length;s++){const a=gl[s]+r;if(a in t)return uo[e]=a}return e}const yl="http://www.w3.org/1999/xlink";function ml(t,e,n,r,s,a=sf(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(yl,e.slice(6,e.length)):t.setAttributeNS(yl,e,n):n==null||a&&!Gl(n)?t.removeAttribute(e):t.setAttribute(e,a?"":cn(n)?String(n):n)}function vl(t,e,n,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Wu(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const l=s==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=Gl(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}function Yn(t,e,n,r){t.addEventListener(e,n,r)}function ad(t,e,n,r){t.removeEventListener(e,n,r)}const _l=Symbol("_vei");function ld(t,e,n,r,s=null){const a=t[_l]||(t[_l]={}),l=a[e];if(r&&l)l.value=r;else{const[c,h]=ud(e);if(r){const y=a[e]=hd(r,s);Yn(t,c,y,h)}else l&&(ad(t,c,l,h),a[e]=void 0)}}const bl=/(?:Once|Passive|Capture)$/;function ud(t){let e;if(bl.test(t)){e={};let r;for(;r=t.match(bl);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ln(t.slice(2)),e]}let co=0;const cd=Promise.resolve(),fd=()=>co||(cd.then(()=>co=0),co=Date.now());function hd(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;fn(dd(r,n.value),e,5,[r])};return n.value=t,n.attached=fd(),n}function dd(t,e){if(xe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const wl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,pd=(t,e,n,r,s,a)=>{const l=s==="svg";e==="class"?td(t,r,l):e==="style"?sd(t,n,r):ts(e)?Ko(e)||ld(t,e,n,r,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):gd(t,e,r,l))?(vl(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&ml(t,e,r,l,a,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!vt(r))?vl(t,Qt(e),r):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),ml(t,e,r,l))};function gd(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&wl(e)&&Te(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return wl(e)&&vt(n)?!1:e in t}const Zi=t=>{const e=t.props["onUpdate:modelValue"]||!1;return xe(e)?n=>qi(e,n):e};function yd(t){t.target.composing=!0}function kl(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const xr=Symbol("_assign"),Nt={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[xr]=Zi(s);const a=r||s.props&&s.props.type==="number";Yn(t,e?"change":"input",l=>{if(l.target.composing)return;let c=t.value;n&&(c=c.trim()),a&&(c=vo(c)),t[xr](c)}),n&&Yn(t,"change",()=>{t.value=t.value.trim()}),e||(Yn(t,"compositionstart",yd),Yn(t,"compositionend",kl),Yn(t,"change",kl))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:a}},l){if(t[xr]=Zi(l),t.composing)return;const c=(a||t.type==="number")&&!/^0\d/.test(t.value)?vo(t.value):t.value,h=e??"";c!==h&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===h)||(t.value=h))}},md={deep:!0,created(t,e,n){t[xr]=Zi(n),Yn(t,"change",()=>{const r=t._modelValue,s=vd(t),a=t.checked,l=t[xr];if(xe(r)){const c=Ql(r,s),h=c!==-1;if(a&&!h)l(r.concat(s));else if(!a&&h){const y=[...r];y.splice(c,1),l(y)}}else if(ns(r)){const c=new Set(r);a?c.add(s):c.delete(s),l(c)}else l(zu(t,a))})},mounted:xl,beforeUpdate(t,e,n){t[xr]=Zi(n),xl(t,e,n)}};function xl(t,{value:e},n){t._modelValue=e;let r;xe(e)?r=Ql(e,n.props.value)>-1:ns(e)?r=e.has(n.props.value):r=ss(e,zu(t,!0)),t.checked!==r&&(t.checked=r)}function vd(t){return"_value"in t?t._value:t.value}function zu(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const _d=["ctrl","shift","alt","meta"],bd={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>_d.some(n=>t[`${n}Key`]&&!e.includes(n))},fo=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...a)=>{for(let l=0;l<e.length;l++){const c=bd[e[l]];if(c&&c(s,e))return}return t(s,...a)})},wd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},kd=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const a=Ln(s.key);if(e.some(l=>l===a||wd[l]===a))return t(s)})},xd=At({patchProp:pd},Zh);let El;function Ed(){return El||(El=kh(xd))}const Sd=(...t)=>{const e=Ed().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=Pd(r);if(!s)return;const a=e._component;!Te(a)&&!a.render&&!a.template&&(a.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const l=n(s,!1,Od(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},e};function Od(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Pd(t){return vt(t)?document.querySelector(t):t}var Lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ju(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Td(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Gu={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,r){t.exports=r()})(Lt,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s=!r.document&&!!r.postMessage,a=r.IS_PAPA_WORKER||!1,l={},c=0,h={parse:function(I,R){var W=(R=R||{}).dynamicTyping||!1;if(_e(W)&&(R.dynamicTypingFunction=W,W={}),R.dynamicTyping=W,R.transform=!!_e(R.transform)&&R.transform,R.worker&&h.WORKERS_SUPPORTED){var ce=function(){if(!h.WORKERS_SUPPORTED)return!1;var me=(ut=r.URL||r.webkitURL||null,Se=n.toString(),h.BLOB_URL||(h.BLOB_URL=ut.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Se,")();"],{type:"text/javascript"})))),Ce=new r.Worker(me),ut,Se;return Ce.onmessage=je,Ce.id=c++,l[Ce.id]=Ce}();return ce.userStep=R.step,ce.userChunk=R.chunk,ce.userComplete=R.complete,ce.userError=R.error,R.step=_e(R.step),R.chunk=_e(R.chunk),R.complete=_e(R.complete),R.error=_e(R.error),delete R.worker,void ce.postMessage({input:I,config:R,workerId:ce.id})}var he=null;return h.NODE_STREAM_INPUT,typeof I=="string"?(I=function(me){return me.charCodeAt(0)===65279?me.slice(1):me}(I),he=R.download?new b(R):new H(R)):I.readable===!0&&_e(I.read)&&_e(I.on)?he=new Y(R):(r.File&&I instanceof File||I instanceof Object)&&(he=new j(R)),he.stream(I)},unparse:function(I,R){var W=!1,ce=!0,he=",",me=`\r
`,Ce='"',ut=Ce+Ce,Se=!1,te=null,ve=!1;(function(){if(typeof R=="object"){if(typeof R.delimiter!="string"||h.BAD_DELIMITERS.filter(function(le){return R.delimiter.indexOf(le)!==-1}).length||(he=R.delimiter),(typeof R.quotes=="boolean"||typeof R.quotes=="function"||Array.isArray(R.quotes))&&(W=R.quotes),typeof R.skipEmptyLines!="boolean"&&typeof R.skipEmptyLines!="string"||(Se=R.skipEmptyLines),typeof R.newline=="string"&&(me=R.newline),typeof R.quoteChar=="string"&&(Ce=R.quoteChar),typeof R.header=="boolean"&&(ce=R.header),Array.isArray(R.columns)){if(R.columns.length===0)throw new Error("Option columns is empty");te=R.columns}R.escapeChar!==void 0&&(ut=R.escapeChar+Ce),(typeof R.escapeFormulae=="boolean"||R.escapeFormulae instanceof RegExp)&&(ve=R.escapeFormulae instanceof RegExp?R.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var pe=new RegExp(ye(Ce),"g");if(typeof I=="string"&&(I=JSON.parse(I)),Array.isArray(I)){if(!I.length||Array.isArray(I[0]))return it(null,I,Se);if(typeof I[0]=="object")return it(te||Object.keys(I[0]),I,Se)}else if(typeof I=="object")return typeof I.data=="string"&&(I.data=JSON.parse(I.data)),Array.isArray(I.data)&&(I.fields||(I.fields=I.meta&&I.meta.fields||te),I.fields||(I.fields=Array.isArray(I.data[0])?I.fields:typeof I.data[0]=="object"?Object.keys(I.data[0]):[]),Array.isArray(I.data[0])||typeof I.data[0]=="object"||(I.data=[I.data])),it(I.fields||[],I.data||[],Se);throw new Error("Unable to serialize unrecognized input");function it(le,Ke,pt){var Ge="";typeof le=="string"&&(le=JSON.parse(le)),typeof Ke=="string"&&(Ke=JSON.parse(Ke));var We=Array.isArray(le)&&0<le.length,et=!Array.isArray(Ke[0]);if(We&&ce){for(var ct=0;ct<le.length;ct++)0<ct&&(Ge+=he),Ge+=Ye(le[ct],ct);0<Ke.length&&(Ge+=me)}for(var q=0;q<Ke.length;q++){var Me=We?le.length:Ke[q].length,He=!1,be=We?Object.keys(Ke[q]).length===0:Ke[q].length===0;if(pt&&!We&&(He=pt==="greedy"?Ke[q].join("").trim()==="":Ke[q].length===1&&Ke[q][0].length===0),pt==="greedy"&&We){for(var v=[],k=0;k<Me;k++){var D=et?le[k]:k;v.push(Ke[q][D])}He=v.join("").trim()===""}if(!He){for(var F=0;F<Me;F++){0<F&&!be&&(Ge+=he);var B=We&&et?le[F]:F;Ge+=Ye(Ke[q][B],F)}q<Ke.length-1&&(!pt||0<Me&&!be)&&(Ge+=me)}}return Ge}function Ye(le,Ke){if(le==null)return"";if(le.constructor===Date)return JSON.stringify(le).slice(1,25);var pt=!1;ve&&typeof le=="string"&&ve.test(le)&&(le="'"+le,pt=!0);var Ge=le.toString().replace(pe,ut);return(pt=pt||W===!0||typeof W=="function"&&W(le,Ke)||Array.isArray(W)&&W[Ke]||function(We,et){for(var ct=0;ct<et.length;ct++)if(-1<We.indexOf(et[ct]))return!0;return!1}(Ge,h.BAD_DELIMITERS)||-1<Ge.indexOf(he)||Ge.charAt(0)===" "||Ge.charAt(Ge.length-1)===" ")?Ce+Ge+Ce:Ge}}};if(h.RECORD_SEP="",h.UNIT_SEP="",h.BYTE_ORDER_MARK="\uFEFF",h.BAD_DELIMITERS=["\r",`
`,'"',h.BYTE_ORDER_MARK],h.WORKERS_SUPPORTED=!s&&!!r.Worker,h.NODE_STREAM_INPUT=1,h.LocalChunkSize=10485760,h.RemoteChunkSize=5242880,h.DefaultDelimiter=",",h.Parser=we,h.ParserHandle=ae,h.NetworkStreamer=b,h.FileStreamer=j,h.StringStreamer=H,h.ReadableStreamStreamer=Y,r.jQuery){var y=r.jQuery;y.fn.parse=function(I){var R=I.config||{},W=[];return this.each(function(me){if(!(y(this).prop("tagName").toUpperCase()==="INPUT"&&y(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var Ce=0;Ce<this.files.length;Ce++)W.push({file:this.files[Ce],inputElem:this,instanceConfig:y.extend({},R)})}),ce(),this;function ce(){if(W.length!==0){var me,Ce,ut,Se,te=W[0];if(_e(I.before)){var ve=I.before(te.file,te.inputElem);if(typeof ve=="object"){if(ve.action==="abort")return me="AbortError",Ce=te.file,ut=te.inputElem,Se=ve.reason,void(_e(I.error)&&I.error({name:me},Ce,ut,Se));if(ve.action==="skip")return void he();typeof ve.config=="object"&&(te.instanceConfig=y.extend(te.instanceConfig,ve.config))}else if(ve==="skip")return void he()}var pe=te.instanceConfig.complete;te.instanceConfig.complete=function(it){_e(pe)&&pe(it,te.file,te.inputElem),he()},h.parse(te.file,te.instanceConfig)}else _e(I.complete)&&I.complete()}function he(){W.splice(0,1),ce()}}}function p(I){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(R){var W=Le(R);W.chunkSize=parseInt(W.chunkSize),R.step||R.chunk||(W.chunkSize=null),this._handle=new ae(W),(this._handle.streamer=this)._config=W}).call(this,I),this.parseChunk=function(R,W){if(this.isFirstChunk&&_e(this._config.beforeFirstChunk)){var ce=this._config.beforeFirstChunk(R);ce!==void 0&&(R=ce)}this.isFirstChunk=!1,this._halted=!1;var he=this._partialLine+R;this._partialLine="";var me=this._handle.parse(he,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var Ce=me.meta.cursor;this._finished||(this._partialLine=he.substring(Ce-this._baseIndex),this._baseIndex=Ce),me&&me.data&&(this._rowCount+=me.data.length);var ut=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(a)r.postMessage({results:me,workerId:h.WORKER_ID,finished:ut});else if(_e(this._config.chunk)&&!W){if(this._config.chunk(me,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);me=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(me.data),this._completeResults.errors=this._completeResults.errors.concat(me.errors),this._completeResults.meta=me.meta),this._completed||!ut||!_e(this._config.complete)||me&&me.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),ut||me&&me.meta.paused||this._nextChunk(),me}this._halted=!0},this._sendError=function(R){_e(this._config.error)?this._config.error(R):a&&this._config.error&&r.postMessage({workerId:h.WORKER_ID,error:R,finished:!1})}}function b(I){var R;(I=I||{}).chunkSize||(I.chunkSize=h.RemoteChunkSize),p.call(this,I),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(W){this._input=W,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(R=new XMLHttpRequest,this._config.withCredentials&&(R.withCredentials=this._config.withCredentials),s||(R.onload=Ze(this._chunkLoaded,this),R.onerror=Ze(this._chunkError,this)),R.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var W=this._config.downloadRequestHeaders;for(var ce in W)R.setRequestHeader(ce,W[ce])}if(this._config.chunkSize){var he=this._start+this._config.chunkSize-1;R.setRequestHeader("Range","bytes="+this._start+"-"+he)}try{R.send(this._config.downloadRequestBody)}catch(me){this._chunkError(me.message)}s&&R.status===0&&this._chunkError()}},this._chunkLoaded=function(){R.readyState===4&&(R.status<200||400<=R.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:R.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(W){var ce=W.getResponseHeader("Content-Range");return ce===null?-1:parseInt(ce.substring(ce.lastIndexOf("/")+1))}(R),this.parseChunk(R.responseText)))},this._chunkError=function(W){var ce=R.statusText||W;this._sendError(new Error(ce))}}function j(I){var R,W;(I=I||{}).chunkSize||(I.chunkSize=h.LocalChunkSize),p.call(this,I);var ce=typeof FileReader<"u";this.stream=function(he){this._input=he,W=he.slice||he.webkitSlice||he.mozSlice,ce?((R=new FileReader).onload=Ze(this._chunkLoaded,this),R.onerror=Ze(this._chunkError,this)):R=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var he=this._input;if(this._config.chunkSize){var me=Math.min(this._start+this._config.chunkSize,this._input.size);he=W.call(he,this._start,me)}var Ce=R.readAsText(he,this._config.encoding);ce||this._chunkLoaded({target:{result:Ce}})},this._chunkLoaded=function(he){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(he.target.result)},this._chunkError=function(){this._sendError(R.error)}}function H(I){var R;p.call(this,I=I||{}),this.stream=function(W){return R=W,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var W,ce=this._config.chunkSize;return ce?(W=R.substring(0,ce),R=R.substring(ce)):(W=R,R=""),this._finished=!R,this.parseChunk(W)}}}function Y(I){p.call(this,I=I||{});var R=[],W=!0,ce=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(he){this._input=he,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){ce&&R.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),R.length?this.parseChunk(R.shift()):W=!0},this._streamData=Ze(function(he){try{R.push(typeof he=="string"?he:he.toString(this._config.encoding)),W&&(W=!1,this._checkIsFinished(),this.parseChunk(R.shift()))}catch(me){this._streamError(me)}},this),this._streamError=Ze(function(he){this._streamCleanUp(),this._sendError(he)},this),this._streamEnd=Ze(function(){this._streamCleanUp(),ce=!0,this._streamData("")},this),this._streamCleanUp=Ze(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function ae(I){var R,W,ce,he=Math.pow(2,53),me=-he,Ce=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ut=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Se=this,te=0,ve=0,pe=!1,it=!1,Ye=[],le={data:[],errors:[],meta:{}};if(_e(I.step)){var Ke=I.step;I.step=function(q){if(le=q,We())Ge();else{if(Ge(),le.data.length===0)return;te+=q.data.length,I.preview&&te>I.preview?W.abort():(le.data=le.data[0],Ke(le,Se))}}}function pt(q){return I.skipEmptyLines==="greedy"?q.join("").trim()==="":q.length===1&&q[0].length===0}function Ge(){return le&&ce&&(ct("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+h.DefaultDelimiter+"'"),ce=!1),I.skipEmptyLines&&(le.data=le.data.filter(function(q){return!pt(q)})),We()&&function(){if(!le)return;function q(He,be){_e(I.transformHeader)&&(He=I.transformHeader(He,be)),Ye.push(He)}if(Array.isArray(le.data[0])){for(var Me=0;We()&&Me<le.data.length;Me++)le.data[Me].forEach(q);le.data.splice(0,1)}else le.data.forEach(q)}(),function(){if(!le||!I.header&&!I.dynamicTyping&&!I.transform)return le;function q(He,be){var v,k=I.header?{}:[];for(v=0;v<He.length;v++){var D=v,F=He[v];I.header&&(D=v>=Ye.length?"__parsed_extra":Ye[v]),I.transform&&(F=I.transform(F,D)),F=et(D,F),D==="__parsed_extra"?(k[D]=k[D]||[],k[D].push(F)):k[D]=F}return I.header&&(v>Ye.length?ct("FieldMismatch","TooManyFields","Too many fields: expected "+Ye.length+" fields but parsed "+v,ve+be):v<Ye.length&&ct("FieldMismatch","TooFewFields","Too few fields: expected "+Ye.length+" fields but parsed "+v,ve+be)),k}var Me=1;return!le.data.length||Array.isArray(le.data[0])?(le.data=le.data.map(q),Me=le.data.length):le.data=q(le.data,0),I.header&&le.meta&&(le.meta.fields=Ye),ve+=Me,le}()}function We(){return I.header&&Ye.length===0}function et(q,Me){return He=q,I.dynamicTypingFunction&&I.dynamicTyping[He]===void 0&&(I.dynamicTyping[He]=I.dynamicTypingFunction(He)),(I.dynamicTyping[He]||I.dynamicTyping)===!0?Me==="true"||Me==="TRUE"||Me!=="false"&&Me!=="FALSE"&&(function(be){if(Ce.test(be)){var v=parseFloat(be);if(me<v&&v<he)return!0}return!1}(Me)?parseFloat(Me):ut.test(Me)?new Date(Me):Me===""?null:Me):Me;var He}function ct(q,Me,He,be){var v={type:q,code:Me,message:He};be!==void 0&&(v.row=be),le.errors.push(v)}this.parse=function(q,Me,He){var be=I.quoteChar||'"';if(I.newline||(I.newline=function(D,F){D=D.substring(0,1048576);var B=new RegExp(ye(F)+"([^]*?)"+ye(F),"gm"),N=(D=D.replace(B,"")).split("\r"),Z=D.split(`
`),J=1<Z.length&&Z[0].length<N[0].length;if(N.length===1||J)return`
`;for(var V=0,K=0;K<N.length;K++)N[K][0]===`
`&&V++;return V>=N.length/2?`\r
`:"\r"}(q,be)),ce=!1,I.delimiter)_e(I.delimiter)&&(I.delimiter=I.delimiter(q),le.meta.delimiter=I.delimiter);else{var v=function(D,F,B,N,Z){var J,V,K,oe;Z=Z||[",","	","|",";",h.RECORD_SEP,h.UNIT_SEP];for(var ne=0;ne<Z.length;ne++){var X=Z[ne],ge=0,ke=0,Ae=0;K=void 0;for(var Oe=new we({comments:N,delimiter:X,newline:F,preview:10}).parse(D),tt=0;tt<Oe.data.length;tt++)if(B&&pt(Oe.data[tt]))Ae++;else{var Ne=Oe.data[tt].length;ke+=Ne,K!==void 0?0<Ne&&(ge+=Math.abs(Ne-K),K=Ne):K=Ne}0<Oe.data.length&&(ke/=Oe.data.length-Ae),(V===void 0||ge<=V)&&(oe===void 0||oe<ke)&&1.99<ke&&(V=ge,J=X,oe=ke)}return{successful:!!(I.delimiter=J),bestDelimiter:J}}(q,I.newline,I.skipEmptyLines,I.comments,I.delimitersToGuess);v.successful?I.delimiter=v.bestDelimiter:(ce=!0,I.delimiter=h.DefaultDelimiter),le.meta.delimiter=I.delimiter}var k=Le(I);return I.preview&&I.header&&k.preview++,R=q,W=new we(k),le=W.parse(R,Me,He),Ge(),pe?{meta:{paused:!0}}:le||{meta:{paused:!1}}},this.paused=function(){return pe},this.pause=function(){pe=!0,W.abort(),R=_e(I.chunk)?"":R.substring(W.getCharIndex())},this.resume=function(){Se.streamer._halted?(pe=!1,Se.streamer.parseChunk(R,!0)):setTimeout(Se.resume,3)},this.aborted=function(){return it},this.abort=function(){it=!0,W.abort(),le.meta.aborted=!0,_e(I.complete)&&I.complete(le),R=""}}function ye(I){return I.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function we(I){var R,W=(I=I||{}).delimiter,ce=I.newline,he=I.comments,me=I.step,Ce=I.preview,ut=I.fastMode,Se=R=I.quoteChar===void 0||I.quoteChar===null?'"':I.quoteChar;if(I.escapeChar!==void 0&&(Se=I.escapeChar),(typeof W!="string"||-1<h.BAD_DELIMITERS.indexOf(W))&&(W=","),he===W)throw new Error("Comment character same as delimiter");he===!0?he="#":(typeof he!="string"||-1<h.BAD_DELIMITERS.indexOf(he))&&(he=!1),ce!==`
`&&ce!=="\r"&&ce!==`\r
`&&(ce=`
`);var te=0,ve=!1;this.parse=function(pe,it,Ye){if(typeof pe!="string")throw new Error("Input must be a string");var le=pe.length,Ke=W.length,pt=ce.length,Ge=he.length,We=_e(me),et=[],ct=[],q=[],Me=te=0;if(!pe)return Qe();if(I.header&&!it){var He=pe.split(ce)[0].split(W),be=[],v={},k=!1;for(var D in He){var F=He[D];_e(I.transformHeader)&&(F=I.transformHeader(F,D));var B=F,N=v[F]||0;for(0<N&&(k=!0,B=F+"_"+N),v[F]=N+1;be.includes(B);)B=B+"_"+N;be.push(B)}if(k){var Z=pe.split(ce);Z[0]=be.join(W),pe=Z.join(ce)}}if(ut||ut!==!1&&pe.indexOf(R)===-1){for(var J=pe.split(ce),V=0;V<J.length;V++){if(q=J[V],te+=q.length,V!==J.length-1)te+=ce.length;else if(Ye)return Qe();if(!he||q.substring(0,Ge)!==he){if(We){if(et=[],Ae(q.split(W)),dt(),ve)return Qe()}else Ae(q.split(W));if(Ce&&Ce<=V)return et=et.slice(0,Ce),Qe(!0)}}return Qe()}for(var K=pe.indexOf(W,te),oe=pe.indexOf(ce,te),ne=new RegExp(ye(Se)+ye(R),"g"),X=pe.indexOf(R,te);;)if(pe[te]!==R)if(he&&q.length===0&&pe.substring(te,te+Ge)===he){if(oe===-1)return Qe();te=oe+pt,oe=pe.indexOf(ce,te),K=pe.indexOf(W,te)}else if(K!==-1&&(K<oe||oe===-1))q.push(pe.substring(te,K)),te=K+Ke,K=pe.indexOf(W,te);else{if(oe===-1)break;if(q.push(pe.substring(te,oe)),Ne(oe+pt),We&&(dt(),ve))return Qe();if(Ce&&et.length>=Ce)return Qe(!0)}else for(X=te,te++;;){if((X=pe.indexOf(R,X+1))===-1)return Ye||ct.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:et.length,index:te}),tt();if(X===le-1)return tt(pe.substring(te,X).replace(ne,R));if(R!==Se||pe[X+1]!==Se){if(R===Se||X===0||pe[X-1]!==Se){K!==-1&&K<X+1&&(K=pe.indexOf(W,X+1)),oe!==-1&&oe<X+1&&(oe=pe.indexOf(ce,X+1));var ge=Oe(oe===-1?K:Math.min(K,oe));if(pe.substr(X+1+ge,Ke)===W){q.push(pe.substring(te,X).replace(ne,R)),pe[te=X+1+ge+Ke]!==R&&(X=pe.indexOf(R,te)),K=pe.indexOf(W,te),oe=pe.indexOf(ce,te);break}var ke=Oe(oe);if(pe.substring(X+1+ke,X+1+ke+pt)===ce){if(q.push(pe.substring(te,X).replace(ne,R)),Ne(X+1+ke+pt),K=pe.indexOf(W,te),X=pe.indexOf(R,te),We&&(dt(),ve))return Qe();if(Ce&&et.length>=Ce)return Qe(!0);break}ct.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:et.length,index:te}),X++}}else X++}return tt();function Ae(nt){et.push(nt),Me=te}function Oe(nt){var de=0;if(nt!==-1){var ht=pe.substring(X+1,nt);ht&&ht.trim()===""&&(de=ht.length)}return de}function tt(nt){return Ye||(nt===void 0&&(nt=pe.substring(te)),q.push(nt),te=le,Ae(q),We&&dt()),Qe()}function Ne(nt){te=nt,Ae(q),q=[],oe=pe.indexOf(ce,te)}function Qe(nt){return{data:et,errors:ct,meta:{delimiter:W,linebreak:ce,aborted:ve,truncated:!!nt,cursor:Me+(it||0)}}}function dt(){me(Qe()),et=[],ct=[]}},this.abort=function(){ve=!0},this.getCharIndex=function(){return te}}function je(I){var R=I.data,W=l[R.workerId],ce=!1;if(R.error)W.userError(R.error,R.file);else if(R.results&&R.results.data){var he={abort:function(){ce=!0,Re(R.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:fe,resume:fe};if(_e(W.userStep)){for(var me=0;me<R.results.data.length&&(W.userStep({data:R.results.data[me],errors:R.results.errors,meta:R.results.meta},he),!ce);me++);delete R.results}else _e(W.userChunk)&&(W.userChunk(R.results,he,R.file),delete R.results)}R.finished&&!ce&&Re(R.workerId,R.results)}function Re(I,R){var W=l[I];_e(W.userComplete)&&W.userComplete(R),W.terminate(),delete l[I]}function fe(){throw new Error("Not implemented.")}function Le(I){if(typeof I!="object"||I===null)return I;var R=Array.isArray(I)?[]:{};for(var W in I)R[W]=Le(I[W]);return R}function Ze(I,R){return function(){I.apply(R,arguments)}}function _e(I){return typeof I=="function"}return a&&(r.onmessage=function(I){var R=I.data;if(h.WORKER_ID===void 0&&R&&(h.WORKER_ID=R.workerId),typeof R.input=="string")r.postMessage({workerId:h.WORKER_ID,results:h.parse(R.input,R.config),finished:!0});else if(r.File&&R.input instanceof File||R.input instanceof Object){var W=h.parse(R.input,R.config);W&&r.postMessage({workerId:h.WORKER_ID,results:W,finished:!0})}}),(b.prototype=Object.create(p.prototype)).constructor=b,(j.prototype=Object.create(p.prototype)).constructor=j,(H.prototype=Object.create(H.prototype)).constructor=H,(Y.prototype=Object.create(p.prototype)).constructor=Y,h})})(Gu);var Cd=Gu.exports;const Sl=Ju(Cd);var Qu={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Lt,function(){var n=function(i,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(u[d]=f[d])})(i,o)},r=function(){return(r=Object.assign||function(i){for(var o,u=1,f=arguments.length;u<f;u++)for(var d in o=arguments[u])Object.prototype.hasOwnProperty.call(o,d)&&(i[d]=o[d]);return i}).apply(this,arguments)};function s(i,o,u){for(var f,d=0,g=o.length;d<g;d++)!f&&d in o||((f=f||Array.prototype.slice.call(o,0,d))[d]=o[d]);return i.concat(f||Array.prototype.slice.call(o))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Lt,l=Object.keys,c=Array.isArray;function h(i,o){return typeof o!="object"||l(o).forEach(function(u){i[u]=o[u]}),i}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var y=Object.getPrototypeOf,p={}.hasOwnProperty;function b(i,o){return p.call(i,o)}function j(i,o){typeof o=="function"&&(o=o(y(i))),(typeof Reflect>"u"?l:Reflect.ownKeys)(o).forEach(function(u){Y(i,u,o[u])})}var H=Object.defineProperty;function Y(i,o,u,f){H(i,o,h(u&&b(u,"get")&&typeof u.get=="function"?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},f))}function ae(i){return{from:function(o){return i.prototype=Object.create(o.prototype),Y(i.prototype,"constructor",i),{extend:j.bind(null,i.prototype)}}}}var ye=Object.getOwnPropertyDescriptor,we=[].slice;function je(i,o,u){return we.call(i,o,u)}function Re(i,o){return o(i)}function fe(i){if(!i)throw new Error("Assertion Failed")}function Le(i){a.setImmediate?setImmediate(i):setTimeout(i,0)}function Ze(i,o){if(typeof o=="string"&&b(i,o))return i[o];if(!o)return i;if(typeof o!="string"){for(var u=[],f=0,d=o.length;f<d;++f){var g=Ze(i,o[f]);u.push(g)}return u}var m=o.indexOf(".");if(m!==-1){var _=i[o.substr(0,m)];return _==null?void 0:Ze(_,o.substr(m+1))}}function _e(i,o,u){if(i&&o!==void 0&&!("isFrozen"in Object&&Object.isFrozen(i)))if(typeof o!="string"&&"length"in o){fe(typeof u!="string"&&"length"in u);for(var f=0,d=o.length;f<d;++f)_e(i,o[f],u[f])}else{var g,m,_=o.indexOf(".");_!==-1?(g=o.substr(0,_),(m=o.substr(_+1))===""?u===void 0?c(i)&&!isNaN(parseInt(g))?i.splice(g,1):delete i[g]:i[g]=u:_e(_=!(_=i[g])||!b(i,g)?i[g]={}:_,m,u)):u===void 0?c(i)&&!isNaN(parseInt(o))?i.splice(o,1):delete i[o]:i[o]=u}}function I(i){var o,u={};for(o in i)b(i,o)&&(u[o]=i[o]);return u}var R=[].concat;function W(i){return R.apply([],i)}var dn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(W([8,16,32,64].map(function(i){return["Int","Uint","Float"].map(function(o){return o+i+"Array"})}))).filter(function(i){return a[i]}),ce=new Set(dn.map(function(i){return a[i]})),he=null;function me(i){return he=new WeakMap,i=function o(u){if(!u||typeof u!="object")return u;var f=he.get(u);if(f)return f;if(c(u)){f=[],he.set(u,f);for(var d=0,g=u.length;d<g;++d)f.push(o(u[d]))}else if(ce.has(u.constructor))f=u;else{var m,_=y(u);for(m in f=_===Object.prototype?{}:Object.create(_),he.set(u,f),u)b(u,m)&&(f[m]=o(u[m]))}return f}(i),he=null,i}var Ce={}.toString;function ut(i){return Ce.call(i).slice(8,-1)}var Se=typeof Symbol<"u"?Symbol.iterator:"@@iterator",te=typeof Se=="symbol"?function(i){var o;return i!=null&&(o=i[Se])&&o.apply(i)}:function(){return null};function ve(i,o){return o=i.indexOf(o),0<=o&&i.splice(o,1),0<=o}var pe={};function it(i){var o,u,f,d;if(arguments.length===1){if(c(i))return i.slice();if(this===pe&&typeof i=="string")return[i];if(d=te(i)){for(u=[];!(f=d.next()).done;)u.push(f.value);return u}if(i==null)return[i];if(typeof(o=i.length)!="number")return[i];for(u=new Array(o);o--;)u[o]=i[o];return u}for(o=arguments.length,u=new Array(o);o--;)u[o]=arguments[o];return u}var Ye=typeof Symbol<"u"?function(i){return i[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},X=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Jt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(X),le={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ke(i,o){this.name=i,this.message=o}function pt(i,o){return i+". Errors: "+Object.keys(o).map(function(u){return o[u].toString()}).filter(function(u,f,d){return d.indexOf(u)===f}).join(`
`)}function Ge(i,o,u,f){this.failures=o,this.failedKeys=f,this.successCount=u,this.message=pt(i,o)}function We(i,o){this.name="BulkError",this.failures=Object.keys(o).map(function(u){return o[u]}),this.failuresByPos=o,this.message=pt(i,this.failures)}ae(Ke).from(Error).extend({toString:function(){return this.name+": "+this.message}}),ae(Ge).from(Ke),ae(We).from(Ke);var et=Jt.reduce(function(i,o){return i[o]=o+"Error",i},{}),ct=Ke,q=Jt.reduce(function(i,o){var u=o+"Error";function f(d,g){this.name=u,d?typeof d=="string"?(this.message="".concat(d).concat(g?`
 `+g:""),this.inner=g||null):typeof d=="object"&&(this.message="".concat(d.name," ").concat(d.message),this.inner=d):(this.message=le[o]||u,this.inner=null)}return ae(f).from(ct),i[o]=f,i},{});q.Syntax=SyntaxError,q.Type=TypeError,q.Range=RangeError;var Me=X.reduce(function(i,o){return i[o+"Error"]=q[o],i},{}),He=Jt.reduce(function(i,o){return["Syntax","Type","Range"].indexOf(o)===-1&&(i[o+"Error"]=q[o]),i},{});function be(){}function v(i){return i}function k(i,o){return i==null||i===v?o:function(u){return o(i(u))}}function D(i,o){return function(){i.apply(this,arguments),o.apply(this,arguments)}}function F(i,o){return i===be?o:function(){var u=i.apply(this,arguments);u!==void 0&&(arguments[0]=u);var f=this.onsuccess,d=this.onerror;this.onsuccess=null,this.onerror=null;var g=o.apply(this,arguments);return f&&(this.onsuccess=this.onsuccess?D(f,this.onsuccess):f),d&&(this.onerror=this.onerror?D(d,this.onerror):d),g!==void 0?g:u}}function B(i,o){return i===be?o:function(){i.apply(this,arguments);var u=this.onsuccess,f=this.onerror;this.onsuccess=this.onerror=null,o.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?D(u,this.onsuccess):u),f&&(this.onerror=this.onerror?D(f,this.onerror):f)}}function N(i,o){return i===be?o:function(u){var f=i.apply(this,arguments);h(u,f);var d=this.onsuccess,g=this.onerror;return this.onsuccess=null,this.onerror=null,u=o.apply(this,arguments),d&&(this.onsuccess=this.onsuccess?D(d,this.onsuccess):d),g&&(this.onerror=this.onerror?D(g,this.onerror):g),f===void 0?u===void 0?void 0:u:h(f,u)}}function Z(i,o){return i===be?o:function(){return o.apply(this,arguments)!==!1&&i.apply(this,arguments)}}function J(i,o){return i===be?o:function(){var u=i.apply(this,arguments);if(u&&typeof u.then=="function"){for(var f=this,d=arguments.length,g=new Array(d);d--;)g[d]=arguments[d];return u.then(function(){return o.apply(f,g)})}return o.apply(this,arguments)}}He.ModifyError=Ge,He.DexieError=Ke,He.BulkError=We;var V=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function K(i){V=i}var oe={},ne=100,dn=typeof Promise>"u"?[]:function(){var i=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[i,y(i),i];var o=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[o,y(o),i]}(),X=dn[0],Jt=dn[1],dn=dn[2],Jt=Jt&&Jt.then,ge=X&&X.constructor,ke=!!dn,Ae=function(i,o){ht.push([i,o]),tt&&(queueMicrotask(Ec),tt=!1)},Oe=!0,tt=!0,Ne=[],Qe=[],dt=v,nt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:be,pgp:!1,env:{},finalize:be},de=nt,ht=[],_t=0,Un=[];function ue(i){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var o=this._PSD=de;if(typeof i!="function"){if(i!==oe)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&ks(this,this._value))}this._state=null,this._value=null,++o.ref,function u(f,d){try{d(function(g){if(f._state===null){if(g===f)throw new TypeError("A promise cannot be resolved with itself.");var m=f._lib&&ir();g&&typeof g.then=="function"?u(f,function(_,S){g instanceof ue?g._then(_,S):g.then(_,S)}):(f._state=!0,f._value=g,pa(f)),m&&sr()}},ks.bind(null,f))}catch(g){ks(f,g)}}(this,i)}var ws={get:function(){var i=de,o=di;function u(f,d){var g=this,m=!i.global&&(i!==de||o!==di),_=m&&!wn(),S=new ue(function(x,T){xs(g,new da(ya(f,i,m,_),ya(d,i,m,_),x,T,i))});return this._consoleTask&&(S._consoleTask=this._consoleTask),S}return u.prototype=oe,u},set:function(i){Y(this,"then",i&&i.prototype===oe?ws:{get:function(){return i},set:ws.set})}};function da(i,o,u,f,d){this.onFulfilled=typeof i=="function"?i:null,this.onRejected=typeof o=="function"?o:null,this.resolve=u,this.reject=f,this.psd=d}function ks(i,o){var u,f;Qe.push(o),i._state===null&&(u=i._lib&&ir(),o=dt(o),i._state=!1,i._value=o,f=i,Ne.some(function(d){return d._value===f._value})||Ne.push(f),pa(i),u&&sr())}function pa(i){var o=i._listeners;i._listeners=[];for(var u=0,f=o.length;u<f;++u)xs(i,o[u]);var d=i._PSD;--d.ref||d.finalize(),_t===0&&(++_t,Ae(function(){--_t==0&&Es()},[]))}function xs(i,o){if(i._state!==null){var u=i._state?o.onFulfilled:o.onRejected;if(u===null)return(i._state?o.resolve:o.reject)(i._value);++o.psd.ref,++_t,Ae(xc,[u,i,o])}else i._listeners.push(o)}function xc(i,o,u){try{var f,d=o._value;!o._state&&Qe.length&&(Qe=[]),f=V&&o._consoleTask?o._consoleTask.run(function(){return i(d)}):i(d),o._state||Qe.indexOf(d)!==-1||function(g){for(var m=Ne.length;m;)if(Ne[--m]._value===g._value)return Ne.splice(m,1)}(o),u.resolve(f)}catch(g){u.reject(g)}finally{--_t==0&&Es(),--u.psd.ref||u.psd.finalize()}}function Ec(){Kn(nt,function(){ir()&&sr()})}function ir(){var i=Oe;return tt=Oe=!1,i}function sr(){var i,o,u;do for(;0<ht.length;)for(i=ht,ht=[],u=i.length,o=0;o<u;++o){var f=i[o];f[0].apply(null,f[1])}while(0<ht.length);tt=Oe=!0}function Es(){var i=Ne;Ne=[],i.forEach(function(f){f._PSD.onunhandled.call(null,f._value,f)});for(var o=Un.slice(0),u=o.length;u;)o[--u]()}function ci(i){return new ue(oe,!1,i)}function ft(i,o){var u=de;return function(){var f=ir(),d=de;try{return kn(u,!0),i.apply(this,arguments)}catch(g){o&&o(g)}finally{kn(d,!1),f&&sr()}}}j(ue.prototype,{then:ws,_then:function(i,o){xs(this,new da(null,null,i,o,de))},catch:function(i){if(arguments.length===1)return this.then(null,i);var o=i,u=arguments[1];return typeof o=="function"?this.then(null,function(f){return(f instanceof o?u:ci)(f)}):this.then(null,function(f){return(f&&f.name===o?u:ci)(f)})},finally:function(i){return this.then(function(o){return ue.resolve(i()).then(function(){return o})},function(o){return ue.resolve(i()).then(function(){return ci(o)})})},timeout:function(i,o){var u=this;return i<1/0?new ue(function(f,d){var g=setTimeout(function(){return d(new q.Timeout(o))},i);u.then(f,d).finally(clearTimeout.bind(null,g))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Y(ue.prototype,Symbol.toStringTag,"Dexie.Promise"),nt.env=ga(),j(ue,{all:function(){var i=it.apply(null,arguments).map(pi);return new ue(function(o,u){i.length===0&&o([]);var f=i.length;i.forEach(function(d,g){return ue.resolve(d).then(function(m){i[g]=m,--f||o(i)},u)})})},resolve:function(i){return i instanceof ue?i:i&&typeof i.then=="function"?new ue(function(o,u){i.then(o,u)}):new ue(oe,!0,i)},reject:ci,race:function(){var i=it.apply(null,arguments).map(pi);return new ue(function(o,u){i.map(function(f){return ue.resolve(f).then(o,u)})})},PSD:{get:function(){return de},set:function(i){return de=i}},totalEchoes:{get:function(){return di}},newPSD:bn,usePSD:Kn,scheduler:{get:function(){return Ae},set:function(i){Ae=i}},rejectionMapper:{get:function(){return dt},set:function(i){dt=i}},follow:function(i,o){return new ue(function(u,f){return bn(function(d,g){var m=de;m.unhandleds=[],m.onunhandled=g,m.finalize=D(function(){var _,S=this;_=function(){S.unhandleds.length===0?d():g(S.unhandleds[0])},Un.push(function x(){_(),Un.splice(Un.indexOf(x),1)}),++_t,Ae(function(){--_t==0&&Es()},[])},m.finalize),i()},o,u,f)})}}),ge&&(ge.allSettled&&Y(ue,"allSettled",function(){var i=it.apply(null,arguments).map(pi);return new ue(function(o){i.length===0&&o([]);var u=i.length,f=new Array(u);i.forEach(function(d,g){return ue.resolve(d).then(function(m){return f[g]={status:"fulfilled",value:m}},function(m){return f[g]={status:"rejected",reason:m}}).then(function(){return--u||o(f)})})})}),ge.any&&typeof AggregateError<"u"&&Y(ue,"any",function(){var i=it.apply(null,arguments).map(pi);return new ue(function(o,u){i.length===0&&u(new AggregateError([]));var f=i.length,d=new Array(f);i.forEach(function(g,m){return ue.resolve(g).then(function(_){return o(_)},function(_){d[m]=_,--f||u(new AggregateError(d))})})})}));var bt={awaits:0,echoes:0,id:0},Sc=0,fi=[],hi=0,di=0,Oc=0;function bn(i,o,u,f){var d=de,g=Object.create(d);return g.parent=d,g.ref=0,g.global=!1,g.id=++Oc,nt.env,g.env=ke?{Promise:ue,PromiseProp:{value:ue,configurable:!0,writable:!0},all:ue.all,race:ue.race,allSettled:ue.allSettled,any:ue.any,resolve:ue.resolve,reject:ue.reject}:{},o&&h(g,o),++d.ref,g.finalize=function(){--this.parent.ref||this.parent.finalize()},f=Kn(g,i,u,f),g.ref===0&&g.finalize(),f}function or(){return bt.id||(bt.id=++Sc),++bt.awaits,bt.echoes+=ne,bt.id}function wn(){return!!bt.awaits&&(--bt.awaits==0&&(bt.id=0),bt.echoes=bt.awaits*ne,!0)}function pi(i){return bt.echoes&&i&&i.constructor===ge?(or(),i.then(function(o){return wn(),o},function(o){return wn(),gt(o)})):i}function Pc(){var i=fi[fi.length-1];fi.pop(),kn(i,!1)}function kn(i,o){var u,f=de;(o?!bt.echoes||hi++&&i===de:!hi||--hi&&i===de)||queueMicrotask(o?(function(d){++di,bt.echoes&&--bt.echoes!=0||(bt.echoes=bt.awaits=bt.id=0),fi.push(de),kn(d,!0)}).bind(null,i):Pc),i!==de&&(de=i,f===nt&&(nt.env=ga()),ke&&(u=nt.env.Promise,o=i.env,(f.global||i.global)&&(Object.defineProperty(a,"Promise",o.PromiseProp),u.all=o.all,u.race=o.race,u.resolve=o.resolve,u.reject=o.reject,o.allSettled&&(u.allSettled=o.allSettled),o.any&&(u.any=o.any))))}function ga(){var i=a.Promise;return ke?{Promise:i,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:i.all,race:i.race,allSettled:i.allSettled,any:i.any,resolve:i.resolve,reject:i.reject}:{}}function Kn(i,o,u,f,d){var g=de;try{return kn(i,!0),o(u,f,d)}finally{kn(g,!1)}}function ya(i,o,u,f){return typeof i!="function"?i:function(){var d=de;u&&or(),kn(o,!0);try{return i.apply(this,arguments)}finally{kn(d,!1),f&&queueMicrotask(wn)}}}function Ss(i){Promise===ge&&bt.echoes===0?hi===0?i():enqueueNativeMicroTask(i):setTimeout(i,0)}(""+Jt).indexOf("[native code]")===-1&&(or=wn=be);var gt=ue.reject,Bn="",hn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ma="String expected.",ar=[],gi="__dbnames",Os="readonly",Ps="readwrite";function Nn(i,o){return i?o?function(){return i.apply(this,arguments)&&o.apply(this,arguments)}:i:o}var va={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function yi(i){return typeof i!="string"||/\./.test(i)?function(o){return o}:function(o){return o[i]===void 0&&i in o&&delete(o=me(o))[i],o}}function _a(){throw q.Type()}function qe(i,o){try{var u=ba(i),f=ba(o);if(u!==f)return u==="Array"?1:f==="Array"?-1:u==="binary"?1:f==="binary"?-1:u==="string"?1:f==="string"?-1:u==="Date"?1:f!=="Date"?NaN:-1;switch(u){case"number":case"Date":case"string":return o<i?1:i<o?-1:0;case"binary":return function(d,g){for(var m=d.length,_=g.length,S=m<_?m:_,x=0;x<S;++x)if(d[x]!==g[x])return d[x]<g[x]?-1:1;return m===_?0:m<_?-1:1}(wa(i),wa(o));case"Array":return function(d,g){for(var m=d.length,_=g.length,S=m<_?m:_,x=0;x<S;++x){var T=qe(d[x],g[x]);if(T!==0)return T}return m===_?0:m<_?-1:1}(i,o)}}catch{}return NaN}function ba(i){var o=typeof i;return o!="object"?o:ArrayBuffer.isView(i)?"binary":(i=ut(i),i==="ArrayBuffer"?"binary":i)}function wa(i){return i instanceof Uint8Array?i:ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i)}var ka=(at.prototype._trans=function(i,o,u){var f=this._tx||de.trans,d=this.name,g=V&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(i==="readonly"?"read":"write"," ").concat(this.name));function m(x,T,w){if(!w.schema[d])throw new q.NotFound("Table "+d+" not part of transaction");return o(w.idbtrans,w)}var _=ir();try{var S=f&&f.db._novip===this.db._novip?f===de.trans?f._promise(i,m,u):bn(function(){return f._promise(i,m,u)},{trans:f,transless:de.transless||de}):function x(T,w,C,E){if(T.idbdb&&(T._state.openComplete||de.letThrough||T._vip)){var P=T._createTransaction(w,C,T._dbSchema);try{P.create(),T._state.PR1398_maxLoop=3}catch(A){return A.name===et.InvalidState&&T.isOpen()&&0<--T._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),T.close({disableAutoOpen:!1}),T.open().then(function(){return x(T,w,C,E)})):gt(A)}return P._promise(w,function(A,O){return bn(function(){return de.trans=P,E(A,O,P)})}).then(function(A){if(w==="readwrite")try{P.idbtrans.commit()}catch{}return w==="readonly"?A:P._completion.then(function(){return A})})}if(T._state.openComplete)return gt(new q.DatabaseClosed(T._state.dbOpenError));if(!T._state.isBeingOpened){if(!T._state.autoOpen)return gt(new q.DatabaseClosed);T.open().catch(be)}return T._state.dbReadyPromise.then(function(){return x(T,w,C,E)})}(this.db,i,[this.name],m);return g&&(S._consoleTask=g,S=S.catch(function(x){return console.trace(x),gt(x)})),S}finally{_&&sr()}},at.prototype.get=function(i,o){var u=this;return i&&i.constructor===Object?this.where(i).first(o):i==null?gt(new q.Type("Invalid argument to Table.get()")):this._trans("readonly",function(f){return u.core.get({trans:f,key:i}).then(function(d){return u.hook.reading.fire(d)})}).then(o)},at.prototype.where=function(i){if(typeof i=="string")return new this.db.WhereClause(this,i);if(c(i))return new this.db.WhereClause(this,"[".concat(i.join("+"),"]"));var o=l(i);if(o.length===1)return this.where(o[0]).equals(i[o[0]]);var u=this.schema.indexes.concat(this.schema.primKey).filter(function(S){if(S.compound&&o.every(function(T){return 0<=S.keyPath.indexOf(T)})){for(var x=0;x<o.length;++x)if(o.indexOf(S.keyPath[x])===-1)return!1;return!0}return!1}).sort(function(S,x){return S.keyPath.length-x.keyPath.length})[0];if(u&&this.db._maxKey!==Bn){var m=u.keyPath.slice(0,o.length);return this.where(m).equals(m.map(function(x){return i[x]}))}!u&&V&&console.warn("The query ".concat(JSON.stringify(i)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(o.join("+"),"]"));var f=this.schema.idxByName,d=this.db._deps.indexedDB;function g(S,x){return d.cmp(S,x)===0}var _=o.reduce(function(C,x){var T=C[0],w=C[1],C=f[x],E=i[x];return[T||C,T||!C?Nn(w,C&&C.multi?function(P){return P=Ze(P,x),c(P)&&P.some(function(A){return g(E,A)})}:function(P){return g(E,Ze(P,x))}):w]},[null,null]),m=_[0],_=_[1];return m?this.where(m.name).equals(i[m.keyPath]).filter(_):u?this.filter(_):this.where(o).equals("")},at.prototype.filter=function(i){return this.toCollection().and(i)},at.prototype.count=function(i){return this.toCollection().count(i)},at.prototype.offset=function(i){return this.toCollection().offset(i)},at.prototype.limit=function(i){return this.toCollection().limit(i)},at.prototype.each=function(i){return this.toCollection().each(i)},at.prototype.toArray=function(i){return this.toCollection().toArray(i)},at.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},at.prototype.orderBy=function(i){return new this.db.Collection(new this.db.WhereClause(this,c(i)?"[".concat(i.join("+"),"]"):i))},at.prototype.reverse=function(){return this.toCollection().reverse()},at.prototype.mapToClass=function(i){var o,u=this.db,f=this.name;function d(){return o!==null&&o.apply(this,arguments)||this}(this.schema.mappedClass=i).prototype instanceof _a&&(function(S,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function T(){this.constructor=S}n(S,x),S.prototype=x===null?Object.create(x):(T.prototype=x.prototype,new T)}(d,o=i),Object.defineProperty(d.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),d.prototype.table=function(){return f},i=d);for(var g=new Set,m=i.prototype;m;m=y(m))Object.getOwnPropertyNames(m).forEach(function(S){return g.add(S)});function _(S){if(!S)return S;var x,T=Object.create(i.prototype);for(x in S)if(!g.has(x))try{T[x]=S[x]}catch{}return T}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=_,this.hook("reading",_),i},at.prototype.defineClass=function(){return this.mapToClass(function(i){h(this,i)})},at.prototype.add=function(i,o){var u=this,f=this.schema.primKey,d=f.auto,g=f.keyPath,m=i;return g&&d&&(m=yi(g)(i)),this._trans("readwrite",function(_){return u.core.mutate({trans:_,type:"add",keys:o!=null?[o]:null,values:[m]})}).then(function(_){return _.numFailures?ue.reject(_.failures[0]):_.lastResult}).then(function(_){if(g)try{_e(i,g,_)}catch{}return _})},at.prototype.update=function(i,o){return typeof i!="object"||c(i)?this.where(":id").equals(i).modify(o):(i=Ze(i,this.schema.primKey.keyPath),i===void 0?gt(new q.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(i).modify(o))},at.prototype.put=function(i,o){var u=this,f=this.schema.primKey,d=f.auto,g=f.keyPath,m=i;return g&&d&&(m=yi(g)(i)),this._trans("readwrite",function(_){return u.core.mutate({trans:_,type:"put",values:[m],keys:o!=null?[o]:null})}).then(function(_){return _.numFailures?ue.reject(_.failures[0]):_.lastResult}).then(function(_){if(g)try{_e(i,g,_)}catch{}return _})},at.prototype.delete=function(i){var o=this;return this._trans("readwrite",function(u){return o.core.mutate({trans:u,type:"delete",keys:[i]})}).then(function(u){return u.numFailures?ue.reject(u.failures[0]):void 0})},at.prototype.clear=function(){var i=this;return this._trans("readwrite",function(o){return i.core.mutate({trans:o,type:"deleteRange",range:va})}).then(function(o){return o.numFailures?ue.reject(o.failures[0]):void 0})},at.prototype.bulkGet=function(i){var o=this;return this._trans("readonly",function(u){return o.core.getMany({keys:i,trans:u}).then(function(f){return f.map(function(d){return o.hook.reading.fire(d)})})})},at.prototype.bulkAdd=function(i,o,u){var f=this,d=Array.isArray(o)?o:void 0,g=(u=u||(d?void 0:o))?u.allKeys:void 0;return this._trans("readwrite",function(m){var x=f.schema.primKey,_=x.auto,x=x.keyPath;if(x&&d)throw new q.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(d&&d.length!==i.length)throw new q.InvalidArgument("Arguments objects and keys must have the same length");var S=i.length,x=x&&_?i.map(yi(x)):i;return f.core.mutate({trans:m,type:"add",keys:d,values:x,wantResults:g}).then(function(P){var w=P.numFailures,C=P.results,E=P.lastResult,P=P.failures;if(w===0)return g?C:E;throw new We("".concat(f.name,".bulkAdd(): ").concat(w," of ").concat(S," operations failed"),P)})})},at.prototype.bulkPut=function(i,o,u){var f=this,d=Array.isArray(o)?o:void 0,g=(u=u||(d?void 0:o))?u.allKeys:void 0;return this._trans("readwrite",function(m){var x=f.schema.primKey,_=x.auto,x=x.keyPath;if(x&&d)throw new q.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(d&&d.length!==i.length)throw new q.InvalidArgument("Arguments objects and keys must have the same length");var S=i.length,x=x&&_?i.map(yi(x)):i;return f.core.mutate({trans:m,type:"put",keys:d,values:x,wantResults:g}).then(function(P){var w=P.numFailures,C=P.results,E=P.lastResult,P=P.failures;if(w===0)return g?C:E;throw new We("".concat(f.name,".bulkPut(): ").concat(w," of ").concat(S," operations failed"),P)})})},at.prototype.bulkUpdate=function(i){var o=this,u=this.core,f=i.map(function(m){return m.key}),d=i.map(function(m){return m.changes}),g=[];return this._trans("readwrite",function(m){return u.getMany({trans:m,keys:f,cache:"clone"}).then(function(_){var S=[],x=[];i.forEach(function(w,C){var E=w.key,P=w.changes,A=_[C];if(A){for(var O=0,$=Object.keys(P);O<$.length;O++){var L=$[O],M=P[L];if(L===o.schema.primKey.keyPath){if(qe(M,E)!==0)throw new q.Constraint("Cannot update primary key in bulkUpdate()")}else _e(A,L,M)}g.push(C),S.push(E),x.push(A)}});var T=S.length;return u.mutate({trans:m,type:"put",keys:S,values:x,updates:{keys:f,changeSpecs:d}}).then(function(w){var C=w.numFailures,E=w.failures;if(C===0)return T;for(var P=0,A=Object.keys(E);P<A.length;P++){var O,$=A[P],L=g[Number($)];L!=null&&(O=E[$],delete E[$],E[L]=O)}throw new We("".concat(o.name,".bulkUpdate(): ").concat(C," of ").concat(T," operations failed"),E)})})})},at.prototype.bulkDelete=function(i){var o=this,u=i.length;return this._trans("readwrite",function(f){return o.core.mutate({trans:f,type:"delete",keys:i})}).then(function(m){var d=m.numFailures,g=m.lastResult,m=m.failures;if(d===0)return g;throw new We("".concat(o.name,".bulkDelete(): ").concat(d," of ").concat(u," operations failed"),m)})},at);function at(){}function Ar(i){function o(m,_){if(_){for(var S=arguments.length,x=new Array(S-1);--S;)x[S-1]=arguments[S];return u[m].subscribe.apply(null,x),i}if(typeof m=="string")return u[m]}var u={};o.addEventType=g;for(var f=1,d=arguments.length;f<d;++f)g(arguments[f]);return o;function g(m,_,S){if(typeof m!="object"){var x;_=_||Z;var T={subscribers:[],fire:S=S||be,subscribe:function(w){T.subscribers.indexOf(w)===-1&&(T.subscribers.push(w),T.fire=_(T.fire,w))},unsubscribe:function(w){T.subscribers=T.subscribers.filter(function(C){return C!==w}),T.fire=T.subscribers.reduce(_,S)}};return u[m]=o[m]=T}l(x=m).forEach(function(w){var C=x[w];if(c(C))g(w,x[w][0],x[w][1]);else{if(C!=="asap")throw new q.InvalidArgument("Invalid event config");var E=g(w,v,function(){for(var P=arguments.length,A=new Array(P);P--;)A[P]=arguments[P];E.subscribers.forEach(function(O){Le(function(){O.apply(null,A)})})})}})}}function jr(i,o){return ae(o).from({prototype:i}),o}function lr(i,o){return!(i.filter||i.algorithm||i.or)&&(o?i.justLimit:!i.replayFilter)}function Ts(i,o){i.filter=Nn(i.filter,o)}function Cs(i,o,u){var f=i.replayFilter;i.replayFilter=f?function(){return Nn(f(),o())}:o,i.justLimit=u&&!f}function mi(i,o){if(i.isPrimKey)return o.primaryKey;var u=o.getIndexByKeyPath(i.index);if(!u)throw new q.Schema("KeyPath "+i.index+" on object store "+o.name+" is not indexed");return u}function xa(i,o,u){var f=mi(i,o.schema);return o.openCursor({trans:u,values:!i.keysOnly,reverse:i.dir==="prev",unique:!!i.unique,query:{index:f,range:i.range}})}function vi(i,o,u,f){var d=i.replayFilter?Nn(i.filter,i.replayFilter()):i.filter;if(i.or){var g={},m=function(_,S,x){var T,w;d&&!d(S,x,function(C){return S.stop(C)},function(C){return S.fail(C)})||((w=""+(T=S.primaryKey))=="[object ArrayBuffer]"&&(w=""+new Uint8Array(T)),b(g,w)||(g[w]=!0,o(_,S,x)))};return Promise.all([i.or._iterate(m,u),Ea(xa(i,f,u),i.algorithm,m,!i.keysOnly&&i.valueMapper)])}return Ea(xa(i,f,u),Nn(i.algorithm,d),o,!i.keysOnly&&i.valueMapper)}function Ea(i,o,u,f){var d=ft(f?function(g,m,_){return u(f(g),m,_)}:u);return i.then(function(g){if(g)return g.start(function(){var m=function(){return g.continue()};o&&!o(g,function(_){return m=_},function(_){g.stop(_),m=be},function(_){g.fail(_),m=be})||d(g.value,g,function(_){return m=_}),m()})})}var dn=Symbol(),Rr=(Sa.prototype.execute=function(i){if(this.add!==void 0){var o=this.add;if(c(o))return s(s([],c(i)?i:[],!0),o).sort();if(typeof o=="number")return(Number(i)||0)+o;if(typeof o=="bigint")try{return BigInt(i)+o}catch{return BigInt(0)+o}throw new TypeError("Invalid term ".concat(o))}if(this.remove!==void 0){var u=this.remove;if(c(u))return c(i)?i.filter(function(f){return!u.includes(f)}).sort():[];if(typeof u=="number")return Number(i)-u;if(typeof u=="bigint")try{return BigInt(i)-u}catch{return BigInt(0)-u}throw new TypeError("Invalid subtrahend ".concat(u))}return o=(o=this.replacePrefix)===null||o===void 0?void 0:o[0],o&&typeof i=="string"&&i.startsWith(o)?this.replacePrefix[1]+i.substring(o.length):i},Sa);function Sa(i){Object.assign(this,i)}var Tc=(Ve.prototype._read=function(i,o){var u=this._ctx;return u.error?u.table._trans(null,gt.bind(null,u.error)):u.table._trans("readonly",i).then(o)},Ve.prototype._write=function(i){var o=this._ctx;return o.error?o.table._trans(null,gt.bind(null,o.error)):o.table._trans("readwrite",i,"locked")},Ve.prototype._addAlgorithm=function(i){var o=this._ctx;o.algorithm=Nn(o.algorithm,i)},Ve.prototype._iterate=function(i,o){return vi(this._ctx,i,o,this._ctx.table.core)},Ve.prototype.clone=function(i){var o=Object.create(this.constructor.prototype),u=Object.create(this._ctx);return i&&h(u,i),o._ctx=u,o},Ve.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ve.prototype.each=function(i){var o=this._ctx;return this._read(function(u){return vi(o,i,u,o.table.core)})},Ve.prototype.count=function(i){var o=this;return this._read(function(u){var f=o._ctx,d=f.table.core;if(lr(f,!0))return d.count({trans:u,query:{index:mi(f,d.schema),range:f.range}}).then(function(m){return Math.min(m,f.limit)});var g=0;return vi(f,function(){return++g,!1},u,d).then(function(){return g})}).then(i)},Ve.prototype.sortBy=function(i,o){var u=i.split(".").reverse(),f=u[0],d=u.length-1;function g(S,x){return x?g(S[u[x]],x-1):S[f]}var m=this._ctx.dir==="next"?1:-1;function _(S,x){return S=g(S,d),x=g(x,d),S<x?-m:x<S?m:0}return this.toArray(function(S){return S.sort(_)}).then(o)},Ve.prototype.toArray=function(i){var o=this;return this._read(function(u){var f=o._ctx;if(f.dir==="next"&&lr(f,!0)&&0<f.limit){var d=f.valueMapper,g=mi(f,f.table.core.schema);return f.table.core.query({trans:u,limit:f.limit,values:!0,query:{index:g,range:f.range}}).then(function(_){return _=_.result,d?_.map(d):_})}var m=[];return vi(f,function(_){return m.push(_)},u,f.table.core).then(function(){return m})},i)},Ve.prototype.offset=function(i){var o=this._ctx;return i<=0||(o.offset+=i,lr(o)?Cs(o,function(){var u=i;return function(f,d){return u===0||(u===1?--u:d(function(){f.advance(u),u=0}),!1)}}):Cs(o,function(){var u=i;return function(){return--u<0}})),this},Ve.prototype.limit=function(i){return this._ctx.limit=Math.min(this._ctx.limit,i),Cs(this._ctx,function(){var o=i;return function(u,f,d){return--o<=0&&f(d),0<=o}},!0),this},Ve.prototype.until=function(i,o){return Ts(this._ctx,function(u,f,d){return!i(u.value)||(f(d),o)}),this},Ve.prototype.first=function(i){return this.limit(1).toArray(function(o){return o[0]}).then(i)},Ve.prototype.last=function(i){return this.reverse().first(i)},Ve.prototype.filter=function(i){var o;return Ts(this._ctx,function(u){return i(u.value)}),(o=this._ctx).isMatch=Nn(o.isMatch,i),this},Ve.prototype.and=function(i){return this.filter(i)},Ve.prototype.or=function(i){return new this.db.WhereClause(this._ctx.table,i,this)},Ve.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ve.prototype.desc=function(){return this.reverse()},Ve.prototype.eachKey=function(i){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(u,f){i(f.key,f)})},Ve.prototype.eachUniqueKey=function(i){return this._ctx.unique="unique",this.eachKey(i)},Ve.prototype.eachPrimaryKey=function(i){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(u,f){i(f.primaryKey,f)})},Ve.prototype.keys=function(i){var o=this._ctx;o.keysOnly=!o.isMatch;var u=[];return this.each(function(f,d){u.push(d.key)}).then(function(){return u}).then(i)},Ve.prototype.primaryKeys=function(i){var o=this._ctx;if(o.dir==="next"&&lr(o,!0)&&0<o.limit)return this._read(function(f){var d=mi(o,o.table.core.schema);return o.table.core.query({trans:f,values:!1,limit:o.limit,query:{index:d,range:o.range}})}).then(function(f){return f.result}).then(i);o.keysOnly=!o.isMatch;var u=[];return this.each(function(f,d){u.push(d.primaryKey)}).then(function(){return u}).then(i)},Ve.prototype.uniqueKeys=function(i){return this._ctx.unique="unique",this.keys(i)},Ve.prototype.firstKey=function(i){return this.limit(1).keys(function(o){return o[0]}).then(i)},Ve.prototype.lastKey=function(i){return this.reverse().firstKey(i)},Ve.prototype.distinct=function(){var i=this._ctx,i=i.index&&i.table.schema.idxByName[i.index];if(!i||!i.multi)return this;var o={};return Ts(this._ctx,function(d){var f=d.primaryKey.toString(),d=b(o,f);return o[f]=!0,!d}),this},Ve.prototype.modify=function(i){var o=this,u=this._ctx;return this._write(function(f){var d,g,m;m=typeof i=="function"?i:(d=l(i),g=d.length,function(O){for(var $=!1,L=0;L<g;++L){var M=d[L],U=i[M],G=Ze(O,M);U instanceof Rr?(_e(O,M,U.execute(G)),$=!0):G!==U&&(_e(O,M,U),$=!0)}return $});function _(O,M){var L=M.failures,M=M.numFailures;P+=O-M;for(var U=0,G=l(L);U<G.length;U++){var ie=G[U];E.push(L[ie])}}var S=u.table.core,x=S.schema.primaryKey,T=x.outbound,w=x.extractKey,C=o.db._options.modifyChunkSize||200,E=[],P=0,A=[];return o.clone().primaryKeys().then(function(O){function $(M){var U=Math.min(C,O.length-M);return S.getMany({trans:f,keys:O.slice(M,M+U),cache:"immutable"}).then(function(G){for(var ie=[],Q=[],re=T?[]:null,se=[],z=0;z<U;++z){var Ee=G[z],Pe={value:me(Ee),primKey:O[M+z]};m.call(Pe,Pe.value,Pe)!==!1&&(Pe.value==null?se.push(O[M+z]):T||qe(w(Ee),w(Pe.value))===0?(Q.push(Pe.value),T&&re.push(O[M+z])):(se.push(O[M+z]),ie.push(Pe.value)))}return Promise.resolve(0<ie.length&&S.mutate({trans:f,type:"add",values:ie}).then(function(Fe){for(var Ie in Fe.failures)se.splice(parseInt(Ie),1);_(ie.length,Fe)})).then(function(){return(0<Q.length||L&&typeof i=="object")&&S.mutate({trans:f,type:"put",keys:re,values:Q,criteria:L,changeSpec:typeof i!="function"&&i,isAdditionalChunk:0<M}).then(function(Fe){return _(Q.length,Fe)})}).then(function(){return(0<se.length||L&&i===As)&&S.mutate({trans:f,type:"delete",keys:se,criteria:L,isAdditionalChunk:0<M}).then(function(Fe){return _(se.length,Fe)})}).then(function(){return O.length>M+U&&$(M+C)})})}var L=lr(u)&&u.limit===1/0&&(typeof i!="function"||i===As)&&{index:u.index,range:u.range};return $(0).then(function(){if(0<E.length)throw new Ge("Error modifying one or more objects",E,P,A);return O.length})})})},Ve.prototype.delete=function(){var i=this._ctx,o=i.range;return lr(i)&&(i.isPrimKey||o.type===3)?this._write(function(u){var f=i.table.core.schema.primaryKey,d=o;return i.table.core.count({trans:u,query:{index:f,range:d}}).then(function(g){return i.table.core.mutate({trans:u,type:"deleteRange",range:d}).then(function(m){var _=m.failures;if(m.lastResult,m.results,m=m.numFailures,m)throw new Ge("Could not delete some values",Object.keys(_).map(function(S){return _[S]}),g-m);return g-m})})}):this.modify(As)},Ve);function Ve(){}var As=function(i,o){return o.value=null};function Cc(i,o){return i<o?-1:i===o?0:1}function Ac(i,o){return o<i?-1:i===o?0:1}function Bt(i,o,u){return i=i instanceof Pa?new i.Collection(i):i,i._ctx.error=new(u||TypeError)(o),i}function ur(i){return new i.Collection(i,function(){return Oa("")}).limit(0)}function _i(i,o,u,f){var d,g,m,_,S,x,T,w=u.length;if(!u.every(function(P){return typeof P=="string"}))return Bt(i,ma);function C(P){d=P==="next"?function(O){return O.toUpperCase()}:function(O){return O.toLowerCase()},g=P==="next"?function(O){return O.toLowerCase()}:function(O){return O.toUpperCase()},m=P==="next"?Cc:Ac;var A=u.map(function(O){return{lower:g(O),upper:d(O)}}).sort(function(O,$){return m(O.lower,$.lower)});_=A.map(function(O){return O.upper}),S=A.map(function(O){return O.lower}),T=(x=P)==="next"?"":f}C("next"),i=new i.Collection(i,function(){return xn(_[0],S[w-1]+f)}),i._ondirectionchange=function(P){C(P)};var E=0;return i._addAlgorithm(function(P,A,O){var $=P.key;if(typeof $!="string")return!1;var L=g($);if(o(L,S,E))return!0;for(var M=null,U=E;U<w;++U){var G=function(ie,Q,re,se,z,Ee){for(var Pe=Math.min(ie.length,se.length),Fe=-1,Ie=0;Ie<Pe;++Ie){var Yt=Q[Ie];if(Yt!==se[Ie])return z(ie[Ie],re[Ie])<0?ie.substr(0,Ie)+re[Ie]+re.substr(Ie+1):z(ie[Ie],se[Ie])<0?ie.substr(0,Ie)+se[Ie]+re.substr(Ie+1):0<=Fe?ie.substr(0,Fe)+Q[Fe]+re.substr(Fe+1):null;z(ie[Ie],Yt)<0&&(Fe=Ie)}return Pe<se.length&&Ee==="next"?ie+re.substr(ie.length):Pe<ie.length&&Ee==="prev"?ie.substr(0,re.length):Fe<0?null:ie.substr(0,Fe)+se[Fe]+re.substr(Fe+1)}($,L,_[U],S[U],m,x);G===null&&M===null?E=U+1:(M===null||0<m(M,G))&&(M=G)}return A(M!==null?function(){P.continue(M+T)}:O),!1}),i}function xn(i,o,u,f){return{type:2,lower:i,upper:o,lowerOpen:u,upperOpen:f}}function Oa(i){return{type:1,lower:i,upper:i}}var Pa=(Object.defineProperty(wt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),wt.prototype.between=function(i,o,u,f){u=u!==!1,f=f===!0;try{return 0<this._cmp(i,o)||this._cmp(i,o)===0&&(u||f)&&(!u||!f)?ur(this):new this.Collection(this,function(){return xn(i,o,!u,!f)})}catch{return Bt(this,hn)}},wt.prototype.equals=function(i){return i==null?Bt(this,hn):new this.Collection(this,function(){return Oa(i)})},wt.prototype.above=function(i){return i==null?Bt(this,hn):new this.Collection(this,function(){return xn(i,void 0,!0)})},wt.prototype.aboveOrEqual=function(i){return i==null?Bt(this,hn):new this.Collection(this,function(){return xn(i,void 0,!1)})},wt.prototype.below=function(i){return i==null?Bt(this,hn):new this.Collection(this,function(){return xn(void 0,i,!1,!0)})},wt.prototype.belowOrEqual=function(i){return i==null?Bt(this,hn):new this.Collection(this,function(){return xn(void 0,i)})},wt.prototype.startsWith=function(i){return typeof i!="string"?Bt(this,ma):this.between(i,i+Bn,!0,!0)},wt.prototype.startsWithIgnoreCase=function(i){return i===""?this.startsWith(i):_i(this,function(o,u){return o.indexOf(u[0])===0},[i],Bn)},wt.prototype.equalsIgnoreCase=function(i){return _i(this,function(o,u){return o===u[0]},[i],"")},wt.prototype.anyOfIgnoreCase=function(){var i=it.apply(pe,arguments);return i.length===0?ur(this):_i(this,function(o,u){return u.indexOf(o)!==-1},i,"")},wt.prototype.startsWithAnyOfIgnoreCase=function(){var i=it.apply(pe,arguments);return i.length===0?ur(this):_i(this,function(o,u){return u.some(function(f){return o.indexOf(f)===0})},i,Bn)},wt.prototype.anyOf=function(){var i=this,o=it.apply(pe,arguments),u=this._cmp;try{o.sort(u)}catch{return Bt(this,hn)}if(o.length===0)return ur(this);var f=new this.Collection(this,function(){return xn(o[0],o[o.length-1])});f._ondirectionchange=function(g){u=g==="next"?i._ascending:i._descending,o.sort(u)};var d=0;return f._addAlgorithm(function(g,m,_){for(var S=g.key;0<u(S,o[d]);)if(++d===o.length)return m(_),!1;return u(S,o[d])===0||(m(function(){g.continue(o[d])}),!1)}),f},wt.prototype.notEqual=function(i){return this.inAnyRange([[-1/0,i],[i,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},wt.prototype.noneOf=function(){var i=it.apply(pe,arguments);if(i.length===0)return new this.Collection(this);try{i.sort(this._ascending)}catch{return Bt(this,hn)}var o=i.reduce(function(u,f){return u?u.concat([[u[u.length-1][1],f]]):[[-1/0,f]]},null);return o.push([i[i.length-1],this.db._maxKey]),this.inAnyRange(o,{includeLowers:!1,includeUppers:!1})},wt.prototype.inAnyRange=function($,o){var u=this,f=this._cmp,d=this._ascending,g=this._descending,m=this._min,_=this._max;if($.length===0)return ur(this);if(!$.every(function(L){return L[0]!==void 0&&L[1]!==void 0&&d(L[0],L[1])<=0}))return Bt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",q.InvalidArgument);var S=!o||o.includeLowers!==!1,x=o&&o.includeUppers===!0,T,w=d;function C(L,M){return w(L[0],M[0])}try{(T=$.reduce(function(L,M){for(var U=0,G=L.length;U<G;++U){var ie=L[U];if(f(M[0],ie[1])<0&&0<f(M[1],ie[0])){ie[0]=m(ie[0],M[0]),ie[1]=_(ie[1],M[1]);break}}return U===G&&L.push(M),L},[])).sort(C)}catch{return Bt(this,hn)}var E=0,P=x?function(L){return 0<d(L,T[E][1])}:function(L){return 0<=d(L,T[E][1])},A=S?function(L){return 0<g(L,T[E][0])}:function(L){return 0<=g(L,T[E][0])},O=P,$=new this.Collection(this,function(){return xn(T[0][0],T[T.length-1][1],!S,!x)});return $._ondirectionchange=function(L){w=L==="next"?(O=P,d):(O=A,g),T.sort(C)},$._addAlgorithm(function(L,M,U){for(var G,ie=L.key;O(ie);)if(++E===T.length)return M(U),!1;return!P(G=ie)&&!A(G)||(u._cmp(ie,T[E][1])===0||u._cmp(ie,T[E][0])===0||M(function(){w===d?L.continue(T[E][0]):L.continue(T[E][1])}),!1)}),$},wt.prototype.startsWithAnyOf=function(){var i=it.apply(pe,arguments);return i.every(function(o){return typeof o=="string"})?i.length===0?ur(this):this.inAnyRange(i.map(function(o){return[o,o+Bn]})):Bt(this,"startsWithAnyOf() only works with strings")},wt);function wt(){}function nn(i){return ft(function(o){return Ir(o),i(o.target.error),!1})}function Ir(i){i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault()}var Dr="storagemutated",js="x-storagemutated-1",En=Ar(null,Dr),jc=(rn.prototype._lock=function(){return fe(!de.global),++this._reculock,this._reculock!==1||de.global||(de.lockOwnerFor=this),this},rn.prototype._unlock=function(){if(fe(!de.global),--this._reculock==0)for(de.global||(de.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var i=this._blockedFuncs.shift();try{Kn(i[1],i[0])}catch{}}return this},rn.prototype._locked=function(){return this._reculock&&de.lockOwnerFor!==this},rn.prototype.create=function(i){var o=this;if(!this.mode)return this;var u=this.db.idbdb,f=this.db._state.dbOpenError;if(fe(!this.idbtrans),!i&&!u)switch(f&&f.name){case"DatabaseClosedError":throw new q.DatabaseClosed(f);case"MissingAPIError":throw new q.MissingAPI(f.message,f);default:throw new q.OpenFailed(f)}if(!this.active)throw new q.TransactionInactive;return fe(this._completion._state===null),(i=this.idbtrans=i||(this.db.core||u).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=ft(function(d){Ir(d),o._reject(i.error)}),i.onabort=ft(function(d){Ir(d),o.active&&o._reject(new q.Abort(i.error)),o.active=!1,o.on("abort").fire(d)}),i.oncomplete=ft(function(){o.active=!1,o._resolve(),"mutatedParts"in i&&En.storagemutated.fire(i.mutatedParts)}),this},rn.prototype._promise=function(i,o,u){var f=this;if(i==="readwrite"&&this.mode!=="readwrite")return gt(new q.ReadOnly("Transaction is readonly"));if(!this.active)return gt(new q.TransactionInactive);if(this._locked())return new ue(function(g,m){f._blockedFuncs.push([function(){f._promise(i,o,u).then(g,m)},de])});if(u)return bn(function(){var g=new ue(function(m,_){f._lock();var S=o(m,_,f);S&&S.then&&S.then(m,_)});return g.finally(function(){return f._unlock()}),g._lib=!0,g});var d=new ue(function(g,m){var _=o(g,m,f);_&&_.then&&_.then(g,m)});return d._lib=!0,d},rn.prototype._root=function(){return this.parent?this.parent._root():this},rn.prototype.waitFor=function(i){var o,u=this._root(),f=ue.resolve(i);u._waitingFor?u._waitingFor=u._waitingFor.then(function(){return f}):(u._waitingFor=f,u._waitingQueue=[],o=u.idbtrans.objectStore(u.storeNames[0]),function g(){for(++u._spinCount;u._waitingQueue.length;)u._waitingQueue.shift()();u._waitingFor&&(o.get(-1/0).onsuccess=g)}());var d=u._waitingFor;return new ue(function(g,m){f.then(function(_){return u._waitingQueue.push(ft(g.bind(null,_)))},function(_){return u._waitingQueue.push(ft(m.bind(null,_)))}).finally(function(){u._waitingFor===d&&(u._waitingFor=null)})})},rn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new q.Abort))},rn.prototype.table=function(i){var o=this._memoizedTables||(this._memoizedTables={});if(b(o,i))return o[i];var u=this.schema[i];if(!u)throw new q.NotFound("Table "+i+" not part of transaction");return u=new this.db.Table(i,u,this),u.core=this.db.core.table(i),o[i]=u},rn);function rn(){}function Rs(i,o,u,f,d,g,m){return{name:i,keyPath:o,unique:u,multi:f,auto:d,compound:g,src:(u&&!m?"&":"")+(f?"*":"")+(d?"++":"")+Ta(o)}}function Ta(i){return typeof i=="string"?i:i?"["+[].join.call(i,"+")+"]":""}function Is(i,o,u){return{name:i,primKey:o,indexes:u,mappedClass:null,idxByName:(f=function(d){return[d.name,d]},u.reduce(function(d,g,m){return m=f(g,m),m&&(d[m[0]]=m[1]),d},{}))};var f}var $r=function(i){try{return i.only([[]]),$r=function(){return[[]]},[[]]}catch{return $r=function(){return Bn},Bn}};function Ds(i){return i==null?function(){}:typeof i=="string"?(o=i).split(".").length===1?function(u){return u[o]}:function(u){return Ze(u,o)}:function(u){return Ze(u,i)};var o}function Ca(i){return[].slice.call(i)}var Rc=0;function Lr(i){return i==null?":id":typeof i=="string"?i:"[".concat(i.join("+"),"]")}function Ic(i,o,S){function f(O){if(O.type===3)return null;if(O.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var E=O.lower,P=O.upper,A=O.lowerOpen,O=O.upperOpen;return E===void 0?P===void 0?null:o.upperBound(P,!!O):P===void 0?o.lowerBound(E,!!A):o.bound(E,P,!!A,!!O)}function d(C){var E,P=C.name;return{name:P,schema:C,mutate:function(A){var O=A.trans,$=A.type,L=A.keys,M=A.values,U=A.range;return new Promise(function(G,ie){G=ft(G);var Q=O.objectStore(P),re=Q.keyPath==null,se=$==="put"||$==="add";if(!se&&$!=="delete"&&$!=="deleteRange")throw new Error("Invalid operation type: "+$);var z,Ee=(L||M||{length:1}).length;if(L&&M&&L.length!==M.length)throw new Error("Given keys array must have same length as given values array.");if(Ee===0)return G({numFailures:0,failures:{},results:[],lastResult:void 0});function Pe(It){++Yt,Ir(It)}var Fe=[],Ie=[],Yt=0;if($==="deleteRange"){if(U.type===4)return G({numFailures:Yt,failures:Ie,results:[],lastResult:void 0});U.type===3?Fe.push(z=Q.clear()):Fe.push(z=Q.delete(f(U)))}else{var re=se?re?[M,L]:[M,null]:[L,null],De=re[0],xt=re[1];if(se)for(var Et=0;Et<Ee;++Et)Fe.push(z=xt&&xt[Et]!==void 0?Q[$](De[Et],xt[Et]):Q[$](De[Et])),z.onerror=Pe;else for(Et=0;Et<Ee;++Et)Fe.push(z=Q[$](De[Et])),z.onerror=Pe}function Ri(It){It=It.target.result,Fe.forEach(function(Hn,Xs){return Hn.error!=null&&(Ie[Xs]=Hn.error)}),G({numFailures:Yt,failures:Ie,results:$==="delete"?L:Fe.map(function(Hn){return Hn.result}),lastResult:It})}z.onerror=function(It){Pe(It),Ri(It)},z.onsuccess=Ri})},getMany:function(A){var O=A.trans,$=A.keys;return new Promise(function(L,M){L=ft(L);for(var U,G=O.objectStore(P),ie=$.length,Q=new Array(ie),re=0,se=0,z=function(Fe){Fe=Fe.target,Q[Fe._pos]=Fe.result,++se===re&&L(Q)},Ee=nn(M),Pe=0;Pe<ie;++Pe)$[Pe]!=null&&((U=G.get($[Pe]))._pos=Pe,U.onsuccess=z,U.onerror=Ee,++re);re===0&&L(Q)})},get:function(A){var O=A.trans,$=A.key;return new Promise(function(L,M){L=ft(L);var U=O.objectStore(P).get($);U.onsuccess=function(G){return L(G.target.result)},U.onerror=nn(M)})},query:(E=x,function(A){return new Promise(function(O,$){O=ft(O);var L,M,U,re=A.trans,G=A.values,ie=A.limit,z=A.query,Q=ie===1/0?void 0:ie,se=z.index,z=z.range,re=re.objectStore(P),se=se.isPrimaryKey?re:re.index(se.name),z=f(z);if(ie===0)return O({result:[]});E?((Q=G?se.getAll(z,Q):se.getAllKeys(z,Q)).onsuccess=function(Ee){return O({result:Ee.target.result})},Q.onerror=nn($)):(L=0,M=!G&&"openKeyCursor"in se?se.openKeyCursor(z):se.openCursor(z),U=[],M.onsuccess=function(Ee){var Pe=M.result;return Pe?(U.push(G?Pe.value:Pe.primaryKey),++L===ie?O({result:U}):void Pe.continue()):O({result:U})},M.onerror=nn($))})}),openCursor:function(A){var O=A.trans,$=A.values,L=A.query,M=A.reverse,U=A.unique;return new Promise(function(G,ie){G=ft(G);var se=L.index,Q=L.range,re=O.objectStore(P),re=se.isPrimaryKey?re:re.index(se.name),se=M?U?"prevunique":"prev":U?"nextunique":"next",z=!$&&"openKeyCursor"in re?re.openKeyCursor(f(Q),se):re.openCursor(f(Q),se);z.onerror=nn(ie),z.onsuccess=ft(function(Ee){var Pe,Fe,Ie,Yt,De=z.result;De?(De.___id=++Rc,De.done=!1,Pe=De.continue.bind(De),Fe=(Fe=De.continuePrimaryKey)&&Fe.bind(De),Ie=De.advance.bind(De),Yt=function(){throw new Error("Cursor not stopped")},De.trans=O,De.stop=De.continue=De.continuePrimaryKey=De.advance=function(){throw new Error("Cursor not started")},De.fail=ft(ie),De.next=function(){var xt=this,Et=1;return this.start(function(){return Et--?xt.continue():xt.stop()}).then(function(){return xt})},De.start=function(xt){function Et(){if(z.result)try{xt()}catch(It){De.fail(It)}else De.done=!0,De.start=function(){throw new Error("Cursor behind last entry")},De.stop()}var Ri=new Promise(function(It,Hn){It=ft(It),z.onerror=nn(Hn),De.fail=Hn,De.stop=function(Xs){De.stop=De.continue=De.continuePrimaryKey=De.advance=Yt,It(Xs)}});return z.onsuccess=ft(function(It){z.onsuccess=Et,Et()}),De.continue=Pe,De.continuePrimaryKey=Fe,De.advance=Ie,Et(),Ri},G(De)):G(null)},ie)})},count:function(A){var O=A.query,$=A.trans,L=O.index,M=O.range;return new Promise(function(U,G){var ie=$.objectStore(P),Q=L.isPrimaryKey?ie:ie.index(L.name),ie=f(M),Q=ie?Q.count(ie):Q.count();Q.onsuccess=ft(function(re){return U(re.target.result)}),Q.onerror=nn(G)})}}}var g,m,_,T=(m=S,_=Ca((g=i).objectStoreNames),{schema:{name:g.name,tables:_.map(function(C){return m.objectStore(C)}).map(function(C){var E=C.keyPath,O=C.autoIncrement,P=c(E),A={},O={name:C.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:E==null,compound:P,keyPath:E,autoIncrement:O,unique:!0,extractKey:Ds(E)},indexes:Ca(C.indexNames).map(function($){return C.index($)}).map(function(U){var L=U.name,M=U.unique,G=U.multiEntry,U=U.keyPath,G={name:L,compound:c(U),keyPath:U,unique:M,multiEntry:G,extractKey:Ds(U)};return A[Lr(U)]=G}),getIndexByKeyPath:function($){return A[Lr($)]}};return A[":id"]=O.primaryKey,E!=null&&(A[Lr(E)]=O.primaryKey),O})},hasGetAll:0<_.length&&"getAll"in m.objectStore(_[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),S=T.schema,x=T.hasGetAll,T=S.tables.map(d),w={};return T.forEach(function(C){return w[C.name]=C}),{stack:"dbcore",transaction:i.transaction.bind(i),table:function(C){if(!w[C])throw new Error("Table '".concat(C,"' not found"));return w[C]},MIN_KEY:-1/0,MAX_KEY:$r(o),schema:S}}function Dc(i,o,u,f){var d=u.IDBKeyRange;return u.indexedDB,{dbcore:(f=Ic(o,d,f),i.dbcore.reduce(function(g,m){return m=m.create,r(r({},g),m(g))},f))}}function bi(i,f){var u=f.db,f=Dc(i._middlewares,u,i._deps,f);i.core=f.dbcore,i.tables.forEach(function(d){var g=d.name;i.core.schema.tables.some(function(m){return m.name===g})&&(d.core=i.core.table(g),i[g]instanceof i.Table&&(i[g].core=d.core))})}function wi(i,o,u,f){u.forEach(function(d){var g=f[d];o.forEach(function(m){var _=function S(x,T){return ye(x,T)||(x=y(x))&&S(x,T)}(m,d);(!_||"value"in _&&_.value===void 0)&&(m===i.Transaction.prototype||m instanceof i.Transaction?Y(m,d,{get:function(){return this.table(d)},set:function(S){H(this,d,{value:S,writable:!0,configurable:!0,enumerable:!0})}}):m[d]=new i.Table(d,g))})})}function $s(i,o){o.forEach(function(u){for(var f in u)u[f]instanceof i.Table&&delete u[f]})}function $c(i,o){return i._cfg.version-o._cfg.version}function Lc(i,o,u,f){var d=i._dbSchema;u.objectStoreNames.contains("$meta")&&!d.$meta&&(d.$meta=Is("$meta",ja("")[0],[]),i._storeNames.push("$meta"));var g=i._createTransaction("readwrite",i._storeNames,d);g.create(u),g._completion.catch(f);var m=g._reject.bind(g),_=de.transless||de;bn(function(){return de.trans=g,de.transless=_,o!==0?(bi(i,u),x=o,((S=g).storeNames.includes("$meta")?S.table("$meta").get("version").then(function(T){return T??x}):ue.resolve(x)).then(function(T){return C=T,E=g,P=u,A=[],T=(w=i)._versions,O=w._dbSchema=xi(0,w.idbdb,P),(T=T.filter(function($){return $._cfg.version>=C})).length!==0?(T.forEach(function($){A.push(function(){var L=O,M=$._cfg.dbschema;Ei(w,L,P),Ei(w,M,P),O=w._dbSchema=M;var U=Ls(L,M);U.add.forEach(function(se){Ms(P,se[0],se[1].primKey,se[1].indexes)}),U.change.forEach(function(se){if(se.recreate)throw new q.Upgrade("Not yet support for changing primary key");var z=P.objectStore(se.name);se.add.forEach(function(Ee){return ki(z,Ee)}),se.change.forEach(function(Ee){z.deleteIndex(Ee.name),ki(z,Ee)}),se.del.forEach(function(Ee){return z.deleteIndex(Ee)})});var G=$._cfg.contentUpgrade;if(G&&$._cfg.version>C){bi(w,P),E._memoizedTables={};var ie=I(M);U.del.forEach(function(se){ie[se]=L[se]}),$s(w,[w.Transaction.prototype]),wi(w,[w.Transaction.prototype],l(ie),ie),E.schema=ie;var Q,re=Ye(G);return re&&or(),U=ue.follow(function(){var se;(Q=G(E))&&re&&(se=wn.bind(null,null),Q.then(se,se))}),Q&&typeof Q.then=="function"?ue.resolve(Q):U.then(function(){return Q})}}),A.push(function(L){var M,U,G=$._cfg.dbschema;M=G,U=L,[].slice.call(U.db.objectStoreNames).forEach(function(ie){return M[ie]==null&&U.db.deleteObjectStore(ie)}),$s(w,[w.Transaction.prototype]),wi(w,[w.Transaction.prototype],w._storeNames,w._dbSchema),E.schema=w._dbSchema}),A.push(function(L){w.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(w.idbdb.version/10)===$._cfg.version?(w.idbdb.deleteObjectStore("$meta"),delete w._dbSchema.$meta,w._storeNames=w._storeNames.filter(function(M){return M!=="$meta"})):L.objectStore("$meta").put($._cfg.version,"version"))})}),function $(){return A.length?ue.resolve(A.shift()(E.idbtrans)).then($):ue.resolve()}().then(function(){Aa(O,P)})):ue.resolve();var w,C,E,P,A,O}).catch(m)):(l(d).forEach(function(T){Ms(u,T,d[T].primKey,d[T].indexes)}),bi(i,u),void ue.follow(function(){return i.on.populate.fire(g)}).catch(m));var S,x})}function Mc(i,o){Aa(i._dbSchema,o),o.db.version%10!=0||o.objectStoreNames.contains("$meta")||o.db.createObjectStore("$meta").add(Math.ceil(o.db.version/10-1),"version");var u=xi(0,i.idbdb,o);Ei(i,i._dbSchema,o);for(var f=0,d=Ls(u,i._dbSchema).change;f<d.length;f++){var g=function(m){if(m.change.length||m.recreate)return console.warn("Unable to patch indexes of table ".concat(m.name," because it has changes on the type of index or primary key.")),{value:void 0};var _=o.objectStore(m.name);m.add.forEach(function(S){V&&console.debug("Dexie upgrade patch: Creating missing index ".concat(m.name,".").concat(S.src)),ki(_,S)})}(d[f]);if(typeof g=="object")return g.value}}function Ls(i,o){var u,f={del:[],add:[],change:[]};for(u in i)o[u]||f.del.push(u);for(u in o){var d=i[u],g=o[u];if(d){var m={name:u,def:g,recreate:!1,del:[],add:[],change:[]};if(""+(d.primKey.keyPath||"")!=""+(g.primKey.keyPath||"")||d.primKey.auto!==g.primKey.auto)m.recreate=!0,f.change.push(m);else{var _=d.idxByName,S=g.idxByName,x=void 0;for(x in _)S[x]||m.del.push(x);for(x in S){var T=_[x],w=S[x];T?T.src!==w.src&&m.change.push(w):m.add.push(w)}(0<m.del.length||0<m.add.length||0<m.change.length)&&f.change.push(m)}}else f.add.push([u,g])}return f}function Ms(i,o,u,f){var d=i.db.createObjectStore(o,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});return f.forEach(function(g){return ki(d,g)}),d}function Aa(i,o){l(i).forEach(function(u){o.db.objectStoreNames.contains(u)||(V&&console.debug("Dexie: Creating missing table",u),Ms(o,u,i[u].primKey,i[u].indexes))})}function ki(i,o){i.createIndex(o.name,o.keyPath,{unique:o.unique,multiEntry:o.multi})}function xi(i,o,u){var f={};return je(o.objectStoreNames,0).forEach(function(d){for(var g=u.objectStore(d),m=Rs(Ta(x=g.keyPath),x||"",!0,!1,!!g.autoIncrement,x&&typeof x!="string",!0),_=[],S=0;S<g.indexNames.length;++S){var T=g.index(g.indexNames[S]),x=T.keyPath,T=Rs(T.name,x,!!T.unique,!!T.multiEntry,!1,x&&typeof x!="string",!1);_.push(T)}f[d]=Is(d,m,_)}),f}function Ei(i,o,u){for(var f=u.db.objectStoreNames,d=0;d<f.length;++d){var g=f[d],m=u.objectStore(g);i._hasGetAll="getAll"in m;for(var _=0;_<m.indexNames.length;++_){var S=m.indexNames[_],x=m.index(S).keyPath,T=typeof x=="string"?x:"["+je(x).join("+")+"]";!o[g]||(x=o[g].idxByName[T])&&(x.name=S,delete o[g].idxByName[T],o[g].idxByName[S]=x)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(i._hasGetAll=!1)}function ja(i){return i.split(",").map(function(o,u){var f=(o=o.trim()).replace(/([&*]|\+\+)/g,""),d=/^\[/.test(f)?f.match(/^\[(.*)\]$/)[1].split("+"):f;return Rs(f,d||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),c(d),u===0)})}var Fc=(Si.prototype._parseStoresSpec=function(i,o){l(i).forEach(function(u){if(i[u]!==null){var f=ja(i[u]),d=f.shift();if(d.unique=!0,d.multi)throw new q.Schema("Primary key cannot be multi-valued");f.forEach(function(g){if(g.auto)throw new q.Schema("Only primary key can be marked as autoIncrement (++)");if(!g.keyPath)throw new q.Schema("Index must have a name and cannot be an empty string")}),o[u]=Is(u,d,f)}})},Si.prototype.stores=function(u){var o=this.db;this._cfg.storesSource=this._cfg.storesSource?h(this._cfg.storesSource,u):u;var u=o._versions,f={},d={};return u.forEach(function(g){h(f,g._cfg.storesSource),d=g._cfg.dbschema={},g._parseStoresSpec(f,d)}),o._dbSchema=d,$s(o,[o._allTables,o,o.Transaction.prototype]),wi(o,[o._allTables,o,o.Transaction.prototype,this._cfg.tables],l(d),d),o._storeNames=l(d),this},Si.prototype.upgrade=function(i){return this._cfg.contentUpgrade=J(this._cfg.contentUpgrade||be,i),this},Si);function Si(){}function Fs(i,o){var u=i._dbNamesDB;return u||(u=i._dbNamesDB=new pn(gi,{addons:[],indexedDB:i,IDBKeyRange:o})).version(1).stores({dbnames:"name"}),u.table("dbnames")}function Us(i){return i&&typeof i.databases=="function"}function Ks(i){return bn(function(){return de.letThrough=!0,i()})}function Bs(i){return!("from"in i)}var Rt=function(i,o){if(!this){var u=new Rt;return i&&"d"in i&&h(u,i),u}h(this,arguments.length?{d:1,from:i,to:1<arguments.length?o:i}:{d:0})};function Mr(i,o,u){var f=qe(o,u);if(!isNaN(f)){if(0<f)throw RangeError();if(Bs(i))return h(i,{from:o,to:u,d:1});var d=i.l,f=i.r;if(qe(u,i.from)<0)return d?Mr(d,o,u):i.l={from:o,to:u,d:1,l:null,r:null},Ia(i);if(0<qe(o,i.to))return f?Mr(f,o,u):i.r={from:o,to:u,d:1,l:null,r:null},Ia(i);qe(o,i.from)<0&&(i.from=o,i.l=null,i.d=f?f.d+1:1),0<qe(u,i.to)&&(i.to=u,i.r=null,i.d=i.l?i.l.d+1:1),u=!i.r,d&&!i.l&&Fr(i,d),f&&u&&Fr(i,f)}}function Fr(i,o){Bs(o)||function u(f,S){var g=S.from,m=S.to,_=S.l,S=S.r;Mr(f,g,m),_&&u(f,_),S&&u(f,S)}(i,o)}function Ra(i,o){var u=Oi(o),f=u.next();if(f.done)return!1;for(var d=f.value,g=Oi(i),m=g.next(d.from),_=m.value;!f.done&&!m.done;){if(qe(_.from,d.to)<=0&&0<=qe(_.to,d.from))return!0;qe(d.from,_.from)<0?d=(f=u.next(_.from)).value:_=(m=g.next(d.from)).value}return!1}function Oi(i){var o=Bs(i)?null:{s:0,n:i};return{next:function(u){for(var f=0<arguments.length;o;)switch(o.s){case 0:if(o.s=1,f)for(;o.n.l&&qe(u,o.n.from)<0;)o={up:o,n:o.n.l,s:1};else for(;o.n.l;)o={up:o,n:o.n.l,s:1};case 1:if(o.s=2,!f||qe(u,o.n.to)<=0)return{value:o.n,done:!1};case 2:if(o.n.r){o.s=3,o={up:o,n:o.n.r,s:0};continue}case 3:o=o.up}return{done:!0}}}}function Ia(i){var o,u,f=(((o=i.r)===null||o===void 0?void 0:o.d)||0)-(((u=i.l)===null||u===void 0?void 0:u.d)||0),d=1<f?"r":f<-1?"l":"";d&&(o=d=="r"?"l":"r",u=r({},i),f=i[d],i.from=f.from,i.to=f.to,i[d]=f[d],u[d]=f[o],(i[o]=u).d=Da(u)),i.d=Da(i)}function Da(u){var o=u.r,u=u.l;return(o?u?Math.max(o.d,u.d):o.d:u?u.d:0)+1}function Pi(i,o){return l(o).forEach(function(u){i[u]?Fr(i[u],o[u]):i[u]=function f(d){var g,m,_={};for(g in d)b(d,g)&&(m=d[g],_[g]=!m||typeof m!="object"||ce.has(m.constructor)?m:f(m));return _}(o[u])}),i}function Ns(i,o){return i.all||o.all||Object.keys(i).some(function(u){return o[u]&&Ra(o[u],i[u])})}j(Rt.prototype,((Jt={add:function(i){return Fr(this,i),this},addKey:function(i){return Mr(this,i,i),this},addKeys:function(i){var o=this;return i.forEach(function(u){return Mr(o,u,u)}),this},hasKey:function(i){var o=Oi(this).next(i).value;return o&&qe(o.from,i)<=0&&0<=qe(o.to,i)}})[Se]=function(){return Oi(this)},Jt));var qn={},qs={},Vs=!1;function Ti(i){Pi(qs,i),Vs||(Vs=!0,setTimeout(function(){Vs=!1,Hs(qs,!(qs={}))},0))}function Hs(i,o){o===void 0&&(o=!1);var u=new Set;if(i.all)for(var f=0,d=Object.values(qn);f<d.length;f++)$a(m=d[f],i,u,o);else for(var g in i){var m,_=/^idb\:\/\/(.*)\/(.*)\//.exec(g);_&&(g=_[1],_=_[2],(m=qn["idb://".concat(g,"/").concat(_)])&&$a(m,i,u,o))}u.forEach(function(S){return S()})}function $a(i,o,u,f){for(var d=[],g=0,m=Object.entries(i.queries.query);g<m.length;g++){for(var _=m[g],S=_[0],x=[],T=0,w=_[1];T<w.length;T++){var C=w[T];Ns(o,C.obsSet)?C.subscribers.forEach(function(O){return u.add(O)}):f&&x.push(C)}f&&d.push([S,x])}if(f)for(var E=0,P=d;E<P.length;E++){var A=P[E],S=A[0],x=A[1];i.queries.query[S]=x}}function Uc(i){var o=i._state,u=i._deps.indexedDB;if(o.isBeingOpened||i.idbdb)return o.dbReadyPromise.then(function(){return o.dbOpenError?gt(o.dbOpenError):i});o.isBeingOpened=!0,o.dbOpenError=null,o.openComplete=!1;var f=o.openCanceller,d=Math.round(10*i.verno),g=!1;function m(){if(o.openCanceller!==f)throw new q.DatabaseClosed("db.open() was cancelled")}function _(){return new ue(function(C,E){if(m(),!u)throw new q.MissingAPI;var P=i.name,A=o.autoSchema||!d?u.open(P):u.open(P,d);if(!A)throw new q.MissingAPI;A.onerror=nn(E),A.onblocked=ft(i._fireOnBlocked),A.onupgradeneeded=ft(function(O){var $;T=A.transaction,o.autoSchema&&!i._options.allowEmptyDB?(A.onerror=Ir,T.abort(),A.result.close(),($=u.deleteDatabase(P)).onsuccess=$.onerror=ft(function(){E(new q.NoSuchDatabase("Database ".concat(P," doesnt exist")))})):(T.onerror=nn(E),O=O.oldVersion>Math.pow(2,62)?0:O.oldVersion,w=O<1,i.idbdb=A.result,g&&Mc(i,T),Lc(i,O/10,T,E))},E),A.onsuccess=ft(function(){T=null;var O,$,L,M,U,G=i.idbdb=A.result,ie=je(G.objectStoreNames);if(0<ie.length)try{var Q=G.transaction((M=ie).length===1?M[0]:M,"readonly");if(o.autoSchema)$=G,L=Q,(O=i).verno=$.version/10,L=O._dbSchema=xi(0,$,L),O._storeNames=je($.objectStoreNames,0),wi(O,[O._allTables],l(L),L);else if(Ei(i,i._dbSchema,Q),((U=Ls(xi(0,(U=i).idbdb,Q),U._dbSchema)).add.length||U.change.some(function(re){return re.add.length||re.change.length}))&&!g)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),G.close(),d=G.version+1,g=!0,C(_());bi(i,Q)}catch{}ar.push(i),G.onversionchange=ft(function(re){o.vcFired=!0,i.on("versionchange").fire(re)}),G.onclose=ft(function(re){i.on("close").fire(re)}),w&&(U=i._deps,Q=P,G=U.indexedDB,U=U.IDBKeyRange,Us(G)||Q===gi||Fs(G,U).put({name:Q}).catch(be)),C()},E)}).catch(function(C){switch(C==null?void 0:C.name){case"UnknownError":if(0<o.PR1398_maxLoop)return o.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),_();break;case"VersionError":if(0<d)return d=0,_()}return ue.reject(C)})}var S,x=o.dbReadyResolve,T=null,w=!1;return ue.race([f,(typeof navigator>"u"?ue.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(C){function E(){return indexedDB.databases().finally(C)}S=setInterval(E,100),E()}).finally(function(){return clearInterval(S)}):Promise.resolve()).then(_)]).then(function(){return m(),o.onReadyBeingFired=[],ue.resolve(Ks(function(){return i.on.ready.fire(i.vip)})).then(function C(){if(0<o.onReadyBeingFired.length){var E=o.onReadyBeingFired.reduce(J,be);return o.onReadyBeingFired=[],ue.resolve(Ks(function(){return E(i.vip)})).then(C)}})}).finally(function(){o.openCanceller===f&&(o.onReadyBeingFired=null,o.isBeingOpened=!1)}).catch(function(C){o.dbOpenError=C;try{T&&T.abort()}catch{}return f===o.openCanceller&&i._close(),gt(C)}).finally(function(){o.openComplete=!0,x()}).then(function(){var C;return w&&(C={},i.tables.forEach(function(E){E.schema.indexes.forEach(function(P){P.name&&(C["idb://".concat(i.name,"/").concat(E.name,"/").concat(P.name)]=new Rt(-1/0,[[[]]]))}),C["idb://".concat(i.name,"/").concat(E.name,"/")]=C["idb://".concat(i.name,"/").concat(E.name,"/:dels")]=new Rt(-1/0,[[[]]])}),En(Dr).fire(C),Hs(C,!0)),i})}function Ws(i){function o(g){return i.next(g)}var u=d(o),f=d(function(g){return i.throw(g)});function d(g){return function(S){var _=g(S),S=_.value;return _.done?S:S&&typeof S.then=="function"?S.then(u,f):c(S)?Promise.all(S).then(u,f):u(S)}}return d(o)()}function Ci(i,o,u){for(var f=c(i)?i.slice():[i],d=0;d<u;++d)f.push(o);return f}var Kc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(i){return r(r({},i),{table:function(o){var u=i.table(o),f=u.schema,d={},g=[];function m(w,C,E){var P=Lr(w),A=d[P]=d[P]||[],O=w==null?0:typeof w=="string"?1:w.length,$=0<C,$=r(r({},E),{name:$?"".concat(P,"(virtual-from:").concat(E.name,")"):E.name,lowLevelIndex:E,isVirtual:$,keyTail:C,keyLength:O,extractKey:Ds(w),unique:!$&&E.unique});return A.push($),$.isPrimaryKey||g.push($),1<O&&m(O===2?w[0]:w.slice(0,O-1),C+1,E),A.sort(function(L,M){return L.keyTail-M.keyTail}),$}o=m(f.primaryKey.keyPath,0,f.primaryKey),d[":id"]=[o];for(var _=0,S=f.indexes;_<S.length;_++){var x=S[_];m(x.keyPath,0,x)}function T(w){var C,E=w.query.index;return E.isVirtual?r(r({},w),{query:{index:E.lowLevelIndex,range:(C=w.query.range,E=E.keyTail,{type:C.type===1?2:C.type,lower:Ci(C.lower,C.lowerOpen?i.MAX_KEY:i.MIN_KEY,E),lowerOpen:!0,upper:Ci(C.upper,C.upperOpen?i.MIN_KEY:i.MAX_KEY,E),upperOpen:!0})}}):w}return r(r({},u),{schema:r(r({},f),{primaryKey:o,indexes:g,getIndexByKeyPath:function(w){return(w=d[Lr(w)])&&w[0]}}),count:function(w){return u.count(T(w))},query:function(w){return u.query(T(w))},openCursor:function(w){var C=w.query.index,E=C.keyTail,P=C.isVirtual,A=C.keyLength;return P?u.openCursor(T(w)).then(function($){return $&&O($)}):u.openCursor(w);function O($){return Object.create($,{continue:{value:function(L){L!=null?$.continue(Ci(L,w.reverse?i.MAX_KEY:i.MIN_KEY,E)):w.unique?$.continue($.key.slice(0,A).concat(w.reverse?i.MIN_KEY:i.MAX_KEY,E)):$.continue()}},continuePrimaryKey:{value:function(L,M){$.continuePrimaryKey(Ci(L,i.MAX_KEY,E),M)}},primaryKey:{get:function(){return $.primaryKey}},key:{get:function(){var L=$.key;return A===1?L[0]:L.slice(0,A)}},value:{get:function(){return $.value}}})}}})}})}};function zs(i,o,u,f){return u=u||{},f=f||"",l(i).forEach(function(d){var g,m,_;b(o,d)?(g=i[d],m=o[d],typeof g=="object"&&typeof m=="object"&&g&&m?(_=ut(g))!==ut(m)?u[f+d]=o[d]:_==="Object"?zs(g,m,u,f+d+"."):g!==m&&(u[f+d]=o[d]):g!==m&&(u[f+d]=o[d])):u[f+d]=void 0}),l(o).forEach(function(d){b(i,d)||(u[f+d]=o[d])}),u}function Js(i,o){return o.type==="delete"?o.keys:o.keys||o.values.map(i.extractKey)}var Bc={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(i){return r(r({},i),{table:function(o){var u=i.table(o),f=u.schema.primaryKey;return r(r({},u),{mutate:function(d){var g=de.trans,m=g.table(o).hook,_=m.deleting,S=m.creating,x=m.updating;switch(d.type){case"add":if(S.fire===be)break;return g._promise("readwrite",function(){return T(d)},!0);case"put":if(S.fire===be&&x.fire===be)break;return g._promise("readwrite",function(){return T(d)},!0);case"delete":if(_.fire===be)break;return g._promise("readwrite",function(){return T(d)},!0);case"deleteRange":if(_.fire===be)break;return g._promise("readwrite",function(){return function w(C,E,P){return u.query({trans:C,values:!1,query:{index:f,range:E},limit:P}).then(function(A){var O=A.result;return T({type:"delete",keys:O,trans:C}).then(function($){return 0<$.numFailures?Promise.reject($.failures[0]):O.length<P?{failures:[],numFailures:0,lastResult:void 0}:w(C,r(r({},E),{lower:O[O.length-1],lowerOpen:!0}),P)})})}(d.trans,d.range,1e4)},!0)}return u.mutate(d);function T(w){var C,E,P,A=de.trans,O=w.keys||Js(f,w);if(!O)throw new Error("Keys missing");return(w=w.type==="add"||w.type==="put"?r(r({},w),{keys:O}):r({},w)).type!=="delete"&&(w.values=s([],w.values)),w.keys&&(w.keys=s([],w.keys)),C=u,P=O,((E=w).type==="add"?Promise.resolve([]):C.getMany({trans:E.trans,keys:P,cache:"immutable"})).then(function($){var L=O.map(function(M,U){var G,ie,Q,re=$[U],se={onerror:null,onsuccess:null};return w.type==="delete"?_.fire.call(se,M,re,A):w.type==="add"||re===void 0?(G=S.fire.call(se,M,w.values[U],A),M==null&&G!=null&&(w.keys[U]=M=G,f.outbound||_e(w.values[U],f.keyPath,M))):(G=zs(re,w.values[U]),(ie=x.fire.call(se,G,M,re,A))&&(Q=w.values[U],Object.keys(ie).forEach(function(z){b(Q,z)?Q[z]=ie[z]:_e(Q,z,ie[z])}))),se});return u.mutate(w).then(function(M){for(var U=M.failures,G=M.results,ie=M.numFailures,M=M.lastResult,Q=0;Q<O.length;++Q){var re=(G||O)[Q],se=L[Q];re==null?se.onerror&&se.onerror(U[Q]):se.onsuccess&&se.onsuccess(w.type==="put"&&$[Q]?w.values[Q]:re)}return{failures:U,results:G,numFailures:ie,lastResult:M}}).catch(function(M){return L.forEach(function(U){return U.onerror&&U.onerror(M)}),Promise.reject(M)})})}}})}})}};function La(i,o,u){try{if(!o||o.keys.length<i.length)return null;for(var f=[],d=0,g=0;d<o.keys.length&&g<i.length;++d)qe(o.keys[d],i[g])===0&&(f.push(u?me(o.values[d]):o.values[d]),++g);return f.length===i.length?f:null}catch{return null}}var Nc={stack:"dbcore",level:-1,create:function(i){return{table:function(o){var u=i.table(o);return r(r({},u),{getMany:function(f){if(!f.cache)return u.getMany(f);var d=La(f.keys,f.trans._cache,f.cache==="clone");return d?ue.resolve(d):u.getMany(f).then(function(g){return f.trans._cache={keys:f.keys,values:f.cache==="clone"?me(g):g},g})},mutate:function(f){return f.type!=="add"&&(f.trans._cache=null),u.mutate(f)}})}}}};function Ma(i,o){return i.trans.mode==="readonly"&&!!i.subscr&&!i.trans.explicit&&i.trans.db._options.cache!=="disabled"&&!o.schema.primaryKey.outbound}function Fa(i,o){switch(i){case"query":return o.values&&!o.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var qc={stack:"dbcore",level:0,name:"Observability",create:function(i){var o=i.schema.name,u=new Rt(i.MIN_KEY,i.MAX_KEY);return r(r({},i),{transaction:function(f,d,g){if(de.subscr&&d!=="readonly")throw new q.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(de.querier));return i.transaction(f,d,g)},table:function(f){var d=i.table(f),g=d.schema,m=g.primaryKey,w=g.indexes,_=m.extractKey,S=m.outbound,x=m.autoIncrement&&w.filter(function(E){return E.compound&&E.keyPath.includes(m.keyPath)}),T=r(r({},d),{mutate:function(E){function P(z){return z="idb://".concat(o,"/").concat(f,"/").concat(z),M[z]||(M[z]=new Rt)}var A,O,$,L=E.trans,M=E.mutatedParts||(E.mutatedParts={}),U=P(""),G=P(":dels"),ie=E.type,se=E.type==="deleteRange"?[E.range]:E.type==="delete"?[E.keys]:E.values.length<50?[Js(m,E).filter(function(z){return z}),E.values]:[],Q=se[0],re=se[1],se=E.trans._cache;return c(Q)?(U.addKeys(Q),(se=ie==="delete"||Q.length===re.length?La(Q,se):null)||G.addKeys(Q),(se||re)&&(A=P,O=se,$=re,g.indexes.forEach(function(z){var Ee=A(z.name||"");function Pe(Ie){return Ie!=null?z.extractKey(Ie):null}function Fe(Ie){return z.multiEntry&&c(Ie)?Ie.forEach(function(Yt){return Ee.addKey(Yt)}):Ee.addKey(Ie)}(O||$).forEach(function(Ie,xt){var De=O&&Pe(O[xt]),xt=$&&Pe($[xt]);qe(De,xt)!==0&&(De!=null&&Fe(De),xt!=null&&Fe(xt))})}))):Q?(re={from:Q.lower,to:Q.upper},G.add(re),U.add(re)):(U.add(u),G.add(u),g.indexes.forEach(function(z){return P(z.name).add(u)})),d.mutate(E).then(function(z){return!Q||E.type!=="add"&&E.type!=="put"||(U.addKeys(z.results),x&&x.forEach(function(Ee){var Pe=E.values.map(function(Ie){return Ee.extractKey(Ie)}),Fe=Ee.keyPath.findIndex(function(Ie){return Ie===m.keyPath});z.results.forEach(function(Ie){return Pe[Fe]=Ie}),P(Ee.name).addKeys(Pe)})),L.mutatedParts=Pi(L.mutatedParts||{},M),z})}}),w=function(P){var A=P.query,P=A.index,A=A.range;return[P,new Rt((P=A.lower)!==null&&P!==void 0?P:i.MIN_KEY,(A=A.upper)!==null&&A!==void 0?A:i.MAX_KEY)]},C={get:function(E){return[m,new Rt(E.key)]},getMany:function(E){return[m,new Rt().addKeys(E.keys)]},count:w,query:w,openCursor:w};return l(C).forEach(function(E){T[E]=function(P){var A=de.subscr,O=!!A,$=Ma(de,d)&&Fa(E,P)?P.obsSet={}:A;if(O){var L=function(re){return re="idb://".concat(o,"/").concat(f,"/").concat(re),$[re]||($[re]=new Rt)},M=L(""),U=L(":dels"),A=C[E](P),O=A[0],A=A[1];if((E==="query"&&O.isPrimaryKey&&!P.values?U:L(O.name||"")).add(A),!O.isPrimaryKey){if(E!=="count"){var G=E==="query"&&S&&P.values&&d.query(r(r({},P),{values:!1}));return d[E].apply(this,arguments).then(function(re){if(E==="query"){if(S&&P.values)return G.then(function(Pe){return Pe=Pe.result,M.addKeys(Pe),re});var se=P.values?re.result.map(_):re.result;(P.values?M:U).addKeys(se)}else if(E==="openCursor"){var z=re,Ee=P.values;return z&&Object.create(z,{key:{get:function(){return U.addKey(z.primaryKey),z.key}},primaryKey:{get:function(){var Pe=z.primaryKey;return U.addKey(Pe),Pe}},value:{get:function(){return Ee&&M.addKey(z.primaryKey),z.value}}})}return re})}U.add(u)}}return d[E].apply(this,arguments)}}),T}})}};function Ua(i,o,u){if(u.numFailures===0)return o;if(o.type==="deleteRange")return null;var f=o.keys?o.keys.length:"values"in o&&o.values?o.values.length:1;return u.numFailures===f?null:(o=r({},o),c(o.keys)&&(o.keys=o.keys.filter(function(d,g){return!(g in u.failures)})),"values"in o&&c(o.values)&&(o.values=o.values.filter(function(d,g){return!(g in u.failures)})),o)}function Gs(i,o){return u=i,((f=o).lower===void 0||(f.lowerOpen?0<qe(u,f.lower):0<=qe(u,f.lower)))&&(i=i,(o=o).upper===void 0||(o.upperOpen?qe(i,o.upper)<0:qe(i,o.upper)<=0));var u,f}function Ka(i,o,C,f,d,g){if(!C||C.length===0)return i;var m=o.query.index,_=m.multiEntry,S=o.query.range,x=f.schema.primaryKey.extractKey,T=m.extractKey,w=(m.lowLevelIndex||m).extractKey,C=C.reduce(function(E,P){var A=E,O=[];if(P.type==="add"||P.type==="put")for(var $=new Rt,L=P.values.length-1;0<=L;--L){var M,U=P.values[L],G=x(U);$.hasKey(G)||(M=T(U),(_&&c(M)?M.some(function(se){return Gs(se,S)}):Gs(M,S))&&($.addKey(G),O.push(U)))}switch(P.type){case"add":A=E.concat(o.values?O:O.map(function(z){return x(z)}));break;case"put":var ie=new Rt().addKeys(P.values.map(function(z){return x(z)})),A=E.filter(function(z){return!ie.hasKey(o.values?x(z):z)}).concat(o.values?O:O.map(function(z){return x(z)}));break;case"delete":var Q=new Rt().addKeys(P.keys);A=E.filter(function(z){return!Q.hasKey(o.values?x(z):z)});break;case"deleteRange":var re=P.range;A=E.filter(function(z){return!Gs(x(z),re)})}return A},i);return C===i?i:(C.sort(function(E,P){return qe(w(E),w(P))||qe(x(E),x(P))}),o.limit&&o.limit<1/0&&(C.length>o.limit?C.length=o.limit:i.length===o.limit&&C.length<o.limit&&(d.dirty=!0)),g?Object.freeze(C):C)}function Ba(i,o){return qe(i.lower,o.lower)===0&&qe(i.upper,o.upper)===0&&!!i.lowerOpen==!!o.lowerOpen&&!!i.upperOpen==!!o.upperOpen}function Vc(i,o){return function(u,f,d,g){if(u===void 0)return f!==void 0?-1:0;if(f===void 0)return 1;if((f=qe(u,f))===0){if(d&&g)return 0;if(d)return 1;if(g)return-1}return f}(i.lower,o.lower,i.lowerOpen,o.lowerOpen)<=0&&0<=function(u,f,d,g){if(u===void 0)return f!==void 0?1:0;if(f===void 0)return-1;if((f=qe(u,f))===0){if(d&&g)return 0;if(d)return-1;if(g)return 1}return f}(i.upper,o.upper,i.upperOpen,o.upperOpen)}function Hc(i,o,u,f){i.subscribers.add(u),f.addEventListener("abort",function(){var d,g;i.subscribers.delete(u),i.subscribers.size===0&&(d=i,g=o,setTimeout(function(){d.subscribers.size===0&&ve(g,d)},3e3))})}var Wc={stack:"dbcore",level:0,name:"Cache",create:function(i){var o=i.schema.name;return r(r({},i),{transaction:function(u,f,d){var g,m,_=i.transaction(u,f,d);return f==="readwrite"&&(m=(g=new AbortController).signal,d=function(S){return function(){if(g.abort(),f==="readwrite"){for(var x=new Set,T=0,w=u;T<w.length;T++){var C=w[T],E=qn["idb://".concat(o,"/").concat(C)];if(E){var P=i.table(C),A=E.optimisticOps.filter(function(Ee){return Ee.trans===_});if(_._explicit&&S&&_.mutatedParts)for(var O=0,$=Object.values(E.queries.query);O<$.length;O++)for(var L=0,M=(ie=$[O]).slice();L<M.length;L++)Ns((Q=M[L]).obsSet,_.mutatedParts)&&(ve(ie,Q),Q.subscribers.forEach(function(Ee){return x.add(Ee)}));else if(0<A.length){E.optimisticOps=E.optimisticOps.filter(function(Ee){return Ee.trans!==_});for(var U=0,G=Object.values(E.queries.query);U<G.length;U++)for(var ie,Q,re,se=0,z=(ie=G[U]).slice();se<z.length;se++)(Q=z[se]).res!=null&&_.mutatedParts&&(S&&!Q.dirty?(re=Object.isFrozen(Q.res),re=Ka(Q.res,Q.req,A,P,Q,re),Q.dirty?(ve(ie,Q),Q.subscribers.forEach(function(Ee){return x.add(Ee)})):re!==Q.res&&(Q.res=re,Q.promise=ue.resolve({result:re}))):(Q.dirty&&ve(ie,Q),Q.subscribers.forEach(function(Ee){return x.add(Ee)})))}}}x.forEach(function(Ee){return Ee()})}}},_.addEventListener("abort",d(!1),{signal:m}),_.addEventListener("error",d(!1),{signal:m}),_.addEventListener("complete",d(!0),{signal:m})),_},table:function(u){var f=i.table(u),d=f.schema.primaryKey;return r(r({},f),{mutate:function(g){var m=de.trans;if(d.outbound||m.db._options.cache==="disabled"||m.explicit)return f.mutate(g);var _=qn["idb://".concat(o,"/").concat(u)];return _?(m=f.mutate(g),g.type!=="add"&&g.type!=="put"||!(50<=g.values.length||Js(d,g).some(function(S){return S==null}))?(_.optimisticOps.push(g),g.mutatedParts&&Ti(g.mutatedParts),m.then(function(S){0<S.numFailures&&(ve(_.optimisticOps,g),(S=Ua(0,g,S))&&_.optimisticOps.push(S),g.mutatedParts&&Ti(g.mutatedParts))}),m.catch(function(){ve(_.optimisticOps,g),g.mutatedParts&&Ti(g.mutatedParts)})):m.then(function(S){var x=Ua(0,r(r({},g),{values:g.values.map(function(E,w){var C,E=(C=d.keyPath)!==null&&C!==void 0&&C.includes(".")?me(E):r({},E);return _e(E,d.keyPath,S.results[w]),E})}),S);_.optimisticOps.push(x),queueMicrotask(function(){return g.mutatedParts&&Ti(g.mutatedParts)})}),m):f.mutate(g)},query:function(g){if(!Ma(de,f)||!Fa("query",g))return f.query(g);var m=((x=de.trans)===null||x===void 0?void 0:x.db._options.cache)==="immutable",w=de,_=w.requery,S=w.signal,x=function(P,A,O,$){var L=qn["idb://".concat(P,"/").concat(A)];if(!L)return[];if(!(A=L.queries[O]))return[null,!1,L,null];var M=A[($.query?$.query.index.name:null)||""];if(!M)return[null,!1,L,null];switch(O){case"query":var U=M.find(function(G){return G.req.limit===$.limit&&G.req.values===$.values&&Ba(G.req.query.range,$.query.range)});return U?[U,!0,L,M]:[M.find(function(G){return("limit"in G.req?G.req.limit:1/0)>=$.limit&&(!$.values||G.req.values)&&Vc(G.req.query.range,$.query.range)}),!1,L,M];case"count":return U=M.find(function(G){return Ba(G.req.query.range,$.query.range)}),[U,!!U,L,M]}}(o,u,"query",g),T=x[0],w=x[1],C=x[2],E=x[3];return T&&w?T.obsSet=g.obsSet:(w=f.query(g).then(function(P){var A=P.result;if(T&&(T.res=A),m){for(var O=0,$=A.length;O<$;++O)Object.freeze(A[O]);Object.freeze(A)}else P.result=me(A);return P}).catch(function(P){return E&&T&&ve(E,T),Promise.reject(P)}),T={obsSet:g.obsSet,promise:w,subscribers:new Set,type:"query",req:g,dirty:!1},E?E.push(T):(E=[T],(C=C||(qn["idb://".concat(o,"/").concat(u)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[g.query.index.name||""]=E)),Hc(T,E,_,S),T.promise.then(function(P){return{result:Ka(P.result,g,C==null?void 0:C.optimisticOps,f,T,m)}})}})}})}};function Ai(i,o){return new Proxy(i,{get:function(u,f,d){return f==="db"?o:Reflect.get(u,f,d)}})}var pn=(yt.prototype.version=function(i){if(isNaN(i)||i<.1)throw new q.Type("Given version is not a positive number");if(i=Math.round(10*i)/10,this.idbdb||this._state.isBeingOpened)throw new q.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,i);var o=this._versions,u=o.filter(function(f){return f._cfg.version===i})[0];return u||(u=new this.Version(i),o.push(u),o.sort($c),u.stores({}),this._state.autoSchema=!1,u)},yt.prototype._whenReady=function(i){var o=this;return this.idbdb&&(this._state.openComplete||de.letThrough||this._vip)?i():new ue(function(u,f){if(o._state.openComplete)return f(new q.DatabaseClosed(o._state.dbOpenError));if(!o._state.isBeingOpened){if(!o._state.autoOpen)return void f(new q.DatabaseClosed);o.open().catch(be)}o._state.dbReadyPromise.then(u,f)}).then(i)},yt.prototype.use=function(i){var o=i.stack,u=i.create,f=i.level,d=i.name;return d&&this.unuse({stack:o,name:d}),i=this._middlewares[o]||(this._middlewares[o]=[]),i.push({stack:o,create:u,level:f??10,name:d}),i.sort(function(g,m){return g.level-m.level}),this},yt.prototype.unuse=function(i){var o=i.stack,u=i.name,f=i.create;return o&&this._middlewares[o]&&(this._middlewares[o]=this._middlewares[o].filter(function(d){return f?d.create!==f:!!u&&d.name!==u})),this},yt.prototype.open=function(){var i=this;return Kn(nt,function(){return Uc(i)})},yt.prototype._close=function(){var i=this._state,o=ar.indexOf(this);if(0<=o&&ar.splice(o,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}i.isBeingOpened||(i.dbReadyPromise=new ue(function(u){i.dbReadyResolve=u}),i.openCanceller=new ue(function(u,f){i.cancelOpen=f}))},yt.prototype.close=function(u){var o=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,u=this._state;o?(u.isBeingOpened&&u.cancelOpen(new q.DatabaseClosed),this._close(),u.autoOpen=!1,u.dbOpenError=new q.DatabaseClosed):(this._close(),u.autoOpen=this._options.autoOpen||u.isBeingOpened,u.openComplete=!1,u.dbOpenError=null)},yt.prototype.delete=function(i){var o=this;i===void 0&&(i={disableAutoOpen:!0});var u=0<arguments.length&&typeof arguments[0]!="object",f=this._state;return new ue(function(d,g){function m(){o.close(i);var _=o._deps.indexedDB.deleteDatabase(o.name);_.onsuccess=ft(function(){var S,x,T;S=o._deps,x=o.name,T=S.indexedDB,S=S.IDBKeyRange,Us(T)||x===gi||Fs(T,S).delete(x).catch(be),d()}),_.onerror=nn(g),_.onblocked=o._fireOnBlocked}if(u)throw new q.InvalidArgument("Invalid closeOptions argument to db.delete()");f.isBeingOpened?f.dbReadyPromise.then(m):m()})},yt.prototype.backendDB=function(){return this.idbdb},yt.prototype.isOpen=function(){return this.idbdb!==null},yt.prototype.hasBeenClosed=function(){var i=this._state.dbOpenError;return i&&i.name==="DatabaseClosed"},yt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},yt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(yt.prototype,"tables",{get:function(){var i=this;return l(this._allTables).map(function(o){return i._allTables[o]})},enumerable:!1,configurable:!0}),yt.prototype.transaction=function(){var i=(function(o,u,f){var d=arguments.length;if(d<2)throw new q.InvalidArgument("Too few arguments");for(var g=new Array(d-1);--d;)g[d-1]=arguments[d];return f=g.pop(),[o,W(g),f]}).apply(this,arguments);return this._transaction.apply(this,i)},yt.prototype._transaction=function(i,o,u){var f=this,d=de.trans;d&&d.db===this&&i.indexOf("!")===-1||(d=null);var g,m,_=i.indexOf("?")!==-1;i=i.replace("!","").replace("?","");try{if(m=o.map(function(x){if(x=x instanceof f.Table?x.name:x,typeof x!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return x}),i=="r"||i===Os)g=Os;else{if(i!="rw"&&i!=Ps)throw new q.InvalidArgument("Invalid transaction mode: "+i);g=Ps}if(d){if(d.mode===Os&&g===Ps){if(!_)throw new q.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");d=null}d&&m.forEach(function(x){if(d&&d.storeNames.indexOf(x)===-1){if(!_)throw new q.SubTransaction("Table "+x+" not included in parent transaction.");d=null}}),_&&d&&!d.active&&(d=null)}}catch(x){return d?d._promise(null,function(T,w){w(x)}):gt(x)}var S=(function x(T,w,C,E,P){return ue.resolve().then(function(){var A=de.transless||de,O=T._createTransaction(w,C,T._dbSchema,E);if(O.explicit=!0,A={trans:O,transless:A},E)O.idbtrans=E.idbtrans;else try{O.create(),O.idbtrans._explicit=!0,T._state.PR1398_maxLoop=3}catch(M){return M.name===et.InvalidState&&T.isOpen()&&0<--T._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),T.close({disableAutoOpen:!1}),T.open().then(function(){return x(T,w,C,null,P)})):gt(M)}var $,L=Ye(P);return L&&or(),A=ue.follow(function(){var M;($=P.call(O,O))&&(L?(M=wn.bind(null,null),$.then(M,M)):typeof $.next=="function"&&typeof $.throw=="function"&&($=Ws($)))},A),($&&typeof $.then=="function"?ue.resolve($).then(function(M){return O.active?M:gt(new q.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):A.then(function(){return $})).then(function(M){return E&&O._resolve(),O._completion.then(function(){return M})}).catch(function(M){return O._reject(M),gt(M)})})}).bind(null,this,g,m,d,u);return d?d._promise(g,S,"lock"):de.trans?Kn(de.transless,function(){return f._whenReady(S)}):this._whenReady(S)},yt.prototype.table=function(i){if(!b(this._allTables,i))throw new q.InvalidTable("Table ".concat(i," does not exist"));return this._allTables[i]},yt);function yt(i,o){var u=this;this._middlewares={},this.verno=0;var f=yt.dependencies;this._options=o=r({addons:yt.addons,autoOpen:!0,indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange,cache:"cloned"},o),this._deps={indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange},f=o.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var d,g,m,_,S,x={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:be,dbReadyPromise:null,cancelOpen:be,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:o.autoOpen};x.dbReadyPromise=new ue(function(w){x.dbReadyResolve=w}),x.openCanceller=new ue(function(w,C){x.cancelOpen=C}),this._state=x,this.name=i,this.on=Ar(this,"populate","blocked","versionchange","close",{ready:[J,be]}),this.on.ready.subscribe=Re(this.on.ready.subscribe,function(w){return function(C,E){yt.vip(function(){var P,A=u._state;A.openComplete?(A.dbOpenError||ue.resolve().then(C),E&&w(C)):A.onReadyBeingFired?(A.onReadyBeingFired.push(C),E&&w(C)):(w(C),P=u,E||w(function O(){P.on.ready.unsubscribe(C),P.on.ready.unsubscribe(O)}))})}}),this.Collection=(d=this,jr(Tc.prototype,function($,O){this.db=d;var E=va,P=null;if(O)try{E=O()}catch(L){P=L}var A=$._ctx,O=A.table,$=O.hook.reading.fire;this._ctx={table:O,index:A.index,isPrimKey:!A.index||O.schema.primKey.keyPath&&A.index===O.schema.primKey.name,range:E,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:P,or:A.or,valueMapper:$!==v?$:null}})),this.Table=(g=this,jr(ka.prototype,function(w,C,E){this.db=g,this._tx=E,this.name=w,this.schema=C,this.hook=g._allTables[w]?g._allTables[w].hook:Ar(null,{creating:[F,be],reading:[k,v],updating:[N,be],deleting:[B,be]})})),this.Transaction=(m=this,jr(jc.prototype,function(w,C,E,P,A){var O=this;this.db=m,this.mode=w,this.storeNames=C,this.schema=E,this.chromeTransactionDurability=P,this.idbtrans=null,this.on=Ar(this,"complete","error","abort"),this.parent=A||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ue(function($,L){O._resolve=$,O._reject=L}),this._completion.then(function(){O.active=!1,O.on.complete.fire()},function($){var L=O.active;return O.active=!1,O.on.error.fire($),O.parent?O.parent._reject($):L&&O.idbtrans&&O.idbtrans.abort(),gt($)})})),this.Version=(_=this,jr(Fc.prototype,function(w){this.db=_,this._cfg={version:w,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(S=this,jr(Pa.prototype,function(w,C,E){if(this.db=S,this._ctx={table:w,index:C===":id"?null:C,or:E},this._cmp=this._ascending=qe,this._descending=function(P,A){return qe(A,P)},this._max=function(P,A){return 0<qe(P,A)?P:A},this._min=function(P,A){return qe(P,A)<0?P:A},this._IDBKeyRange=S._deps.IDBKeyRange,!this._IDBKeyRange)throw new q.MissingAPI})),this.on("versionchange",function(w){0<w.newVersion?console.warn("Another connection wants to upgrade database '".concat(u.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(u.name,"'. Closing db now to resume the delete request.")),u.close({disableAutoOpen:!1})}),this.on("blocked",function(w){!w.newVersion||w.newVersion<w.oldVersion?console.warn("Dexie.delete('".concat(u.name,"') was blocked")):console.warn("Upgrade '".concat(u.name,"' blocked by other connection holding version ").concat(w.oldVersion/10))}),this._maxKey=$r(o.IDBKeyRange),this._createTransaction=function(w,C,E,P){return new u.Transaction(w,C,E,u._options.chromeTransactionDurability,P)},this._fireOnBlocked=function(w){u.on("blocked").fire(w),ar.filter(function(C){return C.name===u.name&&C!==u&&!C._state.vcFired}).map(function(C){return C.on("versionchange").fire(w)})},this.use(Nc),this.use(Wc),this.use(qc),this.use(Kc),this.use(Bc);var T=new Proxy(this,{get:function(w,C,E){if(C==="_vip")return!0;if(C==="table")return function(A){return Ai(u.table(A),T)};var P=Reflect.get(w,C,E);return P instanceof ka?Ai(P,T):C==="tables"?P.map(function(A){return Ai(A,T)}):C==="_createTransaction"?function(){return Ai(P.apply(this,arguments),T)}:P}});this.vip=T,f.forEach(function(w){return w(u)})}var ji,Jt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",zc=(Qs.prototype.subscribe=function(i,o,u){return this._subscribe(i&&typeof i!="function"?i:{next:i,error:o,complete:u})},Qs.prototype[Jt]=function(){return this},Qs);function Qs(i){this._subscribe=i}try{ji={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{ji={indexedDB:null,IDBKeyRange:null}}function Na(i){var o,u=!1,f=new zc(function(d){var g=Ye(i),m,_=!1,S={},x={},T={get closed(){return _},unsubscribe:function(){_||(_=!0,m&&m.abort(),w&&En.storagemutated.unsubscribe(E))}};d.start&&d.start(T);var w=!1,C=function(){return Ss(P)},E=function(A){Pi(S,A),Ns(x,S)&&C()},P=function(){var A,O,$;!_&&ji.indexedDB&&(S={},A={},m&&m.abort(),m=new AbortController,$=function(L){var M=ir();try{g&&or();var U=bn(i,L);return U=g?U.finally(wn):U}finally{M&&sr()}}(O={subscr:A,signal:m.signal,requery:C,querier:i,trans:null}),Promise.resolve($).then(function(L){u=!0,o=L,_||O.signal.aborted||(S={},function(M){for(var U in M)if(b(M,U))return;return 1}(x=A)||w||(En(Dr,E),w=!0),Ss(function(){return!_&&d.next&&d.next(L)}))},function(L){u=!1,["DatabaseClosedError","AbortError"].includes(L==null?void 0:L.name)||_||Ss(function(){_||d.error&&d.error(L)})}))};return setTimeout(C,0),T});return f.hasValue=function(){return u},f.getValue=function(){return o},f}var Vn=pn;function Ys(i){var o=Sn;try{Sn=!0,En.storagemutated.fire(i),Hs(i,!0)}finally{Sn=o}}j(Vn,r(r({},He),{delete:function(i){return new Vn(i,{addons:[]}).delete()},exists:function(i){return new Vn(i,{addons:[]}).open().then(function(o){return o.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(i){try{return o=Vn.dependencies,u=o.indexedDB,o=o.IDBKeyRange,(Us(u)?Promise.resolve(u.databases()).then(function(f){return f.map(function(d){return d.name}).filter(function(d){return d!==gi})}):Fs(u,o).toCollection().primaryKeys()).then(i)}catch{return gt(new q.MissingAPI)}var o,u},defineClass:function(){return function(i){h(this,i)}},ignoreTransaction:function(i){return de.trans?Kn(de.transless,i):i()},vip:Ks,async:function(i){return function(){try{var o=Ws(i.apply(this,arguments));return o&&typeof o.then=="function"?o:ue.resolve(o)}catch(u){return gt(u)}}},spawn:function(i,o,u){try{var f=Ws(i.apply(u,o||[]));return f&&typeof f.then=="function"?f:ue.resolve(f)}catch(d){return gt(d)}},currentTransaction:{get:function(){return de.trans||null}},waitFor:function(i,o){return o=ue.resolve(typeof i=="function"?Vn.ignoreTransaction(i):i).timeout(o||6e4),de.trans?de.trans.waitFor(o):o},Promise:ue,debug:{get:function(){return V},set:function(i){K(i)}},derive:ae,extend:h,props:j,override:Re,Events:Ar,on:En,liveQuery:Na,extendObservabilitySet:Pi,getByKeyPath:Ze,setByKeyPath:_e,delByKeyPath:function(i,o){typeof o=="string"?_e(i,o,void 0):"length"in o&&[].map.call(o,function(u){_e(i,u,void 0)})},shallowClone:I,deepClone:me,getObjectDiff:zs,cmp:qe,asap:Le,minKey:-1/0,addons:[],connections:ar,errnames:et,dependencies:ji,cache:qn,semVer:"4.0.8",version:"4.0.8".split(".").map(function(i){return parseInt(i)}).reduce(function(i,o,u){return i+o/Math.pow(10,2*u)})})),Vn.maxKey=$r(Vn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(En(Dr,function(i){Sn||(i=new CustomEvent(js,{detail:i}),Sn=!0,dispatchEvent(i),Sn=!1)}),addEventListener(js,function(i){i=i.detail,Sn||Ys(i)}));var cr,Sn=!1,qa=function(){};return typeof BroadcastChannel<"u"&&((qa=function(){(cr=new BroadcastChannel(js)).onmessage=function(i){return i.data&&Ys(i.data)}})(),typeof cr.unref=="function"&&cr.unref(),En(Dr,function(i){Sn||cr.postMessage(i)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(i){if(!pn.disableBfCache&&i.persisted){V&&console.debug("Dexie: handling persisted pagehide"),cr!=null&&cr.close();for(var o=0,u=ar;o<u.length;o++)u[o].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(i){!pn.disableBfCache&&i.persisted&&(V&&console.debug("Dexie: handling persisted pageshow"),qa(),Ys({all:new Rt(-1/0,[[]])}))})),ue.rejectionMapper=function(i,o){return!i||i instanceof Ke||i instanceof TypeError||i instanceof SyntaxError||!i.name||!Me[i.name]?i:(o=new Me[i.name](o||i.message,i),"stack"in i&&Y(o,"stack",{get:function(){return this.inner.stack}}),o)},K(V),r(pn,Object.freeze({__proto__:null,Dexie:pn,liveQuery:Na,Entity:_a,cmp:qe,PropModSymbol:dn,PropModification:Rr,replacePrefix:function(i,o){return new Rr({replacePrefix:[i,o]})},add:function(i){return new Rr({add:i})},remove:function(i){return new Rr({remove:i})},default:pn,RangeSet:Rt,mergeRanges:Fr,rangesOverlap:Ra}),{default:pn}),pn})})(Qu);var Ad=Qu.exports;const Ao=Ju(Ad),Ol=Symbol.for("Dexie"),jo=globalThis[Ol]||(globalThis[Ol]=Ao);if(Ao.semVer!==jo.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Ao.semVer} and ${jo.semVer}`);const In=new jo("DictionaryDB");In.version(1).stores({words:"id,type,chinese,romaji,classification,audioid,english",definitions:"defid,wordid,partofspeech,def_chinese,def_english"});async function jd(){try{const e=await(await fetch("./src/assets/taigiwords.csv")).text(),r=await(await fetch("./src/assets/taigidefs.csv")).text();Sl.parse(e,{header:!0,dynamicTyping:!0,complete:async s=>{console.log("CSV Data:",s.data);const a=s.data;await In.words.clear(),await In.words.bulkAdd(a)},error:s=>{console.error("CSV Parsing Error:",s)}}),Sl.parse(r,{header:!0,dynamicTyping:!0,complete:async s=>{console.log("CSV Data:",s.data);const a=s.data;await In.definitions.clear(),await In.definitions.bulkAdd(a)},error:s=>{console.error("CSV Parsing Error:",s)}})}catch(t){console.error("Error loading CSV file:",t)}}async function Yu(t){let e=window.speechSynthesis.getVoices();e.length===0&&(await new Promise(r=>window.speechSynthesis.addEventListener("voiceschanged",r,{once:!0})),e=window.speechSynthesis.getVoices());const n=new SpeechSynthesisUtterance(t);n.lang="zh-TW",n.voice=e.find(r=>r.name==="Meijia"),window.speechSynthesis.speak(n)}async function Xu(t){let e=window.speechSynthesis.getVoices();e.length===0&&(await new Promise(s=>window.speechSynthesis.addEventListener("voiceschanged",s,{once:!0})),e=window.speechSynthesis.getVoices());const n=e.filter(s=>s.lang==="en-US");console.log(n);const r=new SpeechSynthesisUtterance(t);r.lang="en-US",r.voice=e.find(s=>s.name==="Samantha"),window.speechSynthesis.speak(r)}const ai=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},Rd={},Id={class:"icon-play-container"};function Dd(t,e){return Be(),Xe("div",Id,e[0]||(e[0]=[ee("svg",{class:"play-audio",width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[ee("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.9177 4.9473L19.4897 4.3313L18.2577 5.1873L18.6857 5.8023C21.3027 9.5713 21.3027 14.4363 18.6857 18.1973L18.2577 18.8123L19.4887 19.6693L19.9177 19.0533C22.8497 14.8393 22.8497 9.1703 19.9177 4.9473Z"}),ee("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.2312 7.6226L16.8582 6.9716L15.5572 7.7166L15.9292 8.3676C17.2142 10.6126 17.2142 13.3966 15.9302 15.6336L15.5562 16.2836L16.8572 17.0306L17.2312 16.3806C18.7792 13.6836 18.7792 10.3276 17.2312 7.6226Z"}),ee("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.0788 7.564H2.3848V8.064C2.3828 10.688 2.3828 13.312 2.3848 15.937V16.436H7.0788L11.2048 20.013H12.6678V3.987H11.2048L7.0788 7.564Z"})],-1)]))}const Gr=ai(Rd,[["render",Dd],["__scopeId","data-v-10fa8cd0"]]),$d={props:{audioID:{type:String,required:!0}},components:{IconPlayAudio:Gr},data(){return{isPlaying:!1,baseSrc:"src/assets/audio_taigi/"}},computed:{fullSrc(){return`${this.baseSrc}${getAudioFolder(this.audioid)}/${audioid}.mp3`}},methods:{togglePlay(){const t=this.$refs.audio;this.isPlaying?t.pause():t.play(),this.isPlaying=!this.isPlaying},audioEnded(){this.isPlaying=!1,console.log("Audio has finished playing.")},getAudioFolder(t){if(console.log(t),t){const e=parseInt(t.match(/^(\d+)\(/)[1]);return e<1e3?"0":e>=1e3&&e<2e3?"1":e>=2e3&&e<3e3?"2":e>=3e3&&e<4e3?"3":e>=4e3&&e<5e3?"4":e>=5e3&&e<6e3?"5":e>=6e3&&e<7e3?"6":e>=7e3&&e<8e3?"7":e>=8e3&&e<9e3?"8":e>=9e3&&e<1e4?"9":e>=1e4&&e<11e3?"10":e>=11e3&&e<12e3?"11":e>=12e3&&e<13e3?"12":e>=13e3&&e<14e3?"13":e>=14e3&&e<15e3?"14":e>=15e3&&e<16e3?"15":e>=16e3&&e<17e3?"16":e>=17e3&&e<18e3?"17":e>=18e3&&e<19e3?"18":e>=19e3&&e<2e4?"19":e>=2e4&&e<21e3?"20":e>=21e3&&e<22e3?"21":e>=22e3&&e<23e3?"22":e>=23e3&&e<24e3?"23":e>=24e3&&e<25e3?"24":e>=25e3&&e<26e3?"25":e>=26e3&&e<27e3?"26":e>=27e3&&e<28e3?"27":e>=28e3&&e<29e3?"28":"Out of range"}}},mounted(){this.$refs.audio},beforeDestroy(){this.$refs.audio}},Ld={class:"audio-player"},Md=["src"];function Fd(t,e,n,r,s,a){const l=Vi("IconPlayAudio");return Be(),Xe("div",Ld,[ee("audio",{ref:"audio",src:`${this.baseSrc}${a.getAudioFolder(n.audioID)}/${n.audioID}.mp3`,onEnded:e[0]||(e[0]=(...c)=>a.audioEnded&&a.audioEnded(...c))},null,40,Md),Tt(l,{onClick:a.togglePlay},null,8,["onClick"])])}const Zu=ai($d,[["render",Fd],["__scopeId","data-v-68cbd314"]]),Ud="modulepreload",Kd=function(t){return"/taigi-dict-app/"+t},Pl={},Or=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(n.map(h=>{if(h=Kd(h),h in Pl)return;Pl[h]=!0;const y=h.endsWith(".css"),p=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const b=document.createElement("link");if(b.rel=y?"stylesheet":Ud,y||(b.as="script"),b.crossOrigin="",b.href=h,c&&b.setAttribute("nonce",c),document.head.appendChild(b),y)return new Promise((j,H)=>{b.addEventListener("load",j),b.addEventListener("error",()=>H(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})},Bd=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Or(async()=>{const{default:r}=await Promise.resolve().then(()=>Tr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class la extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Nd extends la{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class qd extends la{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Vd extends la{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ro;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ro||(Ro={}));var Hd=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{y(r.next(p))}catch(b){l(b)}}function h(p){try{y(r.throw(p))}catch(b){l(b)}}function y(p){p.done?a(p.value):s(p.value).then(c,h)}y((r=r.apply(t,e||[])).next())})};class Wd{constructor(e,{headers:n={},customFetch:r,region:s=Ro.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Bd(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Hd(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:l}=n;let c={},{region:h}=n;h||(h=this.region),h&&h!=="any"&&(c["x-region"]=h);let y;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",y=l):typeof l=="string"?(c["Content-Type"]="text/plain",y=l):typeof FormData<"u"&&l instanceof FormData?y=l:(c["Content-Type"]="application/json",y=JSON.stringify(l)));const p=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:y}).catch(Y=>{throw new Nd(Y)}),b=p.headers.get("x-relay-error");if(b&&b==="true")throw new qd(p);if(!p.ok)throw new Vd(p);let j=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),H;return j==="application/json"?H=yield p.json():j==="application/octet-stream"?H=yield p.blob():j==="text/event-stream"?H=p:j==="multipart/form-data"?H=yield p.formData():H=yield p.text(),{data:H,error:null}}catch(s){return{data:null,error:s}}})}}var Kt={},ua={},ps={},li={},gs={},ys={},zd=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Pr=zd();const Jd=Pr.fetch,ec=Pr.fetch.bind(Pr),tc=Pr.Headers,Gd=Pr.Request,Qd=Pr.Response,Tr=Object.freeze(Object.defineProperty({__proto__:null,Headers:tc,Request:Gd,Response:Qd,default:ec,fetch:Jd},Symbol.toStringTag,{value:"Module"})),Yd=Td(Tr);var ms={};Object.defineProperty(ms,"__esModule",{value:!0});class Xd extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}ms.default=Xd;var nc=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ys,"__esModule",{value:!0});const Zd=nc(Yd),ep=nc(ms);let tp=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Zd.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var l,c,h;let y=null,p=null,b=null,j=a.status,H=a.statusText;if(a.ok){if(this.method!=="HEAD"){const we=await a.text();we===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=we:p=JSON.parse(we))}const ae=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),ye=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");ae&&ye&&ye.length>1&&(b=parseInt(ye[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(y={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,b=null,j=406,H="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const ae=await a.text();try{y=JSON.parse(ae),Array.isArray(y)&&a.status===404&&(p=[],y=null,j=200,H="OK")}catch{a.status===404&&ae===""?(j=204,H="No Content"):y={message:ae}}if(y&&this.isMaybeSingle&&(!((h=y==null?void 0:y.details)===null||h===void 0)&&h.includes("0 rows"))&&(y=null,j=200,H="OK"),y&&this.shouldThrowOnError)throw new ep.default(y)}return{error:y,data:p,count:b,status:j,statusText:H}});return this.shouldThrowOnError||(s=s.catch(a=>{var l,c,h;return{error:{message:`${(l=a==null?void 0:a.name)!==null&&l!==void 0?l:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(c=a==null?void 0:a.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(h=a==null?void 0:a.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}};ys.default=tp;var np=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gs,"__esModule",{value:!0});const rp=np(ys);let ip=class extends rp.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:a=s}={}){const l=a?`${a}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const a=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(l,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:a=!1,format:l="text"}={}){var c;const h=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),y=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${y}"; options=${h};`,l==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};gs.default=ip;var sp=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(li,"__esModule",{value:!0});const op=sp(gs);let ap=class extends op.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${l}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};li.default=ap;var lp=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ps,"__esModule",{value:!0});const Br=lp(li);let up=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let a=!1;const l=(e??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",l),r&&(this.headers.Prefer=`count=${r}`),new Br.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(l.length>0){const c=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new Br.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:a=!0}={}){const l="POST",c=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),a||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(e)){const h=e.reduce((y,p)=>y.concat(Object.keys(p)),[]);if(h.length>0){const y=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",y.join(","))}}return new Br.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Br.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Br.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ps.default=up;var vs={},_s={};Object.defineProperty(_s,"__esModule",{value:!0});_s.version=void 0;_s.version="0.0.0-automated";Object.defineProperty(vs,"__esModule",{value:!0});vs.DEFAULT_HEADERS=void 0;const cp=_s;vs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${cp.version}`};var rc=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ua,"__esModule",{value:!0});const fp=rc(ps),hp=rc(li),dp=vs;let pp=class ic{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},dp.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new fp.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ic(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:a}={}){let l;const c=new URL(`${this.url}/rpc/${e}`);let h;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([p,b])=>b!==void 0).map(([p,b])=>[p,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([p,b])=>{c.searchParams.append(p,b)})):(l="POST",h=n);const y=Object.assign({},this.headers);return a&&(y.Prefer=`count=${a}`),new hp.default({method:l,url:c,headers:y,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}};ua.default=pp;var Cr=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.PostgrestError=Kt.PostgrestBuilder=Kt.PostgrestTransformBuilder=Kt.PostgrestFilterBuilder=Kt.PostgrestQueryBuilder=Kt.PostgrestClient=void 0;const sc=Cr(ua);Kt.PostgrestClient=sc.default;const oc=Cr(ps);Kt.PostgrestQueryBuilder=oc.default;const ac=Cr(li);Kt.PostgrestFilterBuilder=ac.default;const lc=Cr(gs);Kt.PostgrestTransformBuilder=lc.default;const uc=Cr(ys);Kt.PostgrestBuilder=uc.default;const cc=Cr(ms);Kt.PostgrestError=cc.default;var gp=Kt.default={PostgrestClient:sc.default,PostgrestQueryBuilder:oc.default,PostgrestFilterBuilder:ac.default,PostgrestTransformBuilder:lc.default,PostgrestBuilder:uc.default,PostgrestError:cc.default};const{PostgrestClient:yp,PostgrestQueryBuilder:By,PostgrestFilterBuilder:Ny,PostgrestTransformBuilder:qy,PostgrestBuilder:Vy}=gp,mp="2.10.7",vp={"X-Client-Info":`realtime-js/${mp}`},_p="1.0.0",fc=1e4,bp=1e3;var Er;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Er||(Er={}));var Vt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Vt||(Vt={}));var Zt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Zt||(Zt={}));var Io;(function(t){t.websocket="websocket"})(Io||(Io={}));var Xn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Xn||(Xn={}));class wp{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),a=n.getUint8(2);let l=this.HEADER_LENGTH+2;const c=r.decode(e.slice(l,l+s));l=l+s;const h=r.decode(e.slice(l,l+a));l=l+a;const y=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{ref:null,topic:c,event:h,payload:y}}}class hc{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var st;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(st||(st={}));const Tl=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,l)=>(a[l]=kp(l,t,e,s),a),{})},kp=(t,e,n,r)=>{const s=e.find(c=>c.name===t),a=s==null?void 0:s.type,l=n[t];return a&&!r.includes(a)?dc(a,l):Do(l)},dc=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Op(e,n)}switch(t){case st.bool:return xp(e);case st.float4:case st.float8:case st.int2:case st.int4:case st.int8:case st.numeric:case st.oid:return Ep(e);case st.json:case st.jsonb:return Sp(e);case st.timestamp:return Pp(e);case st.abstime:case st.date:case st.daterange:case st.int4range:case st.int8range:case st.money:case st.reltime:case st.text:case st.time:case st.timestamptz:case st.timetz:case st.tsrange:case st.tstzrange:return Do(e);default:return Do(e)}},Do=t=>t,xp=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Ep=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Sp=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Op=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const l=t.slice(1,n);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(c=>dc(e,c))}return t},Pp=t=>typeof t=="string"?t.replace(" ","T"):t,pc=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class ho{constructor(e,n,r={},s=fc){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Cl;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Cl||(Cl={}));class Qr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qr.syncState(this.state,s,a,l),this.pendingDiffs.forEach(h=>{this.state=Qr.syncDiff(this.state,h,a,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},s=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Qr.syncDiff(this.state,s,a,l),c())}),this.onJoin((s,a,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:l})}),this.onLeave((s,a,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const a=this.cloneDeep(e),l=this.transformState(n),c={},h={};return this.map(a,(y,p)=>{l[y]||(h[y]=p)}),this.map(l,(y,p)=>{const b=a[y];if(b){const j=p.map(ye=>ye.presence_ref),H=b.map(ye=>ye.presence_ref),Y=p.filter(ye=>H.indexOf(ye.presence_ref)<0),ae=b.filter(ye=>j.indexOf(ye.presence_ref)<0);Y.length>0&&(c[y]=Y),ae.length>0&&(h[y]=ae)}else c[y]=p}),this.syncDiff(a,{joins:c,leaves:h},r,s)}static syncDiff(e,n,r,s){const{joins:a,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,(c,h)=>{var y;const p=(y=e[c])!==null&&y!==void 0?y:[];if(e[c]=this.cloneDeep(h),p.length>0){const b=e[c].map(H=>H.presence_ref),j=p.filter(H=>b.indexOf(H.presence_ref)<0);e[c].unshift(...j)}r(c,p,h)}),this.map(l,(c,h)=>{let y=e[c];if(!y)return;const p=h.map(b=>b.presence_ref);y=y.filter(b=>p.indexOf(b.presence_ref)<0),e[c]=y,s(c,y,h),y.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Al;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Al||(Al={}));var jl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(jl||(jl={}));var Rl;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Rl||(Rl={}));class ca{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ho(this,Zt.join,this.params,this.timeout),this.rejoinTimer=new hc(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zt.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Qr(this),this.broadcastEndpointURL=pc(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:l,private:c}}=this.params;this._onError(p=>e&&e("CHANNEL_ERROR",p)),this._onClose(()=>e&&e("CLOSED"));const h={},y={broadcast:a,presence:l,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],private:c};this.socket.accessToken&&(h.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:y},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:p})=>{var b;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),p===void 0){e&&e("SUBSCRIBED");return}else{const j=this.bindings.postgres_changes,H=(b=j==null?void 0:j.length)!==null&&b!==void 0?b:0,Y=[];for(let ae=0;ae<H;ae++){const ye=j[ae],{filter:{event:we,schema:je,table:Re,filter:fe}}=ye,Le=p&&p[ae];if(Le&&Le.event===we&&Le.schema===je&&Le.table===Re&&Le.filter===fe)Y.push(Object.assign(Object.assign({},ye),{id:Le.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=Y,e&&e("SUBSCRIBED");return}}).receive("error",p=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:l}=e,c={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,c,h;const y=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.ack)&&a("ok"),y.receive("ok",()=>a("ok")),y.receive("error",()=>a("error")),y.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Vt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new ho(this,Zt.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,a=setTimeout(()=>s.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),l}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ho(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,a;const l=e.toLocaleLowerCase(),{close:c,error:h,leave:y,join:p}=Zt;if(r&&[c,h,y,p].indexOf(l)>=0&&r!==this._joinRef())return;let j=this._onMessage(l,n,r);if(n&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(H=>{var Y,ae,ye;return((Y=H.filter)===null||Y===void 0?void 0:Y.event)==="*"||((ye=(ae=H.filter)===null||ae===void 0?void 0:ae.event)===null||ye===void 0?void 0:ye.toLocaleLowerCase())===l}).map(H=>H.callback(j,r)):(a=this.bindings[l])===null||a===void 0||a.filter(H=>{var Y,ae,ye,we,je,Re;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in H){const fe=H.id,Le=(Y=H.filter)===null||Y===void 0?void 0:Y.event;return fe&&((ae=n.ids)===null||ae===void 0?void 0:ae.includes(fe))&&(Le==="*"||(Le==null?void 0:Le.toLocaleLowerCase())===((ye=n.data)===null||ye===void 0?void 0:ye.type.toLocaleLowerCase()))}else{const fe=(je=(we=H==null?void 0:H.filter)===null||we===void 0?void 0:we.event)===null||je===void 0?void 0:je.toLocaleLowerCase();return fe==="*"||fe===((Re=n==null?void 0:n.event)===null||Re===void 0?void 0:Re.toLocaleLowerCase())}else return H.type.toLocaleLowerCase()===l}).map(H=>{if(typeof j=="object"&&"ids"in j){const Y=j.data,{schema:ae,table:ye,commit_timestamp:we,type:je,errors:Re}=Y;j=Object.assign(Object.assign({},{schema:ae,table:ye,commit_timestamp:we,eventType:je,new:{},old:{},errors:Re}),this._getPayloadRecords(Y))}H.callback(j,r)})}_isClosed(){return this.state===Vt.closed}_isJoined(){return this.state===Vt.joined}_isJoining(){return this.state===Vt.joining}_isLeaving(){return this.state===Vt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),a={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&ca.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Zt.close,{},e)}_onError(e){this._on(Zt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Tl(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Tl(e.columns,e.old_record)),n}}const Tp=()=>{},Cp=typeof WebSocket<"u",Ap=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class jp{constructor(e,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=vp,this.params={},this.timeout=fc,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Tp,this.conn=null,this.sendBuffer=[],this.serializer=new wp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=a=>{let l;return a?l=a:typeof fetch>"u"?l=(...c)=>Or(async()=>{const{default:h}=await Promise.resolve().then(()=>Tr);return{default:h}},void 0).then(({default:h})=>h(...c)):l=fetch,(...c)=>l(...c)},this.endPoint=`${e}/${Io.websocket}`,this.httpEndpoint=pc(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,l)=>l(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new hc(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Cp){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Rp(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Or(async()=>{const{default:e}=await import("./browser-BRci-Wl4.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Er.connecting:return Xn.Connecting;case Er.open:return Xn.Open;case Er.closing:return Xn.Closing;default:return Xn.Closed}}isConnected(){return this.connectionState()===Xn.Open}channel(e,n={config:{}}){const r=new ca(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:a}=e,l=()=>{this.encode(e,c=>{var h;(h=this.conn)===null||h===void 0||h.send(c)})};this.log("push",`${n} ${r} (${a})`,s),this.isConnected()?l():this.sendBuffer.push(l)}setAuth(e){this.accessToken=e,this.channels.forEach(n=>{e&&n.updateJoinPayload({access_token:e}),n.joinedOnce&&n._isJoined()&&n._push(Zt.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:_p}))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:a,ref:l}=n;(l&&l===this.pendingHeartbeatRef||s===(a==null?void 0:a.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${s} ${l&&"("+l+")"||""}`,a),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,a,l)),this.stateChangeCallbacks.message.forEach(c=>c(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Zt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(bp,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Ap],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Rp{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Er.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class fa extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function kt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Ip extends fa{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class $o extends fa{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Dp=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{y(r.next(p))}catch(b){l(b)}}function h(p){try{y(r.throw(p))}catch(b){l(b)}}function y(p){p.done?a(p.value):s(p.value).then(c,h)}y((r=r.apply(t,e||[])).next())})};const gc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Or(async()=>{const{default:r}=await Promise.resolve().then(()=>Tr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},$p=()=>Dp(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Or(()=>Promise.resolve().then(()=>Tr),void 0)).Response:Response}),Lo=t=>{if(Array.isArray(t))return t.map(n=>Lo(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[s]=Lo(r)}),e};var nr=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{y(r.next(p))}catch(b){l(b)}}function h(p){try{y(r.throw(p))}catch(b){l(b)}}function y(p){p.done?a(p.value):s(p.value).then(c,h)}y((r=r.apply(t,e||[])).next())})};const po=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Lp=(t,e,n)=>nr(void 0,void 0,void 0,function*(){const r=yield $p();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new Ip(po(s),t.status||500))}).catch(s=>{e(new $o(po(s),s))}):e(new $o(po(t),t))}),Mp=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function ui(t,e,n,r,s,a){return nr(this,void 0,void 0,function*(){return new Promise((l,c)=>{t(n,Mp(e,r,s,a)).then(h=>{if(!h.ok)throw h;return r!=null&&r.noResolveJson?h:h.json()}).then(h=>l(h)).catch(h=>Lp(h,c,r))})})}function es(t,e,n,r){return nr(this,void 0,void 0,function*(){return ui(t,"GET",e,n,r)})}function jn(t,e,n,r,s){return nr(this,void 0,void 0,function*(){return ui(t,"POST",e,r,s,n)})}function Fp(t,e,n,r,s){return nr(this,void 0,void 0,function*(){return ui(t,"PUT",e,r,s,n)})}function Up(t,e,n,r){return nr(this,void 0,void 0,function*(){return ui(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function yc(t,e,n,r,s){return nr(this,void 0,void 0,function*(){return ui(t,"DELETE",e,r,s,n)})}var Mt=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{y(r.next(p))}catch(b){l(b)}}function h(p){try{y(r.throw(p))}catch(b){l(b)}}function y(p){p.done?a(p.value):s(p.value).then(c,h)}y((r=r.apply(t,e||[])).next())})};const Kp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Il={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Bp{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=gc(s)}uploadOrUpdate(e,n,r,s){return Mt(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},Il),s);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const h=l.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),h&&a.append("metadata",this.encodeMetadata(h)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",l.cacheControl),h&&a.append("metadata",this.encodeMetadata(h))):(a=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,h&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),s!=null&&s.headers&&(c=Object.assign(Object.assign({},c),s.headers));const y=this._removeEmptyFolders(n),p=this._getFinalPath(y),b=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:e,body:a,headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{})),j=yield b.json();return b.ok?{data:{path:y,id:j.Id,fullPath:j.Key},error:null}:{data:null,error:j}}catch(a){if(kt(a))return{data:null,error:a};throw a}})}upload(e,n,r){return Mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Mt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),l=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",n);try{let h;const y=Object.assign({upsert:Il.upsert},s),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",y.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",y.cacheControl)):(h=r,p["cache-control"]=`max-age=${y.cacheControl}`,p["content-type"]=y.contentType);const b=yield this.fetch(c.toString(),{method:"PUT",body:h,headers:p}),j=yield b.json();return b.ok?{data:{path:a,fullPath:j.Key},error:null}:{data:null,error:j}}catch(h){if(kt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,n){return Mt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const a=yield jn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),l=new URL(this.url+a.url),c=l.searchParams.get("token");if(!c)throw new fa("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:c},error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}})}update(e,n,r){return Mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Mt(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Mt(this,void 0,void 0,function*(){try{return{data:{path:(yield jn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Mt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),a=yield jn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Mt(this,void 0,void 0,function*(){try{const s=yield jn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}download(e,n){return Mt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=a?`?${a}`:"";try{const c=this._getFinalPath(e);return{data:yield(yield es(this.fetch,`${this.url}/${s}/${c}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(kt(c))return{data:null,error:c};throw c}})}info(e){return Mt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield es(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Lo(r),error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}})}exists(e){return Mt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Up(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(kt(r)&&r instanceof $o){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&s.push(a);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});h!==""&&s.push(h);let y=s.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${y}`)}}}remove(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield yc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}list(e,n,r){return Mt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Kp),n),{prefix:e||""});return{data:yield jn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Np="2.7.1",qp={"X-Client-Info":`storage-js/${Np}`};var hr=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{y(r.next(p))}catch(b){l(b)}}function h(p){try{y(r.throw(p))}catch(b){l(b)}}function y(p){p.done?a(p.value):s(p.value).then(c,h)}y((r=r.apply(t,e||[])).next())})};class Vp{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},qp),n),this.fetch=gc(r)}listBuckets(){return hr(this,void 0,void 0,function*(){try{return{data:yield es(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(kt(e))return{data:null,error:e};throw e}})}getBucket(e){return hr(this,void 0,void 0,function*(){try{return{data:yield es(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return hr(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return hr(this,void 0,void 0,function*(){try{return{data:yield Fp(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return hr(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return hr(this,void 0,void 0,function*(){try{return{data:yield yc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}}class Hp extends Vp{constructor(e,n={},r){super(e,n,r)}from(e){return new Bp(this.url,this.headers,e,this.fetch)}}const Wp="2.46.1";let Vr="";typeof Deno<"u"?Vr="deno":typeof document<"u"?Vr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vr="react-native":Vr="node";const zp={"X-Client-Info":`supabase-js-${Vr}/${Wp}`},Jp={headers:zp},Gp={schema:"public"},Qp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Yp={};var Xp=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{y(r.next(p))}catch(b){l(b)}}function h(p){try{y(r.throw(p))}catch(b){l(b)}}function y(p){p.done?a(p.value):s(p.value).then(c,h)}y((r=r.apply(t,e||[])).next())})};const Zp=t=>{let e;return t?e=t:typeof fetch>"u"?e=ec:e=fetch,(...n)=>e(...n)},eg=()=>typeof Headers>"u"?tc:Headers,tg=(t,e,n)=>{const r=Zp(n),s=eg();return(a,l)=>Xp(void 0,void 0,void 0,function*(){var c;const h=(c=yield e())!==null&&c!==void 0?c:t;let y=new s(l==null?void 0:l.headers);return y.has("apikey")||y.set("apikey",t),y.has("Authorization")||y.set("Authorization",`Bearer ${h}`),r(a,Object.assign(Object.assign({},l),{headers:y}))})};var ng=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{y(r.next(p))}catch(b){l(b)}}function h(p){try{y(r.throw(p))}catch(b){l(b)}}function y(p){p.done?a(p.value):s(p.value).then(c,h)}y((r=r.apply(t,e||[])).next())})};function rg(t){return t.replace(/\/$/,"")}function ig(t,e){const{db:n,auth:r,realtime:s,global:a}=t,{db:l,auth:c,realtime:h,global:y}=e,p={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),r),realtime:Object.assign(Object.assign({},h),s),global:Object.assign(Object.assign({},y),a),accessToken:()=>ng(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}const mc="2.65.1",sg="http://localhost:9999",og="supabase.auth.token",ag={"X-Client-Info":`gotrue-js/${mc}`},Dl=10,Mo="X-Supabase-Api-Version",vc={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function lg(t){return Math.round(Date.now()/1e3)+t}function ug(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Xt=()=>typeof document<"u",Jn={tested:!1,writable:!1},Yr=()=>{if(!Xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jn.tested)return Jn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Jn.tested=!0,Jn.writable=!0}catch{Jn.tested=!0,Jn.writable=!1}return Jn.writable};function go(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{e[a]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const _c=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Or(async()=>{const{default:r}=await Promise.resolve().then(()=>Tr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},cg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",bc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ui=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ki=async(t,e)=>{await t.removeItem(e)};function fg(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,a,l,c,h,y,p=0;for(t=t.replace("-","+").replace("_","/");p<t.length;)l=e.indexOf(t.charAt(p++)),c=e.indexOf(t.charAt(p++)),h=e.indexOf(t.charAt(p++)),y=e.indexOf(t.charAt(p++)),r=l<<2|c>>4,s=(c&15)<<4|h>>2,a=(h&3)<<6|y,n=n+String.fromCharCode(r),h!=64&&s!=0&&(n=n+String.fromCharCode(s)),y!=64&&a!=0&&(n=n+String.fromCharCode(a));return n}class bs{constructor(){this.promise=new bs.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}bs.promiseConstructor=Promise;function $l(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(fg(r))}async function hg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function dg(t,e){return new Promise((r,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await t(a);if(!e(a,null,l)){r(l);return}}catch(l){if(!e(a,l)){s(l);return}}})()})}function pg(t){return("0"+t.toString(16)).substr(-2)}function gg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,pg).join("")}async function yg(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}function mg(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await yg(t);return mg(n)}async function dr(t,e,n=!1){const r=gg();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await bc(t,`${e}-code-verifier`,s);const a=await vg(r);return[a,r===a?"plain":"s256"]}const _g=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bg(t){const e=t.headers.get(Mo);if(!e||!e.match(_g))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class ha extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function $e(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class wg extends ha{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function kg(t){return $e(t)&&t.name==="AuthApiError"}class wc extends ha{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class rr extends ha{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Pn extends rr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xg(t){return $e(t)&&t.name==="AuthSessionMissingError"}class yo extends rr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bi extends rr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ni extends rr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ll extends rr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fo extends rr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function mo(t){return $e(t)&&t.name==="AuthRetryableFetchError"}class Ml extends rr{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var Eg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Qn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Sg=[502,503,504];async function Fl(t){var e;if(!cg(t))throw new Fo(Qn(t),0);if(Sg.includes(t.status))throw new Fo(Qn(t),t.status);let n;try{n=await t.json()}catch(a){throw new wc(Qn(a),a)}let r;const s=bg(t);if(s&&s.getTime()>=vc["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ml(Qn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Pn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new Ml(Qn(n),t.status,n.weak_password.reasons);throw new wg(Qn(n),t.status||500,r)}const Og=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Ue(t,e,n,r){var s;const a=Object.assign({},r==null?void 0:r.headers);a[Mo]||(a[Mo]=vc["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",h=await Pg(t,e,n+c,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(h):{data:Object.assign({},h),error:null}}async function Pg(t,e,n,r,s,a){const l=Og(e,r,s,a);let c;try{c=await t(n,Object.assign({},l))}catch(h){throw console.error(h),new Fo(Qn(h),0)}if(c.ok||await Fl(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(h){await Fl(h)}}function Tn(t){var e;let n=null;jg(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=lg(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Ul(t){const e=Tn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Rn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Tg(t){return{data:t,error:null}}function Cg(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a}=t,l=Eg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a},h=Object.assign({},l);return{data:{properties:c,user:h},error:null}}function Ag(t){return t}function jg(t){return t.access_token&&t.refresh_token&&t.expires_in}var Rg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class Ig{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=_c(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await Ue(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Rn})}catch(r){if($e(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Rg(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Cg,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if($e(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ue(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Rn})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,a,l,c,h;try{const y={nextPage:null,lastPage:0,total:0},p=await Ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Ag});if(p.error)throw p.error;const b=await p.json(),j=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,H=(h=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return H.length>0&&(H.forEach(Y=>{const ae=parseInt(Y.split(";")[0].split("=")[1].substring(0,1)),ye=JSON.parse(Y.split(";")[1].split("=")[1]);y[`${ye}Page`]=ae}),y.total=parseInt(j)),{data:Object.assign(Object.assign({},b),y),error:null}}catch(y){if($e(y))return{data:{users:[]},error:y};throw y}}async getUserById(e){try{return await Ue(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Rn})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await Ue(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Rn})}catch(r){if($e(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Rn})}catch(r){if($e(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await Ue(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if($e(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}}}const Dg={getItem:t=>Yr()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Yr()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Yr()&&globalThis.localStorage.removeItem(t)}};function Kl(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function $g(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const pr={debug:!!(globalThis&&Yr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kc extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Lg extends kc{}async function Mg(t,e,n){pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),pr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Lg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(pr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}$g();const Fg={url:sg,storageKey:og,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ag,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Nr=30*1e3,Bl=3;async function Nl(t,e,n){return await n()}class ri{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ri.nextInstanceID,ri.nextInstanceID+=1,this.instanceID>0&&Xt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Fg),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Ig({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=_c(s.fetch),this.lock=s.lock||Nl,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Xt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Mg:this.lock=Nl,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Yr()?this.storage=Dg:(this.memoryStorage={},this.storage=Kl(this.memoryStorage)):(this.memoryStorage={},this.storage=Kl(this.memoryStorage)),Xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${mc}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=Xt()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.code)==="identity_already_exists"?{error:r}:(await this._removeSession(),{error:r});const{session:s,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return $e(e)?{error:e}:{error:new wc("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const a=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Tn}),{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const h=l.session,y=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:y,session:h},error:null}}catch(a){if($e(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,s;try{let a;if("email"in e){const{email:p,password:b,options:j}=e;let H=null,Y=null;this.flowType==="pkce"&&([H,Y]=await dr(this.storage,this.storageKey)),a=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j==null?void 0:j.emailRedirectTo,body:{email:p,password:b,data:(n=j==null?void 0:j.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken},code_challenge:H,code_challenge_method:Y},xform:Tn})}else if("phone"in e){const{phone:p,password:b,options:j}=e;a=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:b,data:(r=j==null?void 0:j.data)!==null&&r!==void 0?r:{},channel:(s=j==null?void 0:j.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken}},xform:Tn})}else throw new Bi("You must provide either an email or phone number and a password");const{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const h=l.session,y=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:y,session:h},error:null}}catch(a){if($e(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:l,options:c}=e;n=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Ul})}else if("phone"in e){const{phone:a,password:l,options:c}=e;n=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Ul})}else throw new Bi("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new yo}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if($e(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Ui(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:a,error:l}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Tn});if(await Ki(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new yo}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:l})}catch(a){if($e(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:a,nonce:l}=e,c=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Tn}),{data:h,error:y}=c;return y?{data:{user:null,session:null},error:y}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new yo}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:y})}catch(n){if($e(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,a,l;try{if("email"in e){const{email:c,options:h}=e;let y=null,p=null;this.flowType==="pkce"&&([y,p]=await dr(this.storage,this.storageKey));const{error:b}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},create_user:(r=h==null?void 0:h.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:y,code_challenge_method:p},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in e){const{phone:c,options:h}=e,{data:y,error:p}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},create_user:(a=h==null?void 0:h.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(l=h==null?void 0:h.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:y==null?void 0:y.message_id},error:p}}throw new Bi("You must provide either an email or phone number.")}catch(c){if($e(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var n,r;try{let s,a;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await Ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Tn});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const h=l.session,y=l.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:y,session:h},error:null}}catch(s){if($e(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await dr(this.storage,this.storageKey)),await Ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Tg})}catch(a){if($e(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Pn;const{error:s}=await Ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if($e(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:a}=e,{error:l}=await Ue(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:r,type:s,options:a}=e,{data:l,error:c}=await Ue(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c}}throw new Bi("You must provide either an email or phone number and a type")}catch(n){if($e(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ui(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(h,y,p)=>(!l&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,y,p))})}return{data:{session:e},error:null}}const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Rn}):await this._useSession(async n=>{var r,s,a;const{data:l,error:c}=n;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pn}:await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Rn})})}catch(n){if($e(n))return xg(n)&&(await this._removeSession(),await Ki(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:a}=r;if(a)throw a;if(!s.session)throw new Pn;const l=s.session;let c=null,h=null;this.flowType==="pkce"&&e.email!=null&&([c,h]=await dr(this.storage,this.storageKey));const{data:y,error:p}=await Ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:h}),jwt:l.access_token,xform:Rn});if(p)throw p;return l.user=y.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if($e(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return $l(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Pn;const n=Date.now()/1e3;let r=n,s=!0,a=null;const l=$l(e.access_token);if(l.exp&&(r=l.exp,s=r<=n),s){const{session:c,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:h}=await this._getUser(e.access_token);if(h)throw h;a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if($e(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:l,error:c}=n;if(c)throw c;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Pn;const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if($e(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e){try{if(!Xt())throw new Ni("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Ni("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new Ll("Not a valid PKCE flow url.");const n=go(window.location.href);if(e){if(!n.code)throw new Ll("No code detected.");const{data:je,error:Re}=await this._exchangeCodeForSession(n.code);if(Re)throw Re;const fe=new URL(window.location.href);return fe.searchParams.delete("code"),window.history.replaceState(window.history.state,"",fe.toString()),{data:{session:je.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new Ni(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:l,expires_in:c,expires_at:h,token_type:y}=n;if(!a||!c||!l||!y)throw new Ni("No session defined in URL");const p=Math.round(Date.now()/1e3),b=parseInt(c);let j=p+b;h&&(j=parseInt(h));const H=j-p;H*1e3<=Nr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${H}s, should have been closer to ${b}s`);const Y=j-b;p-Y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",Y,j,p):p-Y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",Y,j,p);const{data:ae,error:ye}=await this._getUser(a);if(ye)throw ye;const we={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:b,expires_at:j,refresh_token:l,token_type:y,user:ae.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:we,redirectType:n.type},error:null}}catch(n){if($e(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const e=go(window.location.href);return!!(Xt()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=go(window.location.href),n=await Ui(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{error:a};const l=(r=s.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(kg(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await Ki(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=ug(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:a},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await dr(this.storage,this.storageKey,!0));try{return await Ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if($e(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async a=>{var l,c,h,y,p;const{data:b,error:j}=a;if(j)throw j;const H=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Ue(this.fetch,"GET",H,{headers:this.headers,jwt:(p=(y=b.session)===null||y===void 0?void 0:y.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return Xt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if($e(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:a,error:l}=n;if(l)throw l;return await Ue(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if($e(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await dg(async s=>(s>0&&await hg(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Tn})),(s,a)=>{const l=200*Math.pow(2,s);return a&&mo(a)&&Date.now()+l-r<Nr})}catch(r){if(this._debug(n,"error",r),$e(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Xt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Ui(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),a=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+Dl;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Dl}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:l}=await this._callRefreshToken(r.refresh_token);l&&(console.error(l),mo(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Pn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new bs;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new Pn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={session:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(s,"error",a),$e(a)){const l={session:null,error:a};return mo(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(h){a.push(h)}});if(await Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await bc(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ki(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Nr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Nr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Nr}ms, refresh threshold is ${Bl} ticks`),s<=Bl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof kc)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await dr(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);s.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await Ue(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if($e(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:a,error:l}=n;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:h,error:y}=await Ue(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return y?{data:null,error:y}:(e.factorType==="totp"&&(!((s=h==null?void 0:h.totp)===null||s===void 0)&&s.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(n){if($e(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{data:null,error:a};const{data:l,error:c}=await Ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(n){if($e(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await Ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if($e(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),a=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:a}=e;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const l=this._decodeJWT(s.access_token);let c=null;l.aal&&(c=l.aal);let h=c;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(b=>b.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(h="aal2");const p=l.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:p},error:null}}))}}ri.nextInstanceID=0;const Ug=ri;class Kg extends Ug{constructor(e){super(e)}}var Bg=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{y(r.next(p))}catch(b){l(b)}}function h(p){try{y(r.throw(p))}catch(b){l(b)}}function y(p){p.done?a(p.value):s(p.value).then(c,h)}y((r=r.apply(t,e||[])).next())})};class Ng{constructor(e,n,r){var s,a,l;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const c=rg(e);this.realtimeUrl=`${c}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${c}/auth/v1`,this.storageUrl=`${c}/storage/v1`,this.functionsUrl=`${c}/functions/v1`;const h=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,y={db:Gp,realtime:Yp,auth:Object.assign(Object.assign({},Qp),{storageKey:h}),global:Jp},p=ig(r??{},y);this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=p.global.headers)!==null&&a!==void 0?a:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(b,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=tg(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},p.realtime)),this.rest=new yp(`${c}/rest/v1`,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new Wd(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Hp(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Bg(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:a,flowType:l,lock:c,debug:h},y,p){var b;const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Kg({url:this.authUrl,headers:Object.assign(Object.assign({},j),y),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:l,lock:c,debug:h,fetch:p,hasCustomAuthorizationHeader:(b="Authorization"in this.headers)!==null&&b!==void 0?b:!1})}_initRealtimeClient(e){return new jp(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const qg=(t,e,n)=>new Ng(t,e,n),Vg="https://oqwvljqwtearyepyaslo.supabase.co",Hg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xd3ZsanF3dGVhcnllcHlhc2xvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzEwODA1NjIsImV4cCI6MjA0NjY1NjU2Mn0.31HmSCfXawvkzhevPCaKWoVCZyD_elcQOCtgFWJMRKI",Dn=qg(Vg,Hg),Wg={props:{visible:Boolean,word:Object},emits:["close","update-word","update-definition","delete-definition","add-definition"],setup(t,{emit:e}){const n=an({partofspeech:"",def_english:"",def_chinese:""});return console.log(t),{close:()=>e("close"),updateWord:async()=>{const{data:h,error:y}=await Dn.from("words").upsert({id:word.value.id,chinese:word.value.chinese,romaji:word.value.romaji,classification:word.value.classification,english:word.value.english});y?console.error("Error updating word:",y.message):console.log("Word updated successfully:",h)},updateDefinition:async(h,y)=>{const p=t.word.definitions[y],{data:b,error:j}=await Dn.from("definitions").upsert({defid:h,wordid:t.word.id,partofspeech:p.partofspeech,def_english:p.def_english,def_chinese:p.def_chinese});j?console.error("Error updating definition:",j.message):console.log("Definition updated successfully:",b)},deleteDefinition:async(h,y)=>{try{const{data:p,error:b}=await Dn.from("definitions").delete().eq("defid",h);if(b){console.error("Error deleting definition:",b.message);return}t.word.definitions.splice(y,1),console.log("Definition deleted successfully:",p)}catch(p){console.error("Error in deleteDefinition:",p.message)}},addDefinition:async h=>{try{if(!h)throw new Error("No word ID provided.");const y={wordid:h,partofspeech:n.value.partofspeech,def_english:n.value.def_english,def_chinese:n.value.def_chinese},{data:p,error:b}=await Dn.from("definitions").insert([y]).select();if(console.log(p),b){console.error("Error adding definition:",b.message);return}if(p&&p.length>0){const j=p[0];t.word.definitions||(t.word.definitions=[]),t.word.definitions.push(j),n.value={partofspeech:"",def_english:"",def_chinese:""},console.log("Definition added successfully:",j)}}catch(y){console.error("Error in addDefinition:",y.message)}},newDefinition:n}}},zg={key:0,class:"edit-dialog"},Jg={key:0},Gg=["onSubmit"],Qg=["onUpdate:modelValue"],Yg=["onUpdate:modelValue"],Xg=["onUpdate:modelValue"],Zg=["onClick"],ey={class:"add-definition"};function ty(t,e,n,r,s,a){return n.visible?(Be(),Xe("div",zg,[ee("button",{onClick:e[0]||(e[0]=(...l)=>r.close&&r.close(...l))},"Close"),ee("form",{onSubmit:e[7]||(e[7]=fo((...l)=>r.updateWord&&r.updateWord(...l),["prevent"]))},[ee("div",null,[e[12]||(e[12]=ee("label",{for:"romaji"},"Romaji",-1)),Ft(ee("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>n.word.romaji=l),type:"text",id:"romaji"},null,512),[[Nt,n.word.romaji]])]),ee("div",null,[e[13]||(e[13]=ee("label",{for:"taiwanese"},"Taiwanese",-1)),Ft(ee("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>n.word.taiwanese=l),type:"text",id:"taiwanese"},null,512),[[Nt,n.word.taiwanese]])]),ee("div",null,[e[14]||(e[14]=ee("label",{for:"english"},"English",-1)),Ft(ee("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>n.word.english=l),type:"text",id:"english"},null,512),[[Nt,n.word.english]])]),ee("div",null,[e[15]||(e[15]=ee("label",{for:"english_mknoll"},"English Mary Knoll",-1)),Ft(ee("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>n.word.english_mknoll=l),type:"text",id:"english_mknoll"},null,512),[[Nt,n.word.english_mknoll]])]),ee("div",null,[e[16]||(e[16]=ee("label",{for:"chinese"},"Chinese",-1)),Ft(ee("input",{"onUpdate:modelValue":e[5]||(e[5]=l=>n.word.chinese=l),type:"text",id:"chinese"},null,512),[[Nt,n.word.chinese]])]),ee("div",null,[e[17]||(e[17]=ee("label",{for:"classification"},"Classification:",-1)),Ft(ee("input",{"onUpdate:modelValue":e[6]||(e[6]=l=>n.word.classification=l),type:"text",id:"classification"},null,512),[[Nt,n.word.classification]])]),e[18]||(e[18]=ee("button",{type:"submit"},"Save Word",-1))],32),n.word.definitions.length>0?(Be(),Xe("div",Jg,[(Be(!0),Xe(Ut,null,Qi(n.word.definitions,(l,c)=>(Be(),Xe("div",{key:l.defid},[ee("form",{onSubmit:fo(h=>r.updateDefinition(l.defid,c),["prevent"])},[ee("div",null,[e[19]||(e[19]=ee("label",{for:"def_english"},"English Definition:",-1)),Ft(ee("textarea",{"onUpdate:modelValue":h=>l.def_english=h,id:"def_english"},null,8,Qg),[[Nt,l.def_english]])]),ee("div",null,[e[20]||(e[20]=ee("label",{for:"def_chinese"},"Chinese Definition:",-1)),Ft(ee("input",{"onUpdate:modelValue":h=>l.def_chinese=h,type:"text",id:"def_chinese"},null,8,Yg),[[Nt,l.def_chinese]])]),ee("div",null,[e[21]||(e[21]=ee("label",{for:"partofspeech"},"Part of Speech:",-1)),Ft(ee("input",{"onUpdate:modelValue":h=>l.partofspeech=h,type:"text",id:"partofspeech"},null,8,Xg),[[Nt,l.partofspeech]])]),e[22]||(e[22]=ee("button",{type:"submit"},"Save Definition",-1)),ee("button",{type:"button",onClick:h=>r.deleteDefinition(l.defid,c)}," Delete Definition ",8,Zg)],40,Gg)]))),128))])):mt("",!0),ee("div",ey,[e[27]||(e[27]=ee("h4",null,"Add a new definition",-1)),ee("form",{onSubmit:e[11]||(e[11]=fo(l=>r.addDefinition(n.word.id),["prevent"]))},[ee("div",null,[e[23]||(e[23]=ee("label",{for:"partofspeech"},"Part of Speech:",-1)),Ft(ee("input",{"onUpdate:modelValue":e[8]||(e[8]=l=>r.newDefinition.partofspeech=l),id:"partofspeech"},null,512),[[Nt,r.newDefinition.partofspeech]])]),ee("div",null,[e[24]||(e[24]=ee("label",{for:"def_english"},"English Definition:",-1)),Ft(ee("textarea",{"onUpdate:modelValue":e[9]||(e[9]=l=>r.newDefinition.def_english=l),id:"def_english"},null,512),[[Nt,r.newDefinition.def_english]])]),ee("div",null,[e[25]||(e[25]=ee("label",{for:"def_chinese"},"Chinese Definition:",-1)),Ft(ee("textarea",{"onUpdate:modelValue":e[10]||(e[10]=l=>r.newDefinition.def_chinese=l),id:"def_chinese"},null,512),[[Nt,r.newDefinition.def_chinese]])]),e[26]||(e[26]=ee("button",{type:"submit"},"Add Definition",-1))],32)])])):mt("",!0)}const ql=ai(Wg,[["render",ty],["__scopeId","data-v-329b39ae"]]),ny={components:{AudioPlayerTaigi:Zu,IconPlayAudio:Gr,EditWord:ql},setup(){const t=an([]),e=an(""),n=an(!0),r=an(null),s=an(!1),a=an({partofspeech:"",def_english:"",def_chinese:""}),l=an(!1);return{words:t,searchQuery:e,exactSearch:n,word:r,showDialog:s,newDefinition:a,clearInput:()=>{e.value="",t.value=[],l.value=!1},openEditDialog:Y=>{s.value=!0,document.body.style.overflow="hidden",r.value={...Y,definitions:Y.definitions||[]}},EditWord:ql,closeDialog:()=>{s.value=!1,document.body.style.overflow="scroll"},searchWords:async()=>{l.value=!0;try{let Y=Dn.from("words").select("id, english, chinese, romaji, audioid, taiwanese, english_mknoll, definitions (defid, def_english, def_chinese)");n.value?Y=Y.or(`chinese.eq.${e.value},english.eq.${e.value},english_mknoll.eq.${e.value},romaji.eq.${e.value},taiwanese.eq.${e.value}`):Y=Y.or(`chinese.ilike.%${e.value}%,english.ilike.%${e.value}%,english_mknoll.ilike.%${e.value}%,romaji.ilike.%${e.value}%,taiwanese.ilike.%${e.value}%`);const{data:ae,error:ye}=await Y;console.log(ae),ye?console.error("Error fetching words:",ye.message):t.value=ae}catch(Y){console.error("Error in searchWords:",Y.message)}},searchExecuted:l,readChinese:Y=>Yu(Y),readEnglish:Y=>Xu(Y),resetVoice:()=>window.speechSynthesis.cancel()}}},ry={id:"supasearch"},iy={class:"search-header"},sy={class:"search-words"},oy={class:"search-options"},ay={class:"exact-search-container"},ly={class:"search-actions"},uy={class:"search-results-header"},cy={key:0,class:"results-count"},fy={key:0},hy={class:"results"},dy={class:"word"},py={key:0,class:"word-item word-taigi alphabetic"},gy={key:1,class:"word-item word-taigi alphabetic"},yy={key:2,class:"word-item word-chinese logographic"},my={key:0,class:"word-item word-english alphabetic"},vy={key:1,class:"word-item word-english alphabetic"},_y={class:"alphabetic"},by={class:"logographic"},wy=["onClick"];function ky(t,e,n,r,s,a){const l=Vi("AudioPlayerTaigi"),c=Vi("IconPlayAudio"),h=Vi("EditWord");return Be(),Xe("div",ry,[ee("div",iy,[ee("div",sy,[Ft(ee("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=y=>r.searchQuery=y),onKeyup:e[1]||(e[1]=kd((...y)=>r.searchWords&&r.searchWords(...y),["enter"])),placeholder:"Search for a word...",class:"text-field search-words-text-field",autocapitalize:"off"},null,544),[[Nt,r.searchQuery]]),r.searchQuery.length>0?(Be(),Xe("button",{key:0,class:"clear-search",onClick:e[2]||(e[2]=(...y)=>r.clearInput&&r.clearInput(...y))},e[7]||(e[7]=[ee("span",{class:"visually-hidden"},"Clear",-1)]))):mt("",!0)]),ee("div",oy,[ee("div",ay,[Ft(ee("input",{id:"exact-search",type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=y=>r.exactSearch=y),onChange:e[4]||(e[4]=(...y)=>r.searchWords&&r.searchWords(...y))},null,544),[[md,r.exactSearch]]),e[8]||(e[8]=ee("label",{for:"exact-search"},"Exact Search",-1))]),ee("div",ly,[ee("button",{class:"search-button",onClick:e[5]||(e[5]=(...y)=>r.searchWords&&r.searchWords(...y))},"Search")])]),ee("div",uy,[r.searchExecuted?(Be(),Xe("div",cy,[en(St(r.words.length)+" result",1),r.words.length!=1?(Be(),Xe("span",fy,"s")):mt("",!0),e[9]||(e[9]=en(" found "))])):mt("",!0)])]),ee("ul",hy,[(Be(!0),Xe(Ut,null,Qi(r.words,y=>(Be(),Xe("li",{key:y.id,class:"entry"},[ee("div",dy,[y.romaji!=null?(Be(),Xe("div",py,[en(St(y.romaji)+" ",1),y.audioid?(Be(),mr(l,{key:0,audioID:y.audioid},null,8,["audioID"])):mt("",!0)])):mt("",!0),y.taiwanese!=null?(Be(),Xe("div",gy,St(y.taiwanese),1)):mt("",!0),y.chinese!=null?(Be(),Xe("div",yy,[en(St(y.chinese)+" ",1),Tt(c,{onClick:p=>r.readChinese(y.chinese)},null,8,["onClick"])])):mt("",!0)]),y.english!=null?(Be(),Xe("div",my,[en(St(y.english)+" ",1),Tt(c,{onClick:p=>r.readEnglish(y.english)},null,8,["onClick"])])):mt("",!0),y.english_mknoll!=null?(Be(),Xe("div",vy,[en(St(y.english_mknoll)+" ",1),Tt(c,{onClick:p=>r.readEnglish(y.english_mknoll)},null,8,["onClick"])])):mt("",!0),ee("ul",null,[(Be(!0),Xe(Ut,null,Qi(y.definitions,p=>(Be(),Xe("li",{key:p.id},[ee("ul",null,[ee("li",_y,St(p.def_english),1),ee("li",by,St(p.def_chinese),1)])]))),128))]),ee("button",{class:"edit-word",onClick:p=>r.openEditDialog(y)}," Edit word ",8,wy)]))),128))]),Tt(h,{visible:r.showDialog,word:r.word,onClose:e[6]||(e[6]=y=>r.closeDialog())},null,8,["visible","word"])])}const xy=ai(ny,[["render",ky],["__scopeId","data-v-99663766"]]),Ey={key:0,class:"rw"},Sy={class:"rw-words"},Oy={class:"rw-words-main"},Py={key:0,class:"rw-word-item rw-taigi alphabetic"},Ty={key:1,class:"rw-word-item rw-taigi alphabetic"},Cy={key:2,class:"rw-word-item rw-chinese logographic"},Ay={key:0,class:"rw-word-item rw-english alphabetic"},jy={key:1,class:"rw-word-item rw-english alphabetic"},Ry={class:"logographic"},Iy={class:"alphabetic"},Dy={__name:"RandomWord",setup(t){const e=an(null),n=async()=>{try{const{count:a}=await Dn.from("words").select("*",{count:"exact",head:!0}),l=Math.floor(Math.random()*a),{data:c,error:h}=await Dn.from("words").select("*").range(l,l).limit(1);if(h)throw new Error(h.message);const y=c[0],{data:p,error:b}=await Dn.from("definitions").select("*").eq("wordid",y.id);if(b)throw new Error(b.message);y.definitions=p,e.value=y,console.log(e)}catch(a){console.error("Error fetching random word and definitions:",a.message)}};ia(n);const r=async a=>{Yu(a)},s=async a=>{Xu(a)};return(a,l)=>e.value?(Be(),Xe("div",Ey,[l[3]||(l[3]=ee("h4",null,"Random word",-1)),ee("div",Sy,[ee("div",Oy,[e.value.romaji?(Be(),Xe("div",Py,[en(St(e.value.romaji)+" ",1),e.value.audioid?(Be(),mr(Zu,{key:0,audioID:e.value.audioid},null,8,["audioID"])):mt("",!0)])):mt("",!0),e.value.taiwanese?(Be(),Xe("div",Ty,St(e.value.taiwanese),1)):mt("",!0),e.value.chinese?(Be(),Xe("div",Cy,[en(St(e.value.chinese)+" ",1),e.value.chinese?(Be(),mr(Gr,{key:0,onClick:l[0]||(l[0]=c=>r(e.value.chinese))})):mt("",!0)])):mt("",!0)]),e.value.english?(Be(),Xe("div",Ay,[en(St(e.value.english)+" ",1),e.value.english?(Be(),mr(Gr,{key:0,onClick:l[1]||(l[1]=c=>s(e.value.english))})):mt("",!0)])):mt("",!0),e.value.english_mknoll?(Be(),Xe("div",jy,[en(St(e.value.english_mknoll)+" ",1),e.value.english_mknoll?(Be(),mr(Gr,{key:0,onClick:l[2]||(l[2]=c=>s(e.value.english_mknoll))})):mt("",!0)])):mt("",!0)]),(Be(!0),Xe(Ut,null,Qi(e.value.definitions,(c,h)=>(Be(),Xe("div",{key:c.defid,class:"rw-definitions"},[ee("ul",null,[ee("li",Ry,St(c.def_chinese),1),ee("li",Iy,St(c.def_english),1)])]))),128)),ee("button",{onClick:n},"Next word")])):mt("",!0)}},$y=ai(Dy,[["__scopeId","data-v-32914035"]]),Ly={__name:"App",setup(t){const e=an(!1);return ia(async()=>{e.value=await In.words.count()>0&&await In.definitions.count()>0,console.log(In),e.value?console.log("Data is available in IndexedDB."):(console.log("No data in IndexedDB."),jd())}),(n,r)=>(Be(),Xe(Ut,null,[r[0]||(r[0]=ee("header",null,[ee("div")],-1)),ee("main",null,[Tt(xy),Tt($y)]),r[1]||(r[1]=ee("footer",null,null,-1))],64))}};Sd(Ly).mount("#app");export{Ju as g};
